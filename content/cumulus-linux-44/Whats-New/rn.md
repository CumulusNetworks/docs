---
title: Cumulus Linux 4.4 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "4.4"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-44" >}}
## 4.4.5 Release Notes
### Open Issues in 4.4.5

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3434315"></a> [3434315](#3434315) <a name="3434315"></a> <br /> | IPv6 BGP sessions in a VRF do not be establish with MD5 authentication. | 4.3.0-4.4.5 | |
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3419953"></a> [3419953](#3419953) <a name="3419953"></a> <br /> | If you remove a double tagged bridge port from a bridge when a different interface exists with the same port and virtual ID, you might see a segmentation fault and a <code>switchd</code> crash due to incorrect initialization when Cumulus Linux creates the second double-tagged interface. To work around this issue, make sure you remove the double-tagged interfaces from the bridge in the <code>/etc/network/interfaces</code> file. | 4.3.1-4.4.5 | |
| <a name="3413826"></a> [3413826](#3413826) <a name="3413826"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 4.2.1-4.4.5 | |
| <a name="3401121"></a> [3401121](#3401121) <a name="3401121"></a> <br /> | sFlow is not able to sample packets in the egress direction. To work around this issue, add the following to the <code>hsflowd.conf</code> file to enable egress sampling:<pre>samplingDirection=outpsample { group=1 }</pre> | 4.3.0-4.4.5 | |
| <a name="3389994"></a> [3389994](#3389994) <a name="3389994"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbor entries cannot synchronize between MLAG nodes. During this transitory upgrade state, neighbor entry resolution relies on data plane traffic being forwarded to the CPU so ARP can resolve the necessary neighbor entry before traffic can go through the fastpath. | 4.2.1-4.4.5 | |
| <a name="3387852"></a> [3387852](#3387852) <a name="3387852"></a> <br />None | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload because the <code>libyaml-0-2</code> and <code>python-yaml </code> packages are missing; these packages are required for <code>switchd</code> consistency checking. To work around this issue, reinstall the <code>libyaml-0-2</code> and <code>python-yaml </code>packages. | 4.4.0-4.4.5 | |
| <a name="3376798"></a> [3376798](#3376798) <a name="3376798"></a> <br /> | On Broadcom switches, Cumulus Linux does not create the hardware bridging domain for a traditional bridge with a VXLAN interface during <code>switchd</code> restart. The <code>/var/log/switchd.log</code> file includes the following exception logs shortly after <code>switchd</code> restarts:<pre>switchd&#91;30158&#93;: hal_bcm_l3.c:1617 find_egr_path_if_vxlan_overlay:vxlan overlay : nh PORT: port <#>, vlan <x>.<y> not yet ready</pre>MAC learning looks correct, but traffic does not flow as expected. | 3.7.0-3.7.16, 4.3.1-4.4.5 | |
| <a name="3368217"></a> [3368217](#3368217) <a name="3368217"></a> <br />None | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-4.4.5, 5.2.1-5.4.0 | |
| <a name="3366612"></a> [3366612](#3366612) <a name="3366612"></a> <br /> | The base version of the Linux kernel is updated to the v4.19.273 stable release, which includes fixes for several CVE issues. | 4.3.1-4.4.5 | |
| <a name="3364717"></a> [3364717](#3364717) <a name="3364717"></a> <br />None | On the Trident 2+ and Trident 3 switch when using VXLAN layer 2 VPNs and sending tunneled traffic where the inner IP header has a TTL of 1, the egress VTEP incorrectly forwards this traffic through the software path instead of the hardware data plane. This traffic is rate-limited to 100pps by default.  To work around this issue, ensure that the traffic traversing the layer 2 tunnel has an inner IP header TTL value that is more than 1.  If this workaround is not possible, contact Nvidia Support to determine other options. | 4.3.0-4.4.5 | |
| <a name="3358865"></a> [3358865](#3358865) <a name="3358865"></a> <br />None | When you reboot a Broadcom switch with a static default route configured, the route might be installed in hardware without a next hop. This results in forwarded traffic to the CPU and drops. To recover from this issue, remove the default route configuration and reapply it. To prevent this issue, before rebooting the switch, split the default route configuration into two routes as below:<pre>ip route 0.0.0.0/1 10.1.1.1ip route 128.0.0.0/1 10.1.1.1</pre> | 4.3.1-4.4.5 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-5.3.1 | 5.4.0-5.4.0|
| <a name="3334036"></a> [3334036](#3334036) <a name="3334036"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3334031"></a> [3334031](#3334031) <a name="3334031"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3333064"></a> [3333064](#3333064) <a name="3333064"></a> <br />None | The traffic control rules that the EVPN multihoming configuration adds to an interface are deleted when the <code>hsflowd</code> service restarts. The <code>hsflowd</code> service deletes the EVPN multihoming traffic control filters after you stop <code>hsflowd</code>, then adds back the <code>match-all</code> filters with the <code>psample</code> action; however, <code>hsflowd</code> does not add back the EVPN multihoming traffic control rules. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3293110"></a> [3293110](#3293110) <a name="3293110"></a> <br /> | You cannot set the NTF router flag (NTF_ROUTER) on neighbor entries from the user space. | 4.4.2-4.4.5 | |
| <a name="3292873"></a> [3292873](#3292873) <a name="3292873"></a> <br /> | When you run ZTP manually with the <code>ztp -R</code> command, then the <code>ztp -vb</code> command, the process stalls indefinitely while searching the local (USB) location and not using DHCP information. To work around this issue, run the <code>ztp -r</code> command with the URL of the ZTP server:<pre>&#91;Dec-08-17:09:58&#93; root&#64;switch:/home/cumulus#  ztp -r http://myztp.server.local/ztp</pre> | 4.4.2-4.4.5 | |
| <a name="3291548"></a> [3291548](#3291548) <a name="3291548"></a> <br />None | In EVPN deployments,  a buffer lockup for split or pre-split ports can occur on Spectrum-2 and Spectrum-3 switches. As result, traffic coming in on these ports is dropped in the RX buffer. To work around this issue, restart <code>switchd</code>. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="3288385"></a> [3288385](#3288385) <a name="3288385"></a> <br /> | On the EdgeCore AS7326-56X and AS7726-32X switch, the fan speed reports a minimum threshold in the logs. | 4.3.1-4.4.5 | |
| <a name="3288156"></a> [3288156](#3288156) <a name="3288156"></a> <br />None | When you configure a new VNI, the VLAN 1 VNI mapping is removed from the VXLAN device. To work around this issue, set the VNI interface mapped to VLAN 1 down and up again. | 4.4.3-5.1.0 | 5.2.0-5.4.0|
| <a name="3284719"></a> [3284719](#3284719) <a name="3284719"></a> <br /> | Certain EVPN multihoming show commands might cause the <code>bgpd</code> service to crash if you use the <code>json</code> flag and try to reference the default VRF by name. For example: <code>show bgp l2vpn evpn es-vrf json</code>. | 4.4.2-4.4.5 | |
| <a name="3270988"></a> [3270988](#3270988) <a name="3270988"></a> <br /> | After restarting <code>switchd</code> on the NVIDIA SN2100 switch, the FAN speeds are at one hundred percent. To work around this issue, restart the <code>hw-management</code> service. | 4.4.5-5.2.0 | 5.2.1-5.4.0|
| <a name="3269538"></a> [3269538](#3269538) <a name="3269538"></a> <br />None | The <code>cl-ecmpcalc</code> command prints the following error when the egress interface is a bond or SVI:<pre>ecmpcalc: will query hardwareTraceback (most recent call last):File “/usr/cumulus/bin/cl-ecmpcalc”, line 986, inisTrunkMbr, port = ecmp.getHdPort(hd_cmd)File “/usr/cumulus/bin/cl-ecmpcalc”, line 618, in getHdPortport = int(str4)ValueError: invalid literal for int() with base 10: ‘0t</pre> | 4.3.0-4.4.5 | |
| <a name="3269537"></a> [3269537](#3269537) <a name="3269537"></a> <br />None | When an FRR routing service (such as <code>bgpd</code>) becomes unresponsive, <code>watchfrr</code> might fail to stop and restart service. To work around this issue, restart FRR with the <code>systemctl restart frr</code> command. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3267353"></a> [3267353](#3267353) <a name="3267353"></a> <br /> | In a QinQ configuration, if the VLAN priority is a non-zero value, double-tagged packets are translated to triple-tagged packets.  | 4.3.1-4.4.5 | |
| <a name="3244740"></a> [3244740](#3244740) <a name="3244740"></a> <br />None | If you have a lot of inbound route maps that match lists with many regex statements, a large number of updates from the peer can cause the system to run out of memory. To work around this issue, reduce the number of regex matches in inbound route maps. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3240406"></a> [3240406](#3240406) <a name="3240406"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.4.2-4.4.5 | |
| <a name="3236366"></a> [3236366](#3236366) <a name="3236366"></a> <br />None | When you run docker commands, the command process might crash. The crash can occur during the <code>apt upgrade</code> process, where you can run docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running docker commands. | 4.4.5 | |
| <a name="3236365"></a> [3236365](#3236365) <a name="3236365"></a> <br />None | When you run docker commands, the command process might crash. The crash can occur during the <code>apt upgrade</code> process, where you can run docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running docker commands or   running <code>apt upgrade</code> to upgrade to Cumulus Linux 43.1. | 4.3.1-4.4.5 | |
| <a name="3236334"></a> [3236334](#3236334) <a name="3236334"></a> <br />None | Using ARP suppression with a very large number of interfaces might result in missing ARP entries on the local device or buffer underrun warnings in the <code>neighmgrd</code> log. | 4.3.0-4.4.5 | |
| <a name="3235956"></a> [3235956](#3235956) <a name="3235956"></a> <br /> | With certain triggers on Broadcom switches, such as adding or deleting a VNI or reloading the network, Cumulus Linux might consider the underlay routes as overlay routes. In this case, <code>switchd</code> allocates the overlay next hop, which is incorrect and might affect traffic forwarding. | 4.3.0-4.4.5 | |
| <a name="3235368"></a> [3235368](#3235368) <a name="3235368"></a> <br /> | When you try to configure VRF route leaking between many VRFs using multiple NCLU commands before running the <code>net commit</code> command, the commit fails. To work around this issue, configure VRF leaking one command at a time and run <code>net commit</code> after each command. | 4.4.4-5.2.1 | 5.3.0-5.4.0|
| <a name="3234031"></a> [3234031](#3234031) <a name="3234031"></a> <br />None | If BGP <code>neighbor <name> allowas-in</code> is set, negating with no <code>no neighbor <name> allowas-in</code> does not disable the setting. To work around this issue and disable the setting, restart the FRR service. | 4.2.1-5.2.1 | 5.3.0-5.4.0|
| <a name="3227677"></a> [3227677](#3227677) <a name="3227677"></a> <br /> | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-5.2.1 | 5.3.0-5.4.0|
| <a name="3226579"></a> [3226579](#3226579) <a name="3226579"></a> <br />None | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-4.4.5 | |
| <a name="3221470"></a> [3221470](#3221470) <a name="3221470"></a> <br />None | Under heavy system load, when many forwarding resources (routes, neighbors, ECMP groups, and so on) are removed from hardware, subsequent attempts to configure additional forwarding resources might fail and you see the following log message:<pre>sx_sdk: EMAD_RX_THREAD: EMAD transaction FW error</pre> | 4.4.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3216921"></a> [3216921](#3216921) <a name="3216921"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-3.7.16, 4.3.0-4.4.5 | |
| <a name="3211359"></a> [3211359](#3211359) <a name="3211359"></a> <br /> | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU – Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3209699"></a> [3209699](#3209699) <a name="3209699"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-4.3.0, 4.4.0-5.2.1 | 4.3.1, 5.3.0-5.4.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3168564"></a> [3168564](#3168564) <a name="3168564"></a> <br /> | In a large scale VXLAN configuration (for example if you have more than 8500 VLANs across ports), <code>switchd</code> might crash when you restart <code>clagd</code> or when all bonds go operationally down, then up<br />On Trident3 switches running Cumulus Linux 4.3.1, NVIDIA validates the VLAN scale limit for VXLAN deployments with 8500 VLANs across ports with LACP bypass disabled. | 4.3.1-4.4.5 | |
| <a name="3163845"></a> [3163845](#3163845) <a name="3163845"></a> <br /> | If bond slaves listed in the <code>/etc/network/interfaces</code> file are not in alphabetical order, the bond interface MAC address can change when you run <code>ifreload</code>. For example, if the bond slaves in the <code>/etc/network/interfaces</code> file are listed as <code>swp32 swp31</code>, the switch initially uses the MAC address for swp32 as the bond MAC address. An another <code>ifreload</code> can cause this to change to use the MAC address for swp31 as the bond MAC address, which can cause protocol issues, such as IPv6 link-local address changes. | 4.3.1-4.4.5 | |
| <a name="3157240"></a> [3157240](#3157240) <a name="3157240"></a> <br /> | When you try to query REDECN counters with the <code>mlxcmd</code> utility on a bond member port with the following commands, syslog reports an error<br /><pre>sudo /usr/lib/cumulus/mlxcmd roce counters --port <swp>sudo /usr/lib/cumulus/mlxcmd qos counters --clear --port <swp></pre> | 4.4.4-5.1.0 | 5.2.0-5.4.0|
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3135801"></a> [3135801](#3135801) <a name="3135801"></a> <br />None | Zebra rejects MAC IP updates from BGP when the MAC mobility sequence number that BGP sends is lower than the sequence number known to zebra<br />When the MAC mobility sequence that BGP knows legitimately lowers (due to narrow timing conditions during convergence or after rebooting an MLAG pair one VTEP at a time),  zebra rejects these updates and maintains a stale state. If the stale information that zebra uses points to the wrong VTEP address, traffic goes to the wrong VTEP and might drop. | 4.0.0-4.3.0, 4.4.0-4.4.5 | 3.7.16, 4.3.1|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3129819"></a> [3129819](#3129819) <a name="3129819"></a> <br /> | On the EdgeCore AS4610 switch, the <code>clagd</code> service loses communication after 198 days of uptime. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3115415"></a> [3115415](#3115415) <a name="3115415"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTime</code> OID does not correctly report the time since a BGP session goes down.  | 4.4.4-5.1.0 | 5.2.0-5.4.0|
| <a name="3113042"></a> [3113042](#3113042) <a name="3113042"></a> <br /> | After a fresh installation of Cumulus Linux, the package manager reports that the cumulus-archive-keyring package can be upgraded<br />This is a security fix made available after the 4.4.4 image release to change the repository URLs in the <code>/etc/apt/sources.list</code> file from http to https. | 4.4.4-4.4.5 | |
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR (for example: <code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>), then make subsequent VRF or route configuration changes, FRR might crash. To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-5.1.0 | 5.2.0-5.4.0|
| <a name="3112938"></a> [3112938](#3112938) <a name="3112938"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTransitions</code> OID always reports a value of 0. | 4.4.4-5.1.0 | 5.2.0-5.4.0|
| <a name="3098936"></a> [3098936](#3098936) <a name="3098936"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3093966"></a> [3093966](#3093966) <a name="3093966"></a> <br /> | On Broadcom switches, INPUT chain iptable rules filter IPv6 packets matching the rules.  | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3073668"></a> [3073668](#3073668) <a name="3073668"></a> <br /> | On the EdgeCore AS4610 switch, when you change the speed of any of the SFP+ ports, the other SFP+ ports flap. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3072613"></a> [3072613](#3072613) <a name="3072613"></a> <br /> | When  you delete a bond interface with NCLU, BGP peer group configuration is removed. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.4.0 | |
| <a name="3070672"></a> [3070672](#3070672) <a name="3070672"></a> <br /> | TACACS Command Authorization results in a traceback error and command is not executed | 4.4.0-4.4.5 | |
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.4.0|
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-4.4.5, 5.1.0-5.4.0 | |
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.4.0, 5.2.0-5.4.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="2971159"></a> [2971159](#2971159) <a name="2971159"></a> <br /> | On rare occasions, the link up time on optical media can be more than five seconds.  | 4.4.3-4.4.5 | |
| <a name="2965759"></a> [2965759](#2965759) <a name="2965759"></a> <br /> | On the EdgeCore AS4610-54T switch, the fan speed reports a minimum threshold in the logs. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.4.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="2947679"></a> [2947679](#2947679) <a name="2947679"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15-3.7.16, 4.4.2-4.4.5 | |
| <a name="2944167"></a> [2944167](#2944167) <a name="2944167"></a> <br /> | When you use NCLU commands to add a port to a bridge and the port already exists under the bridge, Cumulus Linux removes all other ports from the bridge. | 4.4.2-4.4.5 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2940051"></a> [2940051](#2940051) <a name="2940051"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16, 5.0.0-5.4.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2902013"></a> [2902013](#2902013) <a name="2902013"></a> <br /> | The NCLU commit  command adds a five second delay. | 4.2.1-4.4.5 | |
| <a name="2896450"></a> [2896450](#2896450) <a name="2896450"></a> <br />CM-31978 | On the Dell N3248PXE switch, fixed RJ45 interfaces with PoE neighbors can end up in <code>Paused</code> mode after a <code>switchd</code> restart, which blocks traffic on that interface. To work around this issue, restart <code>switchd</code> a second or third time until all interfaces are functioning correctly, or reboot the switch. | 4.3.0-4.4.5 | |
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2866080"></a> [2866080](#2866080) <a name="2866080"></a> <br /> | On the Maverick S4148T switch with MLAG, Cumulus Linux drops LACP, ARP, LLDP and BGP traffic. | 4.3.0-4.4.5 | |
| <a name="2862211"></a> [2862211](#2862211) <a name="2862211"></a> <br /> | On NVIDIA Spectrum ASICs in a layer 2 bridge scaled configuration (more than 800 VLANs), <code>clagd.service</code> enters a failed state after a reboot or a <code>switchd</code> restart<br />To work around this issue, load the port configuration in a staggered manner (groups of five downlink ports). | 3.7.12-3.7.15, 4.3.0, 4.4.2-4.4.5 | 3.7.16, 4.3.1, 5.0.0-5.4.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2853536"></a> [2853536](#2853536) <a name="2853536"></a> <br /> | MLAG between Cumulus Linux and Arista devices might result in some links being suspended by the Arista devices with the error <code>LACP partner validation failed</code><br />This happens when you use the same LACP port ID for more than one bond member on the Cumulus Linux switch<br />To work around this issue, run the <code>net add bond <name> bond mode balance-xor</code> command on the bond on the Cumulus Linux switch. For proper operation, you need to make the equivalent change on the device on the other side of the link. | 4.4.0-4.4.5 | |
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2841584"></a> [2841584](#2841584) <a name="2841584"></a> <br /> | After you upgrade Cumulus Linux on one of the MLAG peers, the bonds do not come up and the reason shows <code>anycast-ip-mismatch</code> even though there is no VXLAN configuration on the switch.  To work around this issue, configure an anycast IP address under the loopback interface on both switches in the MLAG pair. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2838905"></a> [2838905](#2838905) <a name="2838905"></a> <br /> | On Broadcom ARM switches, the NTP clock slowly drifts to a very high offset (over 500ms) and the clock is not able to synchronize. To work around this issue, use the <code>chrony</code> implementation of NTP instead of <code>ntpd</code>.  <code>chrony</code> synchronizes the system clock faster and with better accuracy<br />Instructions for using <code>chrony</code> are here : https://docs.nvidia.com/networking-ethernet-software/knowledge-base/Network-Solutions/Chrony-on-Cumulus-Linux/ | 4.3.0-4.4.5 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.5 | 5.0.0-5.4.0|
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2813563"></a> [2813563](#2813563) <a name="2813563"></a> <br /> | When you change the port speed with the NVUE <code>nv set interface <interface> link speed</code> command, then run <code>nv config apply</code>, the port is disabled. To work around this issue, run the <code>ifreload -a</code> command after you apply the port speed setting. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803428"></a> [2803428](#2803428) <a name="2803428"></a> <br /> | The <code>clagctl -v -j</code> and <code>net show clag verbose json</code> commands show incorrect output. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803044"></a> [2803044](#2803044) <a name="2803044"></a> <br /> | In an EVPN configuration with IP or MAC mobility, higher MM EVPN routes do not remove the old ARP entries during VIP migration between VTEP racks. | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2794766"></a> [2794766](#2794766) <a name="2794766"></a> <br /> | The Mellanox 3700C switch reports a slow memory leak in sx_sdk. Memory increases by about 240B/hour and does not free up. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2792750"></a> [2792750](#2792750) <a name="2792750"></a> <br /> | If you change the <code>clagd-vxlan-anycast-ip</code> setting on both MLAG peers at the same time, both peers use their unique VTEP address indefinitely. | 3.7.15-4.3.0, 4.4.0-4.4.5 | 4.3.1|
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2788780"></a> [2788780](#2788780) <a name="2788780"></a> <br /> | When you enable ARP and ND suppression and the switch forwards ARP and ND packets to the kernel, RX_DRP counters might increment but the packets are processed as normal. | 4.4.0-4.4.5 | |
| <a name="2781537"></a> [2781537](#2781537) <a name="2781537"></a> <br /> | In Cumulus VX, the iptables FORWARD chain does not count hits. To work around this issue, use <code> -t mangle -A PREROUTING</code> instead of <code>FORWARD</code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2763819"></a> [2763819](#2763819) <a name="2763819"></a> <br /> | When  you enable LACP bypass on a bond, traffic to static MAC addresses configured on the bond might not work when LACP bypass is enforced. | 4.4.0-4.4.5 | |
| <a name="2754791"></a> [2754791](#2754791) <a name="2754791"></a> <br /> | Remote MAC addreses in zebra are out of sync with <code>bgpd</code>. The zebra MAC addresses point to an incorrect (old) VTEP IP  address and the sequence number is one higher than in BGP.  | 3.7.14.2-3.7.16, 4.3.0-4.4.5 | |
| <a name="2753955"></a> [2753955](#2753955) <a name="2753955"></a> <br /> | On the Lenovo MSN3700 switch, if you try to configure an interface with a link speed of 200G, the configuration fails. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2747750"></a> [2747750](#2747750) <a name="2747750"></a> <br /> | Links connected between a Spectrum 2 switch configured for warm boot and Spectrum 3 switches configured for cold boot might not come up when the switches are booted. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2739398"></a> [2739398](#2739398) <a name="2739398"></a> <br /> | Cumulus Linux does not support a bond or bond member as a SPAN destination. | 4.4.0-4.4.5 | 4.3.1|
| <a name="2738040"></a> [2738040](#2738040) <a name="2738040"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.5 | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="2732605"></a> [2732605](#2732605) <a name="2732605"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0, 4.4.0-4.4.5 | 4.3.1, 5.0.0-5.4.0|
| <a name="2728207"></a> [2728207](#2728207) <a name="2728207"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728206"></a> [2728206](#2728206) <a name="2728206"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.4.0|
| <a name="2711533"></a> [2711533](#2711533) <a name="2711533"></a> <br /> | On the AS7326-56X switch, the link lights for 25G ports configured to work at 1G do not illuminate. | 4.2.1-4.4.5 | |
| <a name="2710208"></a> [2710208](#2710208) <a name="2710208"></a> <br /> | The <code>net show bgp neighbor</code> command output shows the BFD status as UP even when the BGP neighbor is not established, such as when the interface is down. | 4.2.1-4.4.5 | |
| <a name="2700767"></a> [2700767](#2700767) <a name="2700767"></a> <br /> | Following an event that causes the peerlink bond MAC address to change, such as a slave port state change, MLAG interfaces might be suspended due to a peer IP mismatch. This behavior is seen when you use a MLAG peer IP linklocal configuration. | 3.7.12-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2685036"></a> [2685036](#2685036) <a name="2685036"></a> <br /> | When the PIM RP configuration includes an anycast IP address and the route to that anycast IP address changes while joined to a multicast stream, you might receive the multicast stream from both the old and the new anycast source. | 4.4.0-4.4.5 | |
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2669858"></a> [2669858](#2669858) <a name="2669858"></a> <br />CM-32169 | OpenSSH is vulnerable to CVE-2020-14145, as described in https://www.fzi.de/fileadmin/user_upload/2020-06-26-FSA-2020-2.pdf.  <br />This is an information leak in algorithm negotiation that can allow man-in-the-middle attacks on initial connection attempts without a previously stored server host key on the client. If desired, mitigation using UpdateHostKeys and HostKeyAlgorithms is also given in that paper. | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2639303"></a> [2639303](#2639303) <a name="2639303"></a> <br /> | When you use NCLU to delete a bond, then add an interface, NCLU reports an error similar to the following:<pre>ERROR: 'NoneType' object has no attribute 'conf_key_value_multiple_values'See /var/log/netd.log for more details.</pre> | 4.3.0-4.4.5 | |
| <a name="2618227"></a> [2618227](#2618227) <a name="2618227"></a> <br /> | The NCLU <code>net show bridge macs</code> command displays permanent MAC addresses for trunked VLANs. | 4.3.0-4.4.5 | |
| <a name="2606326"></a> [2606326](#2606326) <a name="2606326"></a> <br /> | If the IGMP and MLD querier is configured on only one of the peer switches in an MLAG configuration, when IGMP packets are sent to the peer with no querier, IGMP leave messages have no effect.  | 4.4.0-4.4.5 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2596458"></a> [2596458](#2596458) <a name="2596458"></a> <br /> | When <code>bridge.unreg_v6_mcast_prune = TRUE</code> is configured in the <code>/etc/cumulus/switchd.conf</code> file, traffic destined to IPv6 link-local multicast addresses might not be flooded within the bridge<br />To work around this issue, disable pruning for IPv6 multicast by setting <code>bridge.unreg_v6_mcast_prune = FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file. | 4.4.0-4.4.5 | |
| <a name="2574368"></a> [2574368](#2574368) <a name="2574368"></a> <br /> | When you run the NCLU <code>net add bgp maximum-paths ibgp</code> command, FRR restarts unexpectedly<br />To work around this issue, either use the <code>vtysh</code> commands or edit the <code>/etc/frr/frr.conf</code> file directly, then run <code>systemctl reload frr</code>. | 4.1.1-4.4.5 | |
| <a name="2556772"></a> [2556772](#2556772) <a name="2556772"></a> <br />CM-33391 | The <code>net show clag verify-vlans</code> command fails with the following log: <br /><pre><br />WARNING: '/usr/bin/clagctl verifyvlans' failed due to:<br />Command '&#91;'/usr/bin/clagctl', 'verifyvlans'&#93;' returned non-zero exit status 1<br /></pre><br />To work around this issue, run the <code>/usr/bin/clagctl verifyvlans</code> command or the <code>net show clag verbose</code> command. | 4.2.1-4.4.5 | |
| <a name="2556369"></a> [2556369](#2556369) <a name="2556369"></a> <br />CM-33196 | If you use NCLU to configure an ACL for eth0, you can't designate it as an INPUT rule; the rule is automatically created as a FORWARD rule in the <code>/etc/cumulus/acl/policy.d/50_nclu_acl.rules</code> file.<br />To work around this issue, manually create an ACL in the <code>/etc/cumulus/acl/policy.d/</code> file with "-A INPUT -i eth0". | 4.2.1-4.4.5 | |
| <a name="2556082"></a> [2556082](#2556082) <a name="2556082"></a> <br />CM-33050 | The NCLU <code>net del vrf</code> command does not delete a numbered VRF. For example:<br /><pre><br />cumulus&#64;leaf01:~$ net del vrf 55<br />ERROR: Command not found<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2556081"></a> [2556081](#2556081) <a name="2556081"></a> <br />CM-33049 | You cannot set the time zone can with NCLU commands. | 4.1.1-4.4.5 | |
| <a name="2555981"></a> [2555981](#2555981) <a name="2555981"></a> <br />CM-32979 | In BGP, to enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2555873"></a> [2555873](#2555873) <a name="2555873"></a> <br />CM-32914 | On Mellanox switches, egress ACLs with VLAN keys do not filter layer 2 multicast or broadcast traffic. | 4.3.0-4.4.5 | |
| <a name="2555763"></a> [2555763](#2555763) <a name="2555763"></a> <br />CM-32861 | The NCLU <code>net del bgp neighbor</code> command does not delete the neighbor and displays an error similar to the following:<br /><pre><br />ERROR: --- /run/nclu/frr/frr.conf.scratchpad.baseline   2021-01-04 17:23:59.250463331 +0000<br />+++ /run/nclu/frr/frr.conf.scratchpad    2021-01-04 17:25:59.213673980 +0000<br /></pre><br />To work around this issue, use the FRR command to delete a neighbor. | 4.3.0-4.4.5 | |
| <a name="2555613"></a> [2555613](#2555613) <a name="2555613"></a> <br />CM-32786 | The <code>net show configuration commands</code> command incorrectly displays the NCLU syntax to disable IPv6 forwarding on interfaces. For example:<br /><pre><br /># net show configuration commands<br />net add vlan 1 ip6-forward off <br /></pre><br />The correct NCLU command to disable IPv6 forwarding is <code>net add vlan 1 ipv6 forward off</code> (without the hyphen). | 4.2.1-4.4.5 | |
| <a name="2555318"></a> [2555318](#2555318) <a name="2555318"></a> <br />CM-32612 | If you try to enable BGP graceful restart when it is already enabled, you see an error similar to the following in the <code>frr.log</code> file:<br /><pre><br />2020-12-07T19:20:26.004333+00:00 cumulus bgpd&#91;4954&#93;: VRF default: Handle GR command GLOBAL_GR_CMD, current GR state GLOBAL_GR, new GR state GLOBAL_INVALID<br /></pre><br />This error has no functional impact. | 4.3.0-4.4.5 | |
| <a name="2555175"></a> [2555175](#2555175) <a name="2555175"></a> <br />CM-32528 | Control Plane Traffic (example - BGP peering from Leaf to Spine) goes down on Leaf due to Hold Down Timer Expiration of peer following prolonged link flaps on downlinks when vxlan enabled vlans are carried on the flapping link. | 3.7.15-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554986"></a> [2554986](#2554986) <a name="2554986"></a> <br />CM-32416 | The <code>ethtool</code> utility doesn't contain the latest values, as a result the <code>Revision Compliance</code> field shows <code>Unallocated</code>.  | 4.2.1-4.4.5 | |
| <a name="2554812"></a> [2554812](#2554812) <a name="2554812"></a> <br />CM-32296 | If the RMAC of a layer 3 SVI changes, the <code>show vrf vni</code> command is not updated with the new value. However, the new RMAC is seen in the <code>show evpn vni</code> command and is present on self-originated EVPN routes. | 4.2.1-4.4.5 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2554709"></a> [2554709](#2554709) <a name="2554709"></a> <br />CM-32217 | The IP address specified in the <code>ip pim use-source</code> command configured on the loopback interface should be inherited by unnumbered interfaces during their Primary IP address selection process.  If <code>ip pim use-source</code> is configured on the loopback after an unnumbered interface has already selected their Primary IP address, the unnumbered interface does not update its Primary IP address to be the new use-source value until after there is a netlink update for that interface.<br />To work around this issue, configure <code>ip pim use-source</code> on each unnumbered interface directly or ensure <code>ip pim use-source</code> is applied to the loopback before other unnumbered interfaces are enabled for PIM. | 3.7.13-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554670"></a> [2554670](#2554670) <a name="2554670"></a> <br />CM-32194 | When you have a large number of ACLs, the <code>cl-acltool -L ip</code> and <code>cl-resource-query</code> commands take a long time to complete. | 4.3.0-4.4.5 | |
| <a name="2554582"></a> [2554582](#2554582) <a name="2554582"></a> <br />CM-32144 | On switches with the Maverick ASIC, control traffic is dropped due to receive buffering. | 4.2.0-4.4.5 | |
| <a name="2554533"></a> [2554533](#2554533) <a name="2554533"></a> <br />CM-32112 | On the ARM platform, NTP peer associations slowly increase to larger offsets (~500ms). | 4.0.0-4.4.5 | |
| <a name="2554466"></a> [2554466](#2554466) <a name="2554466"></a> <br />CM-32068 | Kernel routes added by <code>iproute2</code> are missing in FRR after an interface flap.<br />To work around this issue, configure a static route in FRR.<br /> | 4.2.1-4.4.5 | |
| <a name="2554222"></a> [2554222](#2554222) <a name="2554222"></a> <br />CM-31921 | The NCLU command to enable bridge learning fails.<br />As a work around, enable bridge learning in the <code>/etc/network/interface</code> file. For example:<br /><pre><br />auto vni-30<br />iface vni-30<br />    vxlan-id 30<br />    bridge-access 30<br />    bridge-arp-nd-suppress on<br />    bridge-learning on<br />    vxlan-local-tunnelip 10.10.10.1<br />    mstpctl-bpduguard yes<br />    mstpctl-portbpdufilter yes<br />    mtu 9166<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2554218"></a> [2554218](#2554218) <a name="2554218"></a> <br />CM-31917 | MLAG packets received on the peer link are dropped instead of routed. | 4.2.0-4.4.5 | |
| <a name="2554202"></a> [2554202](#2554202) <a name="2554202"></a> <br />CM-31904 | The output of the <code>net show commit</code> command does not show the last commit or the specified commit number but is empty instead. | 4.2.1-4.4.5 | |
| <a name="2553989"></a> [2553989](#2553989) <a name="2553989"></a> <br />CM-31759 | Default policer configured for LACP as an INPUT chain rule in 00control_plane.rules is meant to protect CPU from an LACP storm. When LACP storm is originating out of a single bond or bond member interface in a switch with multiple bond interfaces, there is a possibility of other LACP bond interface(s) going down. | 4.2.1-4.4.5 | |
| <a name="2553887"></a> [2553887](#2553887) <a name="2553887"></a> <br />CM-31700 | When using TACACS+ configured with a DEFAULT user providing privilege level lower than 16, TACACS+ configured users with privilege level 16 access might not be able to run privilege level 16 NCLU commands, such as <code>net add</code> and <code>net del</code> and see an error similar to the following:<br /><pre><br />ERROR: You do not have permission to execute that command.<br /></pre><br />To work around this issue, remove the DEFAULT user from the TACACS+ server. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553677"></a> [2553677](#2553677) <a name="2553677"></a> <br />CM-31605 | When you configure an SNMPv3 user with the <code>net-snmp-config</code> configuration command from the <code>libsnmp-dev</code> package, you get an error message similar to the one below:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ sudo net-snmp-config --create-snmpv3-user -a shaauthpass -x aesprivpass -A SHA -X AES userSHAwithAES<br />adding the following line to /var/lib/snmp/snmpd.conf:           <br />   createUser userSHAwithAES SHA "shaauthpass" AES "aesprivpass"       <br />adding the following line to /snmp/snmpd.conf:                           <br />   rwuser userSHAwithAES                                           <br />touch: cannot touch ‘/snmp/snmpd.conf’: No such file or directory<br />/usr/bin/net-snmp-create-v3-user: 144: /usr/bin/net-snmp-create-v3-user: cannot create /snmp/snmpd.conf: Directory nonexistent<br /></pre><br />To work around this issue, use the NCLU command to configure SNMPv3 user parameters; for example:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ net add snmp-server username user999 auth-md5 user999password encrypt-des user999encryption<br /></pre><br />Alternatively, directly edit the <code>/etc/snmp/snmpd.conf</code> file as described in the documentation. | 3.7.13-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553237"></a> [2553237](#2553237) <a name="2553237"></a> <br />CM-31418 | The default NTP configuration is to use eth0 as the NTP source interface. In Cumulus Linux 4.0 and later, eth0 is in the management VRF by default; therefore the NTP service runs automatically in the management VRF. <br />NVIDIA does not recommend running NTP with a source interface other than eth0 as this can expose a security vulnerability. Changing the NTP source interface name with NCLU to a non-management VRF interface might result in NTP not functioning because the NTP service is still running in the management VRF.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2553116"></a> [2553116](#2553116) <a name="2553116"></a> <br />CM-31357 | When you manually set the link speed or duplex mode with ethtool to an unsupported value, then run a TDR check against the interface, you encounter a <code>switchd</code> service heartbeat failure.<br />To work around this issue, reboot the switch to clear the condition. Avoid setting the interface speed or duplex mode directly with ethtool. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553015"></a> [2553015](#2553015) <a name="2553015"></a> <br />CM-31300 | If a neighbour contains a special character in PortID for LLDP, the <code>net show interface</code> command does not display the LLDP information or the command might fail. | 3.7.10-3.7.16, 4.2.0-4.4.5 | |
| <a name="2552691"></a> [2552691](#2552691) <a name="2552691"></a> <br />CM-31111 | On the EdgeCore AS4610 switch, the eth0 interface remains down when physically connected to a 1G interface.<br />To work around this issue, configure the link speed to 1000 and set auto-negotiation on for the eth0 interface, then flap eth0 with the <code>ip link set eth0 down/up</code> command to bring up the port. | 4.2.0-4.4.5 | |
| <a name="2552453"></a> [2552453](#2552453) <a name="2552453"></a> <br />CM-30987 | On the Mellanox switch, RoCE with PFC configuration is not applied to all ports in hardware when a range is used in the <code>traffic.conf</code> file.<br />To work around this issue, use NCLU to configure RoCE with PFC or list individual ports in the <code>traffic.conf</code> file. | 4.2.0-4.4.5 | |
| <a name="2552309"></a> [2552309](#2552309) <a name="2552309"></a> <br />CM-30889 | The following messages are seen on an Edgecord Minipack-AS8000 running Cumulus Linux 4.2.0:<br /><br /><pre><br />Hal_bcm_console.c:294 MMU config profile 0 prigroup 0: Service Pool 0 has no space and cannot be assigned<br />Hal_bcm_console.c:294 MMU config port 0 idx 0: Pool 0 has no space and cannot be assigned<br /></pre><br /><br />These messages are for internal validation purposes only and can be safely ignored.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2552294"></a> [2552294](#2552294) <a name="2552294"></a> <br />CM-30879 | NCLU restarts FRR when removing a BGP VRF IPv4 aggregate-address command.<br />  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2552266"></a> [2552266](#2552266) <a name="2552266"></a> <br />CM-30863 | OpenSSH scp is vulnerable to CVE-2020-15778, where clients that have authorized access to the SSH server can execute commands on the server by copying maliciously named files.<br />The two scenarios where an exploit may be useful to an attacker:<br />-The user is authorized to <code>scp</code> but not <code>ssh</code> (based on the <code>command</code> option in the <code>authorized_keys</code> file), so this vulnerability can allow executing a remote command on the target computer when not authorized to do so.<br />-An attacker plants a maliciously named file in a directory tree that someone later uses <code>scp -r</code> to copy over to the target computer.<br />Be aware that restricting users to <code>scp</code> by using the <code>command</code> option in the <code>authorized_keys</code> file is not effective in preventing those users from executing arbitrary commands on the server.<br />If you want to use <code>scp -r</code> to copy directory trees, avoid copying directory trees to which attackers may have added maliciously-named files. Archiving the directory tree with <code>tar</code>, <code>zip</code>, or a similar program, then copying the archive over to be extracted on the server avoids having to use <code>scp -r</code> altogether. In addition, OpenSSH provides <code>sftp</code>, which you can use instead of <code>scp</code> to copy files.<br />To disable scp completely, use <code>/bin/chmod 0 /usr/bin/scp</code> . | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551666"></a> [2551666](#2551666) <a name="2551666"></a> <br />CM-30473 | If you modify an interface name, then reuse the previous interface name for a different VLAN, the <code>ifreload -a</code> command generates an error similar to the following:<br /><pre><br />warning: <interface-name>: interface not recognized - please check interface configuration<br /></pre><br /> | 4.1.0-4.4.5 | |
| <a name="2551578"></a> [2551578](#2551578) <a name="2551578"></a> <br />CM-30422 | When you configure a bridge in the <code>/etc/network/interfaces</code> file, then try to reconfigure the bridge to be a VRF interface with the same name, <code>ifreload</code>/<code>ifup</code> commands fail with an <code>invalid table id</code> or <code>unable to get vrf table id</code> error. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551565"></a> [2551565](#2551565) <a name="2551565"></a> <br />CM-30414 | If you toggle VRRP priority values between VRRP routers, then restart <code>switchd</code>, a few IPv6 VRRP instances might not converge. As a result, both the VRRP routers act as master routers for the impacted IPv6 VRRP instances. IPv4 VRRP instances are not affected<br />To work around this issue, remove, then add back the VRRP configuration with NCLU or vtysh commands. | 3.7.13-3.7.16, 4.2.0-4.4.5 | |
| <a name="2551335"></a> [2551335](#2551335) <a name="2551335"></a> <br />CM-30312 | When TACACS+ is configured and the management VRF is enabled, users with privilege level 13 are prevented from running <code>ip</code> and <code>cat</code> commands. | 4.0.0-4.4.5 | |
| <a name="2551305"></a> [2551305](#2551305) <a name="2551305"></a> <br />CM-30296 | The <code>net show configuration</code> command provides the wrong <code>net add</code> command for ACL under the VLAN interface.<br /><br /> | 3.7.12-3.7.16, 4.1.0-4.4.5 | |
| <a name="2551273"></a> [2551273](#2551273) <a name="2551273"></a> <br />CM-30280 | On a Mellanox SN2010 switch, the Locator LED is on after you upgrade Cumulus Linux. | 4.1.0-4.4.5 | |
| <a name="2551221"></a> [2551221](#2551221) <a name="2551221"></a> <br />CM-30255 | When span-to-cpu is enabled on L3 swp interface with an IP address configured, packets with destination IP as switchport's IP address don't reach switchport. To capture packets directed towards switcport's IP, disable span-to-cpu and use tcpdump on swichport instead. | 4.2.0-4.4.5 | |
| <a name="2551111"></a> [2551111](#2551111) <a name="2551111"></a> <br />CM-30230 | If a remote EVPN Sticky MAC &#91;Static MAC address&#93; is unexpectedly learned dynamically on a local interface, the selected entries in zebra and BGP are in an inconsistent state.<br />zebra increments the local MAC mobility sequence number and considers the MAC address to be local, but BGP maintains the remote Sticky MAC as the best path selected. This results in zebra installing the local MAC address and BGP not updating the route for the MAC address. | 4.0.0-4.4.5 | |
| <a name="2550974"></a> [2550974](#2550974) <a name="2550974"></a> <br />CM-30195 | On the Dell S3000 switch, after installing the Cumulus Linux 4.1.1 disk image without a license, the switch sends a link beat if a remote host port is configured. | 3.7.11-3.7.16, 4.1.1-4.4.5 | |
| <a name="2550793"></a> [2550793](#2550793) <a name="2550793"></a> <br />CM-30101 | The NCLU <code>net show bridge spanning-tree</code> command displays the aging timer incorrectly.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550713"></a> [2550713](#2550713) <a name="2550713"></a> <br />CM-30052 | Configuring the subinterface of a VXLAN uplink under another traditional bridge, which also has the VXLAN VNI enslaved, causes <code>switchd</code> to use high CPU due to very frequent VXLAN tunnel sync events.<br />To work around this issue, do not enslave the subinterface of a VXLAN layer 3 uplink under a traditional bridge in a VXLAN configuration. | 4.1.1-4.4.5 | |
| <a name="2550642"></a> [2550642](#2550642) <a name="2550642"></a> <br />CM-30006 | ACLs with SPAN target and in-interface as bond member are not supported on Spectrum-based switches  | 4.2.0-4.4.5 | |
| <a name="2550444"></a> [2550444](#2550444) <a name="2550444"></a> <br />CM-29872 | Tab completion for the <code>net show rollback description</code> command returns information about a snapshot instead of context help.<br />To work around this issue, run the <code>net show commit history</code> command to find descriptions instead of the <code>net show rollback description</code> command. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550443"></a> [2550443](#2550443) <a name="2550443"></a> <br />CM-29871 | The <code>net show rollback description <string></code> command returns an error even if the string matches a commit description.<br />To work around this issue, look for your string in the output of the <code>net show commit history</code> command (or grep for it there) instead. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550243"></a> [2550243](#2550243) <a name="2550243"></a> <br />CM-29759 | When you use <code>nginx</code> and <code>restserver</code> in management VRF to provide a REST API for the switch, <code>nginx</code> starts but <code>restserver</code> fails to start.<br />To work around this issue, comment out the <code>Requires=</code> line in the <code>/lib/systemd/system/restserver.service</code>. For example:<br /><pre><br />#Requires=nginx.service restserver.socket<br /></pre> | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550056"></a> [2550056](#2550056) <a name="2550056"></a> <br />CM-29652 | The ACCTON-DIAG option under the Cumulus Linux GRUB menu does not work. When you select this option, you see the following error:<br /><pre><br />error: invalid signature.<br />Press any key to continue...<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549925"></a> [2549925](#2549925) <a name="2549925"></a> <br />CM-29594 | When you run an Ansible script to replace the <code>/etc/network/interfaces</code> file, then run the <code>ifreload -a</code> command, you see errors similar to the following:<br /><pre><br />error: swp1s1.2: netlink: cannot set link swp1s1.2 up: operation failed with 'Network is down' (100)<br />warning: cmd '/bin/ip addr del 10.0.0.1/24 dev eth0' failed: returned 2 (RTNETLINK answers: Cannot assign requested address<br /></pre><br />To work around this issue,  run the <code>ifreload -a</code> command a second time. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549872"></a> [2549872](#2549872) <a name="2549872"></a> <br />CM-29562 | If you have an SVI with multiple VRR IP addresses and try to delete one of the VRR configurations, <code>net commit</code> or <code>ifreload -a</code> returns an error. | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549782"></a> [2549782](#2549782) <a name="2549782"></a> <br />CM-29519 | The JSON format output of the <code>net show bgp l2vpn evpn summary</code> command shows the incorrect neighbour state.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549731"></a> [2549731](#2549731) <a name="2549731"></a> <br />CM-29492 | When you create SPAN or ERSPAN rules in ebtables, the action fails to install if it is not in lowercase. Make sure that the SPAN or ERSPAN action is all lowercase; for example:<br /><pre><br />&#91;ebtables&#93;<br />-A FORWARD --in-interface swp10 -j span --dport swp1<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549392"></a> [2549392](#2549392) <a name="2549392"></a> <br />CM-29319 | When you configure an RD or RT with NCLU, you see duplicate VNI stanzas in the <code>/etc/frr/frr.conf</code> file. <br />To work around this issue, manually edit the <code>etc/frr/frr.conf</code> file to define <code>advertise-all-vni</code> before the RD or RT configuration within the l2vpn EVPN address family, then reload the FRR service with the <code>sudo systemctl reload frr</code> command. | 4.1.0-4.4.5 | |
| <a name="2548924"></a> [2548924](#2548924) <a name="2548924"></a> <br />CM-29146 | On the EdgeCore Minipack AS8000, storm control does not restrict unknown unicast, broadcast, or multicast traffic. | 4.1.1-4.4.5 | |
| <a name="2548657"></a> [2548657](#2548657) <a name="2548657"></a> <br />CM-29035 | When you upgrade Cumulus Linux on the EdgeCore AS7726-32X or AS7326-56X switch, you might see firmware errors similar to the following:<br /><pre><br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso5.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3.bin for module tg3<br /></pre><br />You can safely ignore these error messages. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548579"></a> [2548579](#2548579) <a name="2548579"></a> <br /> | The following security vulnerability has been announced:<br />CVE-2020-10531: An issue was discovered in International Components for Unicode (ICU) for C/C++ through 66.1. An integer overflow, leading to a heap-based buffer overflow, exists in the UnicodeString::doAppend() function in common/unistr.cpp. | 3.7.12, 4.0.0-4.4.5 | 3.7.13-3.7.16|
| <a name="2548315"></a> [2548315](#2548315) <a name="2548315"></a> <br />CM-28816 | The following security advisory has been announced for bash: <br />CVE-2019-18276 Qualys scan QID 372268 setuid vulnerability<br />When bash or bash scripts are run setuid, bash is supposed to drop privileges, but does so incorrectly, so that an attacker with command access to the shell can use <code>enable -f</code> for runtime loading of a new builtin that calls <code>setuid()</code> to regain dropped privileges.<br />To work around this issue, do not make bash or bash scripts <code>setuid</code>. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548310"></a> [2548310](#2548310) <a name="2548310"></a> <br />CM-28812 | When the system boots, we might see " cumulus systemd-udevd&#91;7566&#93;: Process '/usr/bin/hw-management-thermal-events.sh add thermal_zone /sys /devices/virtual/thermal/thermal_zone25 thermal_zone25' failed with exit code 1" errors. <br /><br />These errors are result of  user space acting on kernel events a bit slow. The mlxsw_minimal driver is added during kernel boot; An SDK reset causes the driver to be deleted and re-instantiated; User space handler for thermal zone add sees the add first; But the underlying device is deleted before it can act on it. This situation is rectified as the mlxsw_minimal driver is re-instantiated later; <br /> | 4.1.0-4.4.5 | |
| <a name="2548260"></a> [2548260](#2548260) <a name="2548260"></a> <br />CM-28770 | The <code>net add routing route-map <name> permit <seq> set community <comm></code> command does not add the set statement into the <code>/etc/frr/frr.conf</code> file. | 4.0.0-4.4.5 | |
| <a name="2548243"></a> [2548243](#2548243) <a name="2548243"></a> <br />CM-28754 | On switches with the Trident2+ ASIC, adding SPAN rules disables PBR rules. | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548117"></a> [2548117](#2548117) <a name="2548117"></a> <br />CM-28659 | In OVSDB traditional bridge mode, adding or removing a VLAN binding causes a traffic forwarding outage for around 20 seconds or more on adjacent VLAN bindings. Cumulus Linux does not support _traditional_ bridge mode with VMware NSX. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548062"></a> [2548062](#2548062) <a name="2548062"></a> <br />CM-28622 | When ports are split to 4x25G, RS FEC needs to explicitly configured on both ends (especially when interoperating with non-Mellanox switches). | 4.1.0-4.4.5 | |
| <a name="2548044"></a> [2548044](#2548044) <a name="2548044"></a> <br />CM-28608 | When a remote VTEP withdraws a type-3 EVPN route, Cumulus Linux purges all MAC address and neighbor entries installed in the corresponding layer 2 VNI through that remote VTEP from the local EVPN and kernel forwarding tables. This purge occurs even if the remote VTEP does not withdraw type-2 routes carrying the MAC address or neighbor entries. The entries stay missing from the local EVPN and kernel forwarding tables until BGP updates the MAC address and neighbor. | 3.7.12-3.7.15, 4.0.0-4.4.5 | 3.7.16|
| <a name="2547903"></a> [2547903](#2547903) <a name="2547903"></a> <br />CM-28506 | CVE-2019-19956: xmlParseBalancedChunkMemoryRecover in parser.c in libxml2 before 2.9.10 has a memory leak related to newDoc->oldNs<br />Vulnerable: 2.9.4+dfsg1-7Fixed: 2.9.4+dfsg1-7+deb10u1 | 4.0.0-4.4.5 | |
| <a name="2547890"></a> [2547890](#2547890) <a name="2547890"></a> <br />CM-28497 | QinQ across VXLAN on a traditional bridge does not work. | 4.1.0-4.4.5 | |
| <a name="2547782"></a> [2547782](#2547782) <a name="2547782"></a> <br />CM-28441 | If a LLDP neighbor advertises a <code>PortDescr</code> that contains commas, <code>ptmctl -d</code> splits the string on the commas and misplaces its components in other columns. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547706"></a> [2547706](#2547706) <a name="2547706"></a> <br />CM-28397 | When you configure ganged ports in the <code>ports.conf</code> file, the change does not take effect after you restart <code>switchd</code>. <br />To work around this issue, reboot the switch. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547405"></a> [2547405](#2547405) <a name="2547405"></a> <br />CM-28226 | When you restart the <code>hsflowd</code> service, you see a <code>systemd</code> warning message similar to the following:<br /><pre><br />Warning: The unit file, source configuration file or drop-ins of hsflowd&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload'.<br /></pre> | 4.0.0-4.4.5 | |
| <a name="2547120"></a> [2547120](#2547120) <a name="2547120"></a> <br />CM-28076 | After you hot swap a PSU, the <code>decode-syseeprom -t psuX</code> command shows the old PSU information (such as the serial number), until you run the <code>decode-syseeprom --init</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546991"></a> [2546991](#2546991) <a name="2546991"></a> <br />CM-28003 | The FRR service does not provide a way for automation to know if the configuration applied properly.<br />To work around this issue, execute the <code>vtysh -f <file></code> command in the automation file before starting the FRR service to validate the functional configuration and return an error code. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546895"></a> [2546895](#2546895) <a name="2546895"></a> <br />CM-27957 | If you have configured a higher number of ports and VLANs (ports x VLANs) or the switch is a lower-powered (CPU) platform, the <code>switchd</code> service might fail to send a <code>systemd keepalive</code> within the watchdog timeout value (2 minutes by default) and you see an error similar to the following:<pre>bq. systemd&#91;1&#93;: switchd.service watchdog timeout (limit 2min)!</pre>To workaround this issue, either reduce the number of configured interfaces and, or VLANs, or increase the <code>systemd</code> timeout for <code>switchd.service</code><br />To increase the <code>systemd</code> timeout:1.Edit the <code>/etc/systemd/system/switchd.service.d/override.conf</code> file and increase the <code>WatchdogSec</code> parameter<br />2.Restart the <code>switchd</code> service with the <code>sudo systemctl restart switchd.service</code> command<br /><code>systemd</code> attempts to restart the <code>switchd</code> service automatically (after the watchdog timeout). If the restart fails multiple times in a short time period, run the <code>sudo systemctl reset-failed</code> command followed by the <code>sudo systemctl restart switchd</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546874"></a> [2546874](#2546874) <a name="2546874"></a> <br />CM-27950 | On the Dell S5232F, S5248F, S5296F, and S3048 switch, using the <code>poweroff</code> or <code>halt</code> commands does not fully power off the switch. | 4.0.0-4.4.5 | |
| <a name="2546255"></a> [2546255](#2546255) <a name="2546255"></a> <br />CM-27637 | On the EdgeCore Minipack-AS8000 switch, a 100G DAC link does not come up when auto-negotiation is enabled on the neighbor. This switch does not support 100G DAC auto-negotiation at this time. | 4.0.0-4.4.5 | |
| <a name="2546225"></a> [2546225](#2546225) <a name="2546225"></a> <br />CM-27627 | When you execute the following command on the Delta AG6248C switch, the switch reboots and then comes right back into Cumulus Linux without installing the new image. The install image is still in <code>/var/lib/cumulus/installer</code>, which causes issues with cl-support. <br /> <pre> <br /> sudo onie-install -fai http://<path to image> <br /> sudo reboot <br /> </pre> <br /> To work around this issue, use the <code>onie-select</code> command to access ONIE, and then use the <code>nos-install</code> command in ONIE to install a new binary image.  | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546131"></a> [2546131](#2546131) <a name="2546131"></a> <br />CM-27581 | On the Delta AG-6248C PoE switch, when you run the <code>apt upgrade</code> command, the upgrade does not work. Cumulus Linux uses <code>uboot</code> directly instead of <code>grub</code> to boot the kernel. Uboot needs a special header to boot the kernel, which is not present. Without this header, when you use the <code>apt upgrade</code> command to upgrade Linux packages, <code>uboot</code> is unable to boot up the kernel. <br />To work around this issue, upgrade Cumulus Linux by installing the Cumulus Linux image. Run the <code>onie-select</code> command to go into ONIE, and then use the <code>nos-install</code> command in ONIE to install a new image.<br />This workaround only works when an out-of-band network is present. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2545837"></a> [2545837](#2545837) <a name="2545837"></a> <br />CM-27444 | If you use the NCLU commands to configure NTP and run the <code>net add time ntp source <interface></code> command before you run the <code>net add time ntp server <server> iburst</code> command, the <code>/etc/ntp.conf</code> file is misconfigured.<br />To work around this issue, run the <code>net add time ntp server <server> iburst</code> command before you run the <code>net add time ntp source <interface></code> command. | 3.7.10-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2545520"></a> [2545520](#2545520) <a name="2545520"></a> <br />CM-27243 | The length of the netlink message is not set properly for non-bridge family type messages. The same length is used for both bridge and non-bridge even though the bridge family type message has an extra attribute. This causes extra bytes to be left over in non-bridge family type netlink messages. | 3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2545233"></a> [2545233](#2545233) <a name="2545233"></a> <br />CM-27094 | On the Delta AG9032v1 switch, smonctl and sensors report inaccurate PSU current and power. | 4.0.0-4.4.5 | |
| <a name="2545125"></a> [2545125](#2545125) <a name="2545125"></a> <br />CM-27018 | If you configure more than one VRR interface on an SVI interface, deleting one of the VRR addresses does not remove the interface/address.  | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544978"></a> [2544978](#2544978) <a name="2544978"></a> <br />CM-26921 | If you delete an undefined bond, then add a bond slave, the <code>net commit</code> command fails. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544968"></a> [2544968](#2544968) <a name="2544968"></a> <br />CM-26913 | FRR configuration commands for an SVI interface might have the <code>\n</code> misplaced in the output.  For example:<br /><pre><br />sudo sh -c "printf 'interface 50\nvrf TEST description L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />should be:<br /><pre><br />sudo sh -c "printf 'interface 50 vrf TEST\ndescription L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />To work around this issue, configure the interface manually in the <code>/etc/frr/frr.conf</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544957"></a> [2544957](#2544957) <a name="2544957"></a> <br />CM-26907 | NCLU incorrectly allows you to apply port security configuration on layer 2 and layer 3 ports that are not part of a bridge. | 4.0.0-4.4.5 | |
| <a name="2544953"></a> [2544953](#2544953) <a name="2544953"></a> <br />CM-26905 | When you update the hostname of a switch with the NCLU <code>net add hostname <hostname></code> command, then run <code>net commit</code>, the <code>lldpd</code> service does not restart and other devices still see the old hostname.<br />To work around this issue, run the <code>sudo systemctl restart lldpd.service</code> command. | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544880"></a> [2544880](#2544880) <a name="2544880"></a> <br />CM-26860 | When you run the NCLU <code>net show commit last</code> or <code>net show commit <number></code> command, where <code><number></code> is the last commit, no output is shown.  | 4.0.0-4.4.5 | |
| <a name="2544723"></a> [2544723](#2544723) <a name="2544723"></a> <br />CM-26769 | Setting ProtoDown on ports populated with SFP modules providing RJ-45 1000BASE-T interfaces does not cause the carrier to be dropped. The kernel shows carrier down; however, the remote device still shows a link. | 3.7.6-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2544463"></a> [2544463](#2544463) <a name="2544463"></a> <br />CM-26599 | Auto-negotiation does not work with the QSFP28 cables and a remote system operating at 10G. Attempting to enable auto-negotiation with <code>ethtool -s swp<#> autoneg on</code> returns <code>Operation not supported</code>.<br />To work around this issue, do not use auto-negotiation and set the local port speed to 10G. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544456"></a> [2544456](#2544456) <a name="2544456"></a> <br />CM-26595 | The NCLU <code>net show lldp</code> command displays the speed of a ganged port group as the speed of one of the individual links, rather than the sum of their speeds. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544311"></a> [2544311](#2544311) <a name="2544311"></a> <br />CM-26516 | Applying a policy-based routing (PBR) rule for all traffic from a host might disrupt ARP refresh for that connected host. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544155"></a> [2544155](#2544155) <a name="2544155"></a> <br />CM-26423 | NCLU requires you to specify an interface with multiple <code>address-virtual</code> statements in ascending MAC address order. <br /><br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544113"></a> [2544113](#2544113) <a name="2544113"></a> <br />CM-26412 | Mac learning is not disabled by default on a double tagged peer link interface resulting in the MAC address changing between the MLAG bond and the peer link.<br />To work around this issue, disable MAC learning on QinQ VLANs by adding <code>bridge-learning off</code> to the VLAN stanza in the <code>etc/network/interfaces</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543937"></a> [2543937](#2543937) <a name="2543937"></a> <br />CM-26308 | An interface alias configured outside FRR using <code>iproute2</code> is imported into the FRR running configuration and overrides the internal description. After an FRR reload, this causes FRR to delete the interface alias in an inefficient way. Depending on how many interfaces with aliases you have configured, this can cause a FRR reload to time out.<br />To work around this issue, remove the interface alias description from <code>iproute2</code>. | 3.7.8-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | <code>systemctl</code> issues a warning similar to the following when you enable a service in the management VRF:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre> | 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2543900"></a> [2543900](#2543900) <a name="2543900"></a> <br />CM-26288 | On the Mellanox switch, static VXLAN tunnels incorrectly allow traffic from any remote tunnel IP address. | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543841"></a> [2543841](#2543841) <a name="2543841"></a> <br />CM-26256 | The <code>net show evpn vni detail json</code> command includes an extra empty dictionary at the end of the output. <br /> | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543816"></a> [2543816](#2543816) <a name="2543816"></a> <br />CM-26241 | On the Dell S5248F-ON switch, <code>smond</code> might generate syslog messages indicating that the fan input RPM is lower than the normal low speed of 2500 RPM. Speeds as low as 1700 RPM are acceptable in normal thermal environments; therefore, you can ignore these messages.<br /> | 3.7.6-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2543781"></a> [2543781](#2543781) <a name="2543781"></a> <br />CM-26217 | NCLU does not allow you to configure OSPF NSSAs. For example: <br /><pre><br />cumulus&#64;switch:~$ net add ospf area 0.0.0.1 nssa <br />ERROR: Command not found. <br />net add ospf area 0.0.0.1 nssa<br /></pre><br />To work around this issue, use FRR instead. For example: <br /><pre><br />switch# configure terminal <br />switch(config)# router ospf <br />switch(config-router)# area 0.0.0.1 nssa <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543724"></a> [2543724](#2543724) <a name="2543724"></a> <br />CM-26179 | If a hostname contains utf-8 characters, the NCLU <code>net show lldp</code> command outputs the following error: <br /><pre><br />ERROR: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128) <br />See /var/log/netd.log for more details.  <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543646"></a> [2543646](#2543646) <a name="2543646"></a> <br />CM-26136 | In an ebtables rule, ERSPAN (upper case) does not work. You need to specify erspan (lower case). | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543401"></a> [2543401](#2543401) <a name="2543401"></a> <br />CM-25986 | On the Mellanox Spectrum-2 switch, the time required to establish a link (from the time a link is set to <code>admin up</code> until the link becomes operationally up) can take up to 15 seconds on 40G interfaces and up to 30 seconds on 100G interfaces. <br />To work around this issue, wait up to 15 seconds on 40G interfaces and 30 seconds on 100G interfaces for the link to establish. | 4.0.0-4.4.5 | |
| <a name="2543211"></a> [2543211](#2543211) <a name="2543211"></a> <br />CM-25890 | In some cases, the <code>switchd</code> service might warn of excessive MAC moves from one switch port to itself (for example, from swp18 to swp18).<br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543164"></a> [2543164](#2543164) <a name="2543164"></a> <br />CM-25859 | The MTU of an SVI cannot be higher than the MTU on the bridge. Changing the MTU on the SVI with NCLU does not update the bridge MTU. The <code>net commit</code> command succeeds even though the MTU is not changed as expected.<br />To work around this issue, change the MTU on all SVIs and the bridge manually in the <code>/etc/network/interfaces</code> file, then apply the change with the <code>ifreload -a</code> command. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543096"></a> [2543096](#2543096) <a name="2543096"></a> <br />CM-25815 | When an SVI with a virtual MAC is configured with a layer 2 VNI in an EVPN environment, if you replace the <code>/etc/network/interfaces</code> file with a different file that does not have the SVI and layer 2 VNI configuration, the original virtual MAC is not populated through the EVPN route until FRR is restarted. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542945"></a> [2542945](#2542945) <a name="2542945"></a> <br />CM-25740 | On the Broadcom Maverick switch with a QinQ configuration, the packets coming into the CPU might be tagged incorrectly; for example, 802.1ad + 802.1q tags are expected in the packets but the packets have 802.1q + 802.1q tags. <br />To work around this issue, configure the bridge with <code>bridge-vlan-protocol 802.1ad</code>: <br /><pre><br />cumulus&#64;switch:~$ net add bridge mybridge vlan-protocol 802.1ad <br /></pre>  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542837"></a> [2542837](#2542837) <a name="2542837"></a> <br />CM-25674 | On Mellanox switches, policer iptables are not working as expected. For example, when using a policer with mode KB/MB/GB to rate-limit interfaces, the syntax is accepted but the data plane transfer speed is not affected by the rule.  | 3.7.6-3.7.8, 4.0.0-4.4.5 | 3.7.9-3.7.16|
| <a name="2542305"></a> [2542305](#2542305) <a name="2542305"></a> <br />CM-25400 | If an SVI exists in the configuration before you assign it an IP address, when you do assign the IP address with the NCLU command, the <code>vlan-id</code> and the raw-device bridge stanzas are not added automatically. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542301"></a> [2542301](#2542301) <a name="2542301"></a> <br />CM-25397 | When first creating a bond and enslaving an interface, NCLU hides some of the bridge command suggestions, although they are still accepted. <br /> | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541212"></a> [2541212](#2541212) <a name="2541212"></a> <br />CM-24894 | The <code>maximum-prefix</code> configuration under the IPv4 address family has an optional restart value, which you can configure. This configuration is ignored and, instead of restarting the sessions every x minutes, the peer constantly changes between established and idle due to the prefix count being exceeded.  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541029"></a> [2541029](#2541029) <a name="2541029"></a> <br />CM-24799 | On switches with the Trident2 ASIC, 802.1Q-encapsulated control plane traffic received on an interface with 802.1AD configured subinterfaces might be dropped. <br />This issue only affects QinQ configurations. <br />  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540753"></a> [2540753](#2540753) <a name="2540753"></a> <br />CM-24618 | If the interface alias contains a single or double quotation mark, or an apostrophe, the <code>net show configuration</code> commands fail with the following error: <br /><pre> <br />ERROR: No closing quotation <br />See /var/log/netd.log for more details. <br /></pre> <br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540444"></a> [2540444](#2540444) <a name="2540444"></a> <br />CM-24473 | SNMP incorrectly requires engine ID specification. <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540352"></a> [2540352](#2540352) <a name="2540352"></a> <br />CM-24435 | When you use NCLU to configure a route map, the parser allows for glob matching of interfaces for a _match interface_ condition when there can only be a single interface matched. The proper syntax is to use multiple route map clauses, each matching a single interface, instead of a single clause matching multiple interfaces. <br />For example, this command is incorrect: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9-10 <br /></pre> <br />These commands are correct: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9 <br />net add routing route-map Proxy-ARP permit 30 match interface swp10 <br /></pre> <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540340"></a> [2540340](#2540340) <a name="2540340"></a> <br />CM-24426 | NCLU allows for the configuration of addresses on VRF interfaces, but tab completion for the <code>net add vrf <name></code> command just displays <ENTER>. For example: <br /> <pre> <br /> cumulus&#64;switch:~$ net add vrf mgmt <br /> <ENTER> <br /> </pre> <br /> Tab completion for the <code>net add vrf <name> ip address <address></code> command works correctly.  | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540274"></a> [2540274](#2540274) <a name="2540274"></a> <br />CM-24379 | On the Maverick switch, CPU forwarded packets might be dropped when there is no route to a leaked host route. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540204"></a> [2540204](#2540204) <a name="2540204"></a> <br />CM-24350 | When links come up after FRR is started, VRF connected routes do not get redistributed. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540192"></a> [2540192](#2540192) <a name="2540192"></a> <br />CM-24343 | The <code>net del bridge bridge mcsnoop yes</code> command does not return the value to the default of disabled. <br />To work around this issue, use the <code>net add bridge bridge mcsnoop no</code> command to delete the <code>mcsnoop attribute</code> and return to the default value. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540155"></a> [2540155](#2540155) <a name="2540155"></a> <br />CM-24332 | On the Broadcom switch, when moving configuration from bridged to routed (or toggling from routed to bridged to routed), some traffic is not seen by the kernel. This can cause BGP to not establish on a transit node. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540042"></a> [2540042](#2540042) <a name="2540042"></a> <br />CM-24272 | When you try to configure the VRRP priority and advertisement-interval with NCLU on a traditional mode bridge, the <code>net commit</code> command fails. <br />To work around this issue, use the vtysh command (inside FRR) to change the VRRP priority or advertisement-interval on traditional bridges. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface br0.100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# vrrp 1 advertisement-interval <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540041"></a> [2540041](#2540041) <a name="2540041"></a> <br />CM-24271 | On SVIs in a VLAN-aware bridge, you cannot change the VRRP priority with NCLU. <br />To work around this issue, run the vtysh command inside FRR to change the default priority. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface vlan100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540040"></a> [2540040](#2540040) <a name="2540040"></a> <br />CM-24270 | Cumulus Linux uses VRRPv3 as the default version, and enables both preempt and accept mode by default. You cannot change these default values with NCLU. To work around this issue, run the vtysh commands (inside FRR) to change the default values. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface swp4 <br />switch(config-if)# vrrp 1 version 2 <br />switch(config-if)# no vrrp 1 preempt <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540031"></a> [2540031](#2540031) <a name="2540031"></a> <br />CM-24262 | NCLU does not honor <code>auto all</code> in the <code>/etc/network/interfaces</code> file and removes the existing configuration if no individual <code>auto <iface></code> lines exist. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539994"></a> [2539994](#2539994) <a name="2539994"></a> <br />CM-24241 | When you try to remove a BGP peer group configuration with NCLU, the command fails but no warning message is shown. For example: <br /><pre> <br />cumulus&#64;switch:~$ net del bgp neighbor fabric peer-group<br />'router bgp 65001' configuration does not have 'neighbor fabric peer-group' <br /></pre> <br />  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539962"></a> [2539962](#2539962) <a name="2539962"></a> <br />CM-24222 | When an LDAP user that does not have NCLU privileges (either in the <code>netshow</code> or <code>netedit</code> group, or in the <code>/etc/netd.conf</code> file) runs an NCLU command, a traceback occurs instead of a permissions error. <br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539670"></a> [2539670](#2539670) <a name="2539670"></a> <br />CM-24035 | On the Edgecore 4610-54P switch, automatic medium-dependent interface crossover (auto-MDIX) stops working on a 100M full duplex interface and does not detect the required cable connection type. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539124"></a> [2539124](#2539124) <a name="2539124"></a> <br />CM-23825 | The <code>net add interface <interface> ptm-enable</code> command adds <code>no ptm-enable</code> for that interface in the <code>frr.conf</code> file. <br />Running the <code>net add</code> or the <code>net del</code> command does not remove <code>no ptm-enable</code> from the <code>frr.conf</code> file. You have to remove it manually using vtysh. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538790"></a> [2538790](#2538790) <a name="2538790"></a> <br />CM-23665 | NCLU automatically adds the VLAN ID (for the layer 3 VNI/SVI) to the bridge when you run <code>net add vxlan <layer3-vni> bridge access <vlan></code>. This configuration breaks network connectivity in an EVPN symmetric routing configuration using MLAG. <br />To restore connectivity, remove the VLAN ID from the bridge.  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538590"></a> [2538590](#2538590) <a name="2538590"></a> <br />CM-23584 | When you configure a control plane ACL to define permit and deny rules destined to the local switch, NCLU programs the control plane ACL rules into the FORWARD chain. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538562"></a> [2538562](#2538562) <a name="2538562"></a> <br />CM-23570 | On an RMP/1G-T switch, when you remove <code>link-speed 100</code> with the NCLU command or by editing the <code>etc/network/interfaces</code> file to revert the 100M interface to the default (1G auto), the interface fails to recover and does not come back up.<br />After you remove the link-speed, <code>ethtool</code> shows the advertised link modes as not reported and Speed/Duplex as unknown.<br />To work around this issue and bring the interface back up, either restart <code>switchd</code> or use ethtool to configure the speed, advertised, duplex or MDI-X settings. <br />Note: The advertised link mode gets set incorrectly if you include 1000baseT/Half. The port will come up successfully at 1G. | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538294"></a> [2538294](#2538294) <a name="2538294"></a> <br />CM-23417 | If you use NCLU to create an iBGP peering across the peer link, running the <code>net add bgp l2vpn evpn neighbor peerlink.4094 activate</code> command creates a new eBGP neighborship when one has already been configured for iBGP. This is unexpected; the existing iBGP configuration is valid.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537699"></a> [2537699](#2537699) <a name="2537699"></a> <br />CM-23075 | There is a limitation on the number of SVI interfaces you can specify as DHCP relay interfaces in the <code>/etc/default/isc-dhcp-relay</code> file. For example, 1500 SVI interfaces causes the <code>dhcrelay</code> service to exit without a core file and logs similar to the following are generated for the interfaces: <br /><pre> <br />2018-11-10T23:35:30.992370-08:00 Dev dhcrelay: Listening on LPF/vlan.101/a0:00:00:00:00:51 <br />2018-11-10T23:35:30.993472-08:00 Dev dhcrelay: Sending on LPF/vlan.101/a0:00:00:00:00:51 <br /></pre> <br />Eventually the <code>dhcrelay</code> service stops. <br /> | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537544"></a> [2537544](#2537544) <a name="2537544"></a> <br />CM-23021 | When you run the <code>mstpctl</code> command, you might see the bridge-port state as blocking when it is actually disabled. You might see the same incorrect bridge-port state when other programs or tools use the output of <code>mstpctl</code>; for example, SNMP output from the BRIDGE-MIB. | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536576"></a> [2536576](#2536576) <a name="2536576"></a> <br />CM-22554 | If you try to bring down several members of a bond remotely at the same time, the link state of one of the interfaces might not transition correctly to the down state; however, all links show down in hardware. <br />  | 4.0.0-4.4.5 | |
| <a name="2536384"></a> [2536384](#2536384) <a name="2536384"></a> <br />CM-22386 | The BFD packet redirection logic used by OVSDB server high availability mode redirects BUM packets across the peer link. The iptables rule for redirection does differentiate between BFD and non-BFD VXLAN inner packets because the service node sends all frames with its own IP address as the tunnel source IP address. The VXLAN encapsulated BUM packets do not get forwarded to the CPU and do not go through the iptable redirection rule; only VXLAN encapsulated BFD packets get forwarded to the CPU due to the inner MAC DA lookup in hardware. <br />  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536256"></a> [2536256](#2536256) <a name="2536256"></a> <br />CM-22301 | For an unresolved address, the IPROUTER default policer rule has been modified to _not_ match on packets exiting a TUNNEL and headed to the CPU to resolve the address via ARP. As a result, the following default rule no longer matches TUNNEL ingress packets. <br /><pre> <br />A $INGRESS_CHAIN --in-interface $INGRESS_INTF -m addrtype --dst-type <br />IPROUTER -j POLICE --set-mode pkt --set-rate 400 --set-burst 100 <br /></pre> <br />These packets are now policed by catch all rules. <br />To work around this issue, the VPORT value on a TRIDENT switch must be changed from binary 011 to 100. <br /> | 4.0.0-4.4.5 | |
| <a name="2536242"></a> [2536242](#2536242) <a name="2536242"></a> <br />CM-22287 | On the EdgeCore AS7712 (Tomahawk) switch running in atomic mode, when a layer 3 ECMP path is brought down, traffic traversing the path stops working for about four seconds. When the switch is changed to non-atomic mode, the delay is less than one second. This issue is seen across OSPF and static ECMP routes.  | 4.0.0-4.4.5 | |
| <a name="2536179"></a> [2536179](#2536179) <a name="2536179"></a> <br />CM-22228 | On switches with the Trident 2+ ASIC, counters associated with VLANs and VRFs are not working. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535986"></a> [2535986](#2535986) <a name="2535986"></a> <br />CM-22041 | At a high CPU transmit traffic rate (for example, if there is unexpected CPU generated flooding or replication in software), when the ASIC packet driver cannot keep up with the transmit rate because there are no free DMA buffers, it can back pressure by suspending the switch port transmit queues. This can fill up the application socket buffers resulting in <code>No buffer space available</code> error messages on protocol sockets.<br />When the driver recovers, it automatically resumes the transmit queues. In most cases these error messages are transient. In rare cases, the hardware queues might get stuck, which you can recover with a <code>switchd</code> restart. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535965"></a> [2535965](#2535965) <a name="2535965"></a> <br />CM-22020 | On the Trident3 switch, static PIM with IIF based on a layer 2 bridge does not work reliably. PIM Join via signaling is required for IPMC to work properly.<br />To work around this issue, use dynamic signaling (joins) to manage IP multicast traffic. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535723"></a> [2535723](#2535723) <a name="2535723"></a> <br />CM-21785 | The source address of the ICMPv6 time exceeded message (traceroute hop) is sourced from the wrong VRF when the traceroute target resides on the same switch but in a different VRF. | 4.0.0-4.4.5 | |
| <a name="2535605"></a> [2535605](#2535605) <a name="2535605"></a> <br />CM-21667 | FRR does not add BGP <code>ttl-security</code> to either the running configuration or to the <code>/etc/frr/frr.conf</code> file when configured on a peer group instead of a specific neighbor. <br />To work around this issue, add <code>ttl-security</code> to individual neighbors instead of the peer group. | 4.0.0-4.4.5 | |
| <a name="2535209"></a> [2535209](#2535209) <a name="2535209"></a> <br />CM-21278 | The <code>net show lldp</code> command sometimes shows the port description in the <code>Remote Port</code> field. The <code>net show interface</code> command shows the correct value in the <code>Remote Host</code> field.<br />To work around this issue, use <code>net show interface</code> command for LLDP output when connected to Cisco equipment. | 3.7.5-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2534734"></a> [2534734](#2534734) <a name="2534734"></a> <br />CM-20813 | Span rules matching the out-interface as a bond do not mirror packets. | 4.0.0-4.4.5 | |
| <a name="2533691"></a> [2533691](#2533691) <a name="2533691"></a> <br />CM-19788 | If you configure a VLAN under a VLAN-aware bridge and create a subinterface of the same VLAN on one of the bridge ports, the bridge and interface compete for the same VLAN and if the interface is flapped, it stops working. Correcting the configuration and running the <code>ifreload</code> command does not resolve the conflict. <br />To work around this issue, correct the bridge VIDs and restart <code>switchd</code> or delete the subinterface.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2533625"></a> [2533625](#2533625) <a name="2533625"></a> <br />CM-19724 | PIM and MSDP entries are set to the internal COS value of 6 so they are grouped together with the bulk traffic priority group in the default <code>traffic.conf</code> file. However, PIM, IGMP, and MSDP are considered control-plane and should be set to the internal COS value of 7.  | 4.0.0-4.4.5 | |
| <a name="2533337"></a> [2533337](#2533337) <a name="2533337"></a> <br />CM-19454 | When you use NCLU to bring a bond admin down (<code>net add bond <bond> link down</code>), the bond interface goes into admin down state but the switch ports enslaved to the bond remain UP. If you are using bond-lacp-bypass-allow or balance-xor mode, the host might continue to send traffic. This traffic will be dropped because although the bond slaves are UP, they are not members of the bridge.<br />To work around this issue, use the <code>sudo ifdown <bondname></code> command. | 4.0.0-4.4.5 | |
| <a name="2531273"></a> [2531273](#2531273) <a name="2531273"></a> <br />CM-17494 | In certain cases, a peer device sends an ARP request from a source IP address that is not on the connected subnet and the switch creates a STALE neighbor entry. Eventually, the switch attempts to keep the entry fresh and sends ARP requests to the host. If the host responds, the switch has REACHABLE neighbor entries for hosts that are not on the connected subnet. <br />To work around this issue, change the value of <code>arp_ignore</code> to 2. See &#91;Address Resolution Protocol in the Cumulus Linux user guide\|https://docs.cumulusnetworks.com/cumulus-linux/Layer-3/Address-Resolution-Protocol-ARP/&#93; for more information. | 4.0.0-4.4.5 | |

### Fixed Issues in 4.4.5
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3205701"></a> [3205701](#3205701) <a name="3205701"></a> <br />None | A firmware upgrade has been implemented to optimize the PCIe bus between the CPU and Spectrum ASIC on NVIDIA SN4700, SN4600, SN4600C, and SN4410 switches manufactured with <code>0x26 1 17</code> in EEPROM. Affected switches will not boot properly without this firmware upgrade. To see the EEPROM value, run the <code>onie-syseeprom</code> command from ONIE or run the <code>decode-syseeprom</code> command from Cumulus Linux. | 4.4.4, 5.2.0 | |

## 4.4.4 Release Notes
### Open Issues in 4.4.4

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3434315"></a> [3434315](#3434315) <a name="3434315"></a> <br /> | IPv6 BGP sessions in a VRF do not be establish with MD5 authentication. | 4.3.0-4.4.5 | |
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3419953"></a> [3419953](#3419953) <a name="3419953"></a> <br /> | If you remove a double tagged bridge port from a bridge when a different interface exists with the same port and virtual ID, you might see a segmentation fault and a <code>switchd</code> crash due to incorrect initialization when Cumulus Linux creates the second double-tagged interface. To work around this issue, make sure you remove the double-tagged interfaces from the bridge in the <code>/etc/network/interfaces</code> file. | 4.3.1-4.4.5 | |
| <a name="3413826"></a> [3413826](#3413826) <a name="3413826"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 4.2.1-4.4.5 | |
| <a name="3401121"></a> [3401121](#3401121) <a name="3401121"></a> <br /> | sFlow is not able to sample packets in the egress direction. To work around this issue, add the following to the <code>hsflowd.conf</code> file to enable egress sampling:<pre>samplingDirection=outpsample { group=1 }</pre> | 4.3.0-4.4.5 | |
| <a name="3389994"></a> [3389994](#3389994) <a name="3389994"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbor entries cannot synchronize between MLAG nodes. During this transitory upgrade state, neighbor entry resolution relies on data plane traffic being forwarded to the CPU so ARP can resolve the necessary neighbor entry before traffic can go through the fastpath. | 4.2.1-4.4.5 | |
| <a name="3387852"></a> [3387852](#3387852) <a name="3387852"></a> <br />None | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload because the <code>libyaml-0-2</code> and <code>python-yaml </code> packages are missing; these packages are required for <code>switchd</code> consistency checking. To work around this issue, reinstall the <code>libyaml-0-2</code> and <code>python-yaml </code>packages. | 4.4.0-4.4.5 | |
| <a name="3376798"></a> [3376798](#3376798) <a name="3376798"></a> <br /> | On Broadcom switches, Cumulus Linux does not create the hardware bridging domain for a traditional bridge with a VXLAN interface during <code>switchd</code> restart. The <code>/var/log/switchd.log</code> file includes the following exception logs shortly after <code>switchd</code> restarts:<pre>switchd&#91;30158&#93;: hal_bcm_l3.c:1617 find_egr_path_if_vxlan_overlay:vxlan overlay : nh PORT: port <#>, vlan <x>.<y> not yet ready</pre>MAC learning looks correct, but traffic does not flow as expected. | 3.7.0-3.7.16, 4.3.1-4.4.5 | |
| <a name="3368217"></a> [3368217](#3368217) <a name="3368217"></a> <br />None | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-4.4.5, 5.2.1-5.4.0 | |
| <a name="3366612"></a> [3366612](#3366612) <a name="3366612"></a> <br /> | The base version of the Linux kernel is updated to the v4.19.273 stable release, which includes fixes for several CVE issues. | 4.3.1-4.4.5 | |
| <a name="3364717"></a> [3364717](#3364717) <a name="3364717"></a> <br />None | On the Trident 2+ and Trident 3 switch when using VXLAN layer 2 VPNs and sending tunneled traffic where the inner IP header has a TTL of 1, the egress VTEP incorrectly forwards this traffic through the software path instead of the hardware data plane. This traffic is rate-limited to 100pps by default.  To work around this issue, ensure that the traffic traversing the layer 2 tunnel has an inner IP header TTL value that is more than 1.  If this workaround is not possible, contact Nvidia Support to determine other options. | 4.3.0-4.4.5 | |
| <a name="3358865"></a> [3358865](#3358865) <a name="3358865"></a> <br />None | When you reboot a Broadcom switch with a static default route configured, the route might be installed in hardware without a next hop. This results in forwarded traffic to the CPU and drops. To recover from this issue, remove the default route configuration and reapply it. To prevent this issue, before rebooting the switch, split the default route configuration into two routes as below:<pre>ip route 0.0.0.0/1 10.1.1.1ip route 128.0.0.0/1 10.1.1.1</pre> | 4.3.1-4.4.5 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-5.3.1 | 5.4.0-5.4.0|
| <a name="3334036"></a> [3334036](#3334036) <a name="3334036"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3334031"></a> [3334031](#3334031) <a name="3334031"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3333064"></a> [3333064](#3333064) <a name="3333064"></a> <br />None | The traffic control rules that the EVPN multihoming configuration adds to an interface are deleted when the <code>hsflowd</code> service restarts. The <code>hsflowd</code> service deletes the EVPN multihoming traffic control filters after you stop <code>hsflowd</code>, then adds back the <code>match-all</code> filters with the <code>psample</code> action; however, <code>hsflowd</code> does not add back the EVPN multihoming traffic control rules. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3303105"></a> [3303105](#3303105) <a name="3303105"></a> <br />None | Clagd crash is observed with the following traceback in /var/log/clagd.log following a clag sync event which is typically driven by a peerlink up event:<br />unhandled exception:<br />    Traceback (most recent call last):<br />      File "/usr/sbin/clagd", line 1304, in PeerRecvT<br />        PeerRecv()<br />      File "/usr/sbin/clagd", line 513, in PeerRecv<br />        ParseProtoBufMessage(nlm, myPeerMsg)<br />      File "/usr/sbin/clagd", line 853, in ParseProtoBufMessage<br />        msgData = FdbSync.ParseProtoBufMessage(msgHdr)<br />      File "/usr/lib/python3/dist-packages/clag/fdbsync.py", line 892, in ParseProtoBufMessage<br />        msgData.ParseFromString(msgHdr.data)<br />    google.protobuf.message.DecodeError: Error parsing message | 4.4.0-4.4.4 | 4.4.5|
| <a name="3293110"></a> [3293110](#3293110) <a name="3293110"></a> <br /> | You cannot set the NTF router flag (NTF_ROUTER) on neighbor entries from the user space. | 4.4.2-4.4.5 | |
| <a name="3292873"></a> [3292873](#3292873) <a name="3292873"></a> <br /> | When you run ZTP manually with the <code>ztp -R</code> command, then the <code>ztp -vb</code> command, the process stalls indefinitely while searching the local (USB) location and not using DHCP information. To work around this issue, run the <code>ztp -r</code> command with the URL of the ZTP server:<pre>&#91;Dec-08-17:09:58&#93; root&#64;switch:/home/cumulus#  ztp -r http://myztp.server.local/ztp</pre> | 4.4.2-4.4.5 | |
| <a name="3291548"></a> [3291548](#3291548) <a name="3291548"></a> <br />None | In EVPN deployments,  a buffer lockup for split or pre-split ports can occur on Spectrum-2 and Spectrum-3 switches. As result, traffic coming in on these ports is dropped in the RX buffer. To work around this issue, restart <code>switchd</code>. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="3288385"></a> [3288385](#3288385) <a name="3288385"></a> <br /> | On the EdgeCore AS7326-56X and AS7726-32X switch, the fan speed reports a minimum threshold in the logs. | 4.3.1-4.4.5 | |
| <a name="3288156"></a> [3288156](#3288156) <a name="3288156"></a> <br />None | When you configure a new VNI, the VLAN 1 VNI mapping is removed from the VXLAN device. To work around this issue, set the VNI interface mapped to VLAN 1 down and up again. | 4.4.3-5.1.0 | 5.2.0-5.4.0|
| <a name="3284719"></a> [3284719](#3284719) <a name="3284719"></a> <br /> | Certain EVPN multihoming show commands might cause the <code>bgpd</code> service to crash if you use the <code>json</code> flag and try to reference the default VRF by name. For example: <code>show bgp l2vpn evpn es-vrf json</code>. | 4.4.2-4.4.5 | |
| <a name="3269538"></a> [3269538](#3269538) <a name="3269538"></a> <br />None | The <code>cl-ecmpcalc</code> command prints the following error when the egress interface is a bond or SVI:<pre>ecmpcalc: will query hardwareTraceback (most recent call last):File “/usr/cumulus/bin/cl-ecmpcalc”, line 986, inisTrunkMbr, port = ecmp.getHdPort(hd_cmd)File “/usr/cumulus/bin/cl-ecmpcalc”, line 618, in getHdPortport = int(str4)ValueError: invalid literal for int() with base 10: ‘0t</pre> | 4.3.0-4.4.5 | |
| <a name="3269537"></a> [3269537](#3269537) <a name="3269537"></a> <br />None | When an FRR routing service (such as <code>bgpd</code>) becomes unresponsive, <code>watchfrr</code> might fail to stop and restart service. To work around this issue, restart FRR with the <code>systemctl restart frr</code> command. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3267353"></a> [3267353](#3267353) <a name="3267353"></a> <br /> | In a QinQ configuration, if the VLAN priority is a non-zero value, double-tagged packets are translated to triple-tagged packets.  | 4.3.1-4.4.5 | |
| <a name="3244740"></a> [3244740](#3244740) <a name="3244740"></a> <br />None | If you have a lot of inbound route maps that match lists with many regex statements, a large number of updates from the peer can cause the system to run out of memory. To work around this issue, reduce the number of regex matches in inbound route maps. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3240406"></a> [3240406](#3240406) <a name="3240406"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.4.2-4.4.5 | |
| <a name="3236365"></a> [3236365](#3236365) <a name="3236365"></a> <br />None | When you run docker commands, the command process might crash. The crash can occur during the <code>apt upgrade</code> process, where you can run docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running docker commands or   running <code>apt upgrade</code> to upgrade to Cumulus Linux 43.1. | 4.3.1-4.4.5 | |
| <a name="3236334"></a> [3236334](#3236334) <a name="3236334"></a> <br />None | Using ARP suppression with a very large number of interfaces might result in missing ARP entries on the local device or buffer underrun warnings in the <code>neighmgrd</code> log. | 4.3.0-4.4.5 | |
| <a name="3235956"></a> [3235956](#3235956) <a name="3235956"></a> <br /> | With certain triggers on Broadcom switches, such as adding or deleting a VNI or reloading the network, Cumulus Linux might consider the underlay routes as overlay routes. In this case, <code>switchd</code> allocates the overlay next hop, which is incorrect and might affect traffic forwarding. | 4.3.0-4.4.5 | |
| <a name="3235368"></a> [3235368](#3235368) <a name="3235368"></a> <br /> | When you try to configure VRF route leaking between many VRFs using multiple NCLU commands before running the <code>net commit</code> command, the commit fails. To work around this issue, configure VRF leaking one command at a time and run <code>net commit</code> after each command. | 4.4.4-5.2.1 | 5.3.0-5.4.0|
| <a name="3234031"></a> [3234031](#3234031) <a name="3234031"></a> <br />None | If BGP <code>neighbor <name> allowas-in</code> is set, negating with no <code>no neighbor <name> allowas-in</code> does not disable the setting. To work around this issue and disable the setting, restart the FRR service. | 4.2.1-5.2.1 | 5.3.0-5.4.0|
| <a name="3227677"></a> [3227677](#3227677) <a name="3227677"></a> <br /> | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-5.2.1 | 5.3.0-5.4.0|
| <a name="3226579"></a> [3226579](#3226579) <a name="3226579"></a> <br />None | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-4.4.5 | |
| <a name="3221470"></a> [3221470](#3221470) <a name="3221470"></a> <br />None | Under heavy system load, when many forwarding resources (routes, neighbors, ECMP groups, and so on) are removed from hardware, subsequent attempts to configure additional forwarding resources might fail and you see the following log message:<pre>sx_sdk: EMAD_RX_THREAD: EMAD transaction FW error</pre> | 4.4.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3216921"></a> [3216921](#3216921) <a name="3216921"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-3.7.16, 4.3.0-4.4.5 | |
| <a name="3216759"></a> [3216759](#3216759) <a name="3216759"></a> <br />None | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-4.4.4 | 4.4.5|
| <a name="3211359"></a> [3211359](#3211359) <a name="3211359"></a> <br /> | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU – Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3209699"></a> [3209699](#3209699) <a name="3209699"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-4.3.0, 4.4.0-5.2.1 | 4.3.1, 5.3.0-5.4.0|
| <a name="3205701"></a> [3205701](#3205701) <a name="3205701"></a> <br />None | A firmware upgrade has been implemented to optimize the PCIe bus between the CPU and Spectrum ASIC on NVIDIA SN4700, SN4600, SN4600C, and SN4410 switches manufactured with <code>0x26 1 17</code> in EEPROM. Affected switches will not boot properly without this firmware upgrade. To see the EEPROM value, run the <code>onie-syseeprom</code> command from ONIE or run the <code>decode-syseeprom</code> command from Cumulus Linux. | 4.4.4, 5.2.0 | 4.4.5, 5.2.1-5.4.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3168564"></a> [3168564](#3168564) <a name="3168564"></a> <br /> | In a large scale VXLAN configuration (for example if you have more than 8500 VLANs across ports), <code>switchd</code> might crash when you restart <code>clagd</code> or when all bonds go operationally down, then up<br />On Trident3 switches running Cumulus Linux 4.3.1, NVIDIA validates the VLAN scale limit for VXLAN deployments with 8500 VLANs across ports with LACP bypass disabled. | 4.3.1-4.4.5 | |
| <a name="3163845"></a> [3163845](#3163845) <a name="3163845"></a> <br /> | If bond slaves listed in the <code>/etc/network/interfaces</code> file are not in alphabetical order, the bond interface MAC address can change when you run <code>ifreload</code>. For example, if the bond slaves in the <code>/etc/network/interfaces</code> file are listed as <code>swp32 swp31</code>, the switch initially uses the MAC address for swp32 as the bond MAC address. An another <code>ifreload</code> can cause this to change to use the MAC address for swp31 as the bond MAC address, which can cause protocol issues, such as IPv6 link-local address changes. | 4.3.1-4.4.5 | |
| <a name="3157240"></a> [3157240](#3157240) <a name="3157240"></a> <br /> | When you try to query REDECN counters with the <code>mlxcmd</code> utility on a bond member port with the following commands, syslog reports an error<br /><pre>sudo /usr/lib/cumulus/mlxcmd roce counters --port <swp>sudo /usr/lib/cumulus/mlxcmd qos counters --clear --port <swp></pre> | 4.4.4-5.1.0 | 5.2.0-5.4.0|
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3135801"></a> [3135801](#3135801) <a name="3135801"></a> <br />None | Zebra rejects MAC IP updates from BGP when the MAC mobility sequence number that BGP sends is lower than the sequence number known to zebra<br />When the MAC mobility sequence that BGP knows legitimately lowers (due to narrow timing conditions during convergence or after rebooting an MLAG pair one VTEP at a time),  zebra rejects these updates and maintains a stale state. If the stale information that zebra uses points to the wrong VTEP address, traffic goes to the wrong VTEP and might drop. | 4.0.0-4.3.0, 4.4.0-4.4.5 | 3.7.16, 4.3.1|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3129819"></a> [3129819](#3129819) <a name="3129819"></a> <br /> | On the EdgeCore AS4610 switch, the <code>clagd</code> service loses communication after 198 days of uptime. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3115415"></a> [3115415](#3115415) <a name="3115415"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTime</code> OID does not correctly report the time since a BGP session goes down.  | 4.4.4-5.1.0 | 5.2.0-5.4.0|
| <a name="3113042"></a> [3113042](#3113042) <a name="3113042"></a> <br /> | After a fresh installation of Cumulus Linux, the package manager reports that the cumulus-archive-keyring package can be upgraded<br />This is a security fix made available after the 4.4.4 image release to change the repository URLs in the <code>/etc/apt/sources.list</code> file from http to https. | 4.4.4-4.4.5 | |
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR (for example: <code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>), then make subsequent VRF or route configuration changes, FRR might crash. To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-5.1.0 | 5.2.0-5.4.0|
| <a name="3112938"></a> [3112938](#3112938) <a name="3112938"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTransitions</code> OID always reports a value of 0. | 4.4.4-5.1.0 | 5.2.0-5.4.0|
| <a name="3098936"></a> [3098936](#3098936) <a name="3098936"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3093966"></a> [3093966](#3093966) <a name="3093966"></a> <br /> | On Broadcom switches, INPUT chain iptable rules filter IPv6 packets matching the rules.  | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3073668"></a> [3073668](#3073668) <a name="3073668"></a> <br /> | On the EdgeCore AS4610 switch, when you change the speed of any of the SFP+ ports, the other SFP+ ports flap. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3072613"></a> [3072613](#3072613) <a name="3072613"></a> <br /> | When  you delete a bond interface with NCLU, BGP peer group configuration is removed. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.4.0 | |
| <a name="3070672"></a> [3070672](#3070672) <a name="3070672"></a> <br /> | TACACS Command Authorization results in a traceback error and command is not executed | 4.4.0-4.4.5 | |
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.4.0|
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-4.4.5, 5.1.0-5.4.0 | |
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.4.0, 5.2.0-5.4.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="2971159"></a> [2971159](#2971159) <a name="2971159"></a> <br /> | On rare occasions, the link up time on optical media can be more than five seconds.  | 4.4.3-4.4.5 | |
| <a name="2965759"></a> [2965759](#2965759) <a name="2965759"></a> <br /> | On the EdgeCore AS4610-54T switch, the fan speed reports a minimum threshold in the logs. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.4.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="2947679"></a> [2947679](#2947679) <a name="2947679"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15-3.7.16, 4.4.2-4.4.5 | |
| <a name="2944167"></a> [2944167](#2944167) <a name="2944167"></a> <br /> | When you use NCLU commands to add a port to a bridge and the port already exists under the bridge, Cumulus Linux removes all other ports from the bridge. | 4.4.2-4.4.5 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2940051"></a> [2940051](#2940051) <a name="2940051"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16, 5.0.0-5.4.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2902013"></a> [2902013](#2902013) <a name="2902013"></a> <br /> | The NCLU commit  command adds a five second delay. | 4.2.1-4.4.5 | |
| <a name="2896450"></a> [2896450](#2896450) <a name="2896450"></a> <br />CM-31978 | On the Dell N3248PXE switch, fixed RJ45 interfaces with PoE neighbors can end up in <code>Paused</code> mode after a <code>switchd</code> restart, which blocks traffic on that interface. To work around this issue, restart <code>switchd</code> a second or third time until all interfaces are functioning correctly, or reboot the switch. | 4.3.0-4.4.5 | |
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2866080"></a> [2866080](#2866080) <a name="2866080"></a> <br /> | On the Maverick S4148T switch with MLAG, Cumulus Linux drops LACP, ARP, LLDP and BGP traffic. | 4.3.0-4.4.5 | |
| <a name="2862211"></a> [2862211](#2862211) <a name="2862211"></a> <br /> | On NVIDIA Spectrum ASICs in a layer 2 bridge scaled configuration (more than 800 VLANs), <code>clagd.service</code> enters a failed state after a reboot or a <code>switchd</code> restart<br />To work around this issue, load the port configuration in a staggered manner (groups of five downlink ports). | 3.7.12-3.7.15, 4.3.0, 4.4.2-4.4.5 | 3.7.16, 4.3.1, 5.0.0-5.4.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2853536"></a> [2853536](#2853536) <a name="2853536"></a> <br /> | MLAG between Cumulus Linux and Arista devices might result in some links being suspended by the Arista devices with the error <code>LACP partner validation failed</code><br />This happens when you use the same LACP port ID for more than one bond member on the Cumulus Linux switch<br />To work around this issue, run the <code>net add bond <name> bond mode balance-xor</code> command on the bond on the Cumulus Linux switch. For proper operation, you need to make the equivalent change on the device on the other side of the link. | 4.4.0-4.4.5 | |
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2841584"></a> [2841584](#2841584) <a name="2841584"></a> <br /> | After you upgrade Cumulus Linux on one of the MLAG peers, the bonds do not come up and the reason shows <code>anycast-ip-mismatch</code> even though there is no VXLAN configuration on the switch.  To work around this issue, configure an anycast IP address under the loopback interface on both switches in the MLAG pair. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2838905"></a> [2838905](#2838905) <a name="2838905"></a> <br /> | On Broadcom ARM switches, the NTP clock slowly drifts to a very high offset (over 500ms) and the clock is not able to synchronize. To work around this issue, use the <code>chrony</code> implementation of NTP instead of <code>ntpd</code>.  <code>chrony</code> synchronizes the system clock faster and with better accuracy<br />Instructions for using <code>chrony</code> are here : https://docs.nvidia.com/networking-ethernet-software/knowledge-base/Network-Solutions/Chrony-on-Cumulus-Linux/ | 4.3.0-4.4.5 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.5 | 5.0.0-5.4.0|
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2813563"></a> [2813563](#2813563) <a name="2813563"></a> <br /> | When you change the port speed with the NVUE <code>nv set interface <interface> link speed</code> command, then run <code>nv config apply</code>, the port is disabled. To work around this issue, run the <code>ifreload -a</code> command after you apply the port speed setting. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803428"></a> [2803428](#2803428) <a name="2803428"></a> <br /> | The <code>clagctl -v -j</code> and <code>net show clag verbose json</code> commands show incorrect output. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803044"></a> [2803044](#2803044) <a name="2803044"></a> <br /> | In an EVPN configuration with IP or MAC mobility, higher MM EVPN routes do not remove the old ARP entries during VIP migration between VTEP racks. | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2794766"></a> [2794766](#2794766) <a name="2794766"></a> <br /> | The Mellanox 3700C switch reports a slow memory leak in sx_sdk. Memory increases by about 240B/hour and does not free up. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2792750"></a> [2792750](#2792750) <a name="2792750"></a> <br /> | If you change the <code>clagd-vxlan-anycast-ip</code> setting on both MLAG peers at the same time, both peers use their unique VTEP address indefinitely. | 3.7.15-4.3.0, 4.4.0-4.4.5 | 4.3.1|
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2788780"></a> [2788780](#2788780) <a name="2788780"></a> <br /> | When you enable ARP and ND suppression and the switch forwards ARP and ND packets to the kernel, RX_DRP counters might increment but the packets are processed as normal. | 4.4.0-4.4.5 | |
| <a name="2781537"></a> [2781537](#2781537) <a name="2781537"></a> <br /> | In Cumulus VX, the iptables FORWARD chain does not count hits. To work around this issue, use <code> -t mangle -A PREROUTING</code> instead of <code>FORWARD</code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2763819"></a> [2763819](#2763819) <a name="2763819"></a> <br /> | When  you enable LACP bypass on a bond, traffic to static MAC addresses configured on the bond might not work when LACP bypass is enforced. | 4.4.0-4.4.5 | |
| <a name="2754791"></a> [2754791](#2754791) <a name="2754791"></a> <br /> | Remote MAC addreses in zebra are out of sync with <code>bgpd</code>. The zebra MAC addresses point to an incorrect (old) VTEP IP  address and the sequence number is one higher than in BGP.  | 3.7.14.2-3.7.16, 4.3.0-4.4.5 | |
| <a name="2753955"></a> [2753955](#2753955) <a name="2753955"></a> <br /> | On the Lenovo MSN3700 switch, if you try to configure an interface with a link speed of 200G, the configuration fails. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2747750"></a> [2747750](#2747750) <a name="2747750"></a> <br /> | Links connected between a Spectrum 2 switch configured for warm boot and Spectrum 3 switches configured for cold boot might not come up when the switches are booted. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2739398"></a> [2739398](#2739398) <a name="2739398"></a> <br /> | Cumulus Linux does not support a bond or bond member as a SPAN destination. | 4.4.0-4.4.5 | 4.3.1|
| <a name="2738040"></a> [2738040](#2738040) <a name="2738040"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.5 | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="2732605"></a> [2732605](#2732605) <a name="2732605"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0, 4.4.0-4.4.5 | 4.3.1, 5.0.0-5.4.0|
| <a name="2728207"></a> [2728207](#2728207) <a name="2728207"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728206"></a> [2728206](#2728206) <a name="2728206"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.4.0|
| <a name="2711533"></a> [2711533](#2711533) <a name="2711533"></a> <br /> | On the AS7326-56X switch, the link lights for 25G ports configured to work at 1G do not illuminate. | 4.2.1-4.4.5 | |
| <a name="2710208"></a> [2710208](#2710208) <a name="2710208"></a> <br /> | The <code>net show bgp neighbor</code> command output shows the BFD status as UP even when the BGP neighbor is not established, such as when the interface is down. | 4.2.1-4.4.5 | |
| <a name="2700767"></a> [2700767](#2700767) <a name="2700767"></a> <br /> | Following an event that causes the peerlink bond MAC address to change, such as a slave port state change, MLAG interfaces might be suspended due to a peer IP mismatch. This behavior is seen when you use a MLAG peer IP linklocal configuration. | 3.7.12-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2685036"></a> [2685036](#2685036) <a name="2685036"></a> <br /> | When the PIM RP configuration includes an anycast IP address and the route to that anycast IP address changes while joined to a multicast stream, you might receive the multicast stream from both the old and the new anycast source. | 4.4.0-4.4.5 | |
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2669858"></a> [2669858](#2669858) <a name="2669858"></a> <br />CM-32169 | OpenSSH is vulnerable to CVE-2020-14145, as described in https://www.fzi.de/fileadmin/user_upload/2020-06-26-FSA-2020-2.pdf.  <br />This is an information leak in algorithm negotiation that can allow man-in-the-middle attacks on initial connection attempts without a previously stored server host key on the client. If desired, mitigation using UpdateHostKeys and HostKeyAlgorithms is also given in that paper. | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2639303"></a> [2639303](#2639303) <a name="2639303"></a> <br /> | When you use NCLU to delete a bond, then add an interface, NCLU reports an error similar to the following:<pre>ERROR: 'NoneType' object has no attribute 'conf_key_value_multiple_values'See /var/log/netd.log for more details.</pre> | 4.3.0-4.4.5 | |
| <a name="2618227"></a> [2618227](#2618227) <a name="2618227"></a> <br /> | The NCLU <code>net show bridge macs</code> command displays permanent MAC addresses for trunked VLANs. | 4.3.0-4.4.5 | |
| <a name="2606326"></a> [2606326](#2606326) <a name="2606326"></a> <br /> | If the IGMP and MLD querier is configured on only one of the peer switches in an MLAG configuration, when IGMP packets are sent to the peer with no querier, IGMP leave messages have no effect.  | 4.4.0-4.4.5 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2596458"></a> [2596458](#2596458) <a name="2596458"></a> <br /> | When <code>bridge.unreg_v6_mcast_prune = TRUE</code> is configured in the <code>/etc/cumulus/switchd.conf</code> file, traffic destined to IPv6 link-local multicast addresses might not be flooded within the bridge<br />To work around this issue, disable pruning for IPv6 multicast by setting <code>bridge.unreg_v6_mcast_prune = FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file. | 4.4.0-4.4.5 | |
| <a name="2574368"></a> [2574368](#2574368) <a name="2574368"></a> <br /> | When you run the NCLU <code>net add bgp maximum-paths ibgp</code> command, FRR restarts unexpectedly<br />To work around this issue, either use the <code>vtysh</code> commands or edit the <code>/etc/frr/frr.conf</code> file directly, then run <code>systemctl reload frr</code>. | 4.1.1-4.4.5 | |
| <a name="2556772"></a> [2556772](#2556772) <a name="2556772"></a> <br />CM-33391 | The <code>net show clag verify-vlans</code> command fails with the following log: <br /><pre><br />WARNING: '/usr/bin/clagctl verifyvlans' failed due to:<br />Command '&#91;'/usr/bin/clagctl', 'verifyvlans'&#93;' returned non-zero exit status 1<br /></pre><br />To work around this issue, run the <code>/usr/bin/clagctl verifyvlans</code> command or the <code>net show clag verbose</code> command. | 4.2.1-4.4.5 | |
| <a name="2556369"></a> [2556369](#2556369) <a name="2556369"></a> <br />CM-33196 | If you use NCLU to configure an ACL for eth0, you can't designate it as an INPUT rule; the rule is automatically created as a FORWARD rule in the <code>/etc/cumulus/acl/policy.d/50_nclu_acl.rules</code> file.<br />To work around this issue, manually create an ACL in the <code>/etc/cumulus/acl/policy.d/</code> file with "-A INPUT -i eth0". | 4.2.1-4.4.5 | |
| <a name="2556082"></a> [2556082](#2556082) <a name="2556082"></a> <br />CM-33050 | The NCLU <code>net del vrf</code> command does not delete a numbered VRF. For example:<br /><pre><br />cumulus&#64;leaf01:~$ net del vrf 55<br />ERROR: Command not found<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2556081"></a> [2556081](#2556081) <a name="2556081"></a> <br />CM-33049 | You cannot set the time zone can with NCLU commands. | 4.1.1-4.4.5 | |
| <a name="2555981"></a> [2555981](#2555981) <a name="2555981"></a> <br />CM-32979 | In BGP, to enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2555873"></a> [2555873](#2555873) <a name="2555873"></a> <br />CM-32914 | On Mellanox switches, egress ACLs with VLAN keys do not filter layer 2 multicast or broadcast traffic. | 4.3.0-4.4.5 | |
| <a name="2555763"></a> [2555763](#2555763) <a name="2555763"></a> <br />CM-32861 | The NCLU <code>net del bgp neighbor</code> command does not delete the neighbor and displays an error similar to the following:<br /><pre><br />ERROR: --- /run/nclu/frr/frr.conf.scratchpad.baseline   2021-01-04 17:23:59.250463331 +0000<br />+++ /run/nclu/frr/frr.conf.scratchpad    2021-01-04 17:25:59.213673980 +0000<br /></pre><br />To work around this issue, use the FRR command to delete a neighbor. | 4.3.0-4.4.5 | |
| <a name="2555613"></a> [2555613](#2555613) <a name="2555613"></a> <br />CM-32786 | The <code>net show configuration commands</code> command incorrectly displays the NCLU syntax to disable IPv6 forwarding on interfaces. For example:<br /><pre><br /># net show configuration commands<br />net add vlan 1 ip6-forward off <br /></pre><br />The correct NCLU command to disable IPv6 forwarding is <code>net add vlan 1 ipv6 forward off</code> (without the hyphen). | 4.2.1-4.4.5 | |
| <a name="2555318"></a> [2555318](#2555318) <a name="2555318"></a> <br />CM-32612 | If you try to enable BGP graceful restart when it is already enabled, you see an error similar to the following in the <code>frr.log</code> file:<br /><pre><br />2020-12-07T19:20:26.004333+00:00 cumulus bgpd&#91;4954&#93;: VRF default: Handle GR command GLOBAL_GR_CMD, current GR state GLOBAL_GR, new GR state GLOBAL_INVALID<br /></pre><br />This error has no functional impact. | 4.3.0-4.4.5 | |
| <a name="2555175"></a> [2555175](#2555175) <a name="2555175"></a> <br />CM-32528 | Control Plane Traffic (example - BGP peering from Leaf to Spine) goes down on Leaf due to Hold Down Timer Expiration of peer following prolonged link flaps on downlinks when vxlan enabled vlans are carried on the flapping link. | 3.7.15-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554986"></a> [2554986](#2554986) <a name="2554986"></a> <br />CM-32416 | The <code>ethtool</code> utility doesn't contain the latest values, as a result the <code>Revision Compliance</code> field shows <code>Unallocated</code>.  | 4.2.1-4.4.5 | |
| <a name="2554812"></a> [2554812](#2554812) <a name="2554812"></a> <br />CM-32296 | If the RMAC of a layer 3 SVI changes, the <code>show vrf vni</code> command is not updated with the new value. However, the new RMAC is seen in the <code>show evpn vni</code> command and is present on self-originated EVPN routes. | 4.2.1-4.4.5 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2554709"></a> [2554709](#2554709) <a name="2554709"></a> <br />CM-32217 | The IP address specified in the <code>ip pim use-source</code> command configured on the loopback interface should be inherited by unnumbered interfaces during their Primary IP address selection process.  If <code>ip pim use-source</code> is configured on the loopback after an unnumbered interface has already selected their Primary IP address, the unnumbered interface does not update its Primary IP address to be the new use-source value until after there is a netlink update for that interface.<br />To work around this issue, configure <code>ip pim use-source</code> on each unnumbered interface directly or ensure <code>ip pim use-source</code> is applied to the loopback before other unnumbered interfaces are enabled for PIM. | 3.7.13-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554670"></a> [2554670](#2554670) <a name="2554670"></a> <br />CM-32194 | When you have a large number of ACLs, the <code>cl-acltool -L ip</code> and <code>cl-resource-query</code> commands take a long time to complete. | 4.3.0-4.4.5 | |
| <a name="2554582"></a> [2554582](#2554582) <a name="2554582"></a> <br />CM-32144 | On switches with the Maverick ASIC, control traffic is dropped due to receive buffering. | 4.2.0-4.4.5 | |
| <a name="2554533"></a> [2554533](#2554533) <a name="2554533"></a> <br />CM-32112 | On the ARM platform, NTP peer associations slowly increase to larger offsets (~500ms). | 4.0.0-4.4.5 | |
| <a name="2554466"></a> [2554466](#2554466) <a name="2554466"></a> <br />CM-32068 | Kernel routes added by <code>iproute2</code> are missing in FRR after an interface flap.<br />To work around this issue, configure a static route in FRR.<br /> | 4.2.1-4.4.5 | |
| <a name="2554222"></a> [2554222](#2554222) <a name="2554222"></a> <br />CM-31921 | The NCLU command to enable bridge learning fails.<br />As a work around, enable bridge learning in the <code>/etc/network/interface</code> file. For example:<br /><pre><br />auto vni-30<br />iface vni-30<br />    vxlan-id 30<br />    bridge-access 30<br />    bridge-arp-nd-suppress on<br />    bridge-learning on<br />    vxlan-local-tunnelip 10.10.10.1<br />    mstpctl-bpduguard yes<br />    mstpctl-portbpdufilter yes<br />    mtu 9166<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2554218"></a> [2554218](#2554218) <a name="2554218"></a> <br />CM-31917 | MLAG packets received on the peer link are dropped instead of routed. | 4.2.0-4.4.5 | |
| <a name="2554202"></a> [2554202](#2554202) <a name="2554202"></a> <br />CM-31904 | The output of the <code>net show commit</code> command does not show the last commit or the specified commit number but is empty instead. | 4.2.1-4.4.5 | |
| <a name="2553989"></a> [2553989](#2553989) <a name="2553989"></a> <br />CM-31759 | Default policer configured for LACP as an INPUT chain rule in 00control_plane.rules is meant to protect CPU from an LACP storm. When LACP storm is originating out of a single bond or bond member interface in a switch with multiple bond interfaces, there is a possibility of other LACP bond interface(s) going down. | 4.2.1-4.4.5 | |
| <a name="2553887"></a> [2553887](#2553887) <a name="2553887"></a> <br />CM-31700 | When using TACACS+ configured with a DEFAULT user providing privilege level lower than 16, TACACS+ configured users with privilege level 16 access might not be able to run privilege level 16 NCLU commands, such as <code>net add</code> and <code>net del</code> and see an error similar to the following:<br /><pre><br />ERROR: You do not have permission to execute that command.<br /></pre><br />To work around this issue, remove the DEFAULT user from the TACACS+ server. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553677"></a> [2553677](#2553677) <a name="2553677"></a> <br />CM-31605 | When you configure an SNMPv3 user with the <code>net-snmp-config</code> configuration command from the <code>libsnmp-dev</code> package, you get an error message similar to the one below:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ sudo net-snmp-config --create-snmpv3-user -a shaauthpass -x aesprivpass -A SHA -X AES userSHAwithAES<br />adding the following line to /var/lib/snmp/snmpd.conf:           <br />   createUser userSHAwithAES SHA "shaauthpass" AES "aesprivpass"       <br />adding the following line to /snmp/snmpd.conf:                           <br />   rwuser userSHAwithAES                                           <br />touch: cannot touch ‘/snmp/snmpd.conf’: No such file or directory<br />/usr/bin/net-snmp-create-v3-user: 144: /usr/bin/net-snmp-create-v3-user: cannot create /snmp/snmpd.conf: Directory nonexistent<br /></pre><br />To work around this issue, use the NCLU command to configure SNMPv3 user parameters; for example:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ net add snmp-server username user999 auth-md5 user999password encrypt-des user999encryption<br /></pre><br />Alternatively, directly edit the <code>/etc/snmp/snmpd.conf</code> file as described in the documentation. | 3.7.13-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553237"></a> [2553237](#2553237) <a name="2553237"></a> <br />CM-31418 | The default NTP configuration is to use eth0 as the NTP source interface. In Cumulus Linux 4.0 and later, eth0 is in the management VRF by default; therefore the NTP service runs automatically in the management VRF. <br />NVIDIA does not recommend running NTP with a source interface other than eth0 as this can expose a security vulnerability. Changing the NTP source interface name with NCLU to a non-management VRF interface might result in NTP not functioning because the NTP service is still running in the management VRF.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2553116"></a> [2553116](#2553116) <a name="2553116"></a> <br />CM-31357 | When you manually set the link speed or duplex mode with ethtool to an unsupported value, then run a TDR check against the interface, you encounter a <code>switchd</code> service heartbeat failure.<br />To work around this issue, reboot the switch to clear the condition. Avoid setting the interface speed or duplex mode directly with ethtool. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553015"></a> [2553015](#2553015) <a name="2553015"></a> <br />CM-31300 | If a neighbour contains a special character in PortID for LLDP, the <code>net show interface</code> command does not display the LLDP information or the command might fail. | 3.7.10-3.7.16, 4.2.0-4.4.5 | |
| <a name="2552691"></a> [2552691](#2552691) <a name="2552691"></a> <br />CM-31111 | On the EdgeCore AS4610 switch, the eth0 interface remains down when physically connected to a 1G interface.<br />To work around this issue, configure the link speed to 1000 and set auto-negotiation on for the eth0 interface, then flap eth0 with the <code>ip link set eth0 down/up</code> command to bring up the port. | 4.2.0-4.4.5 | |
| <a name="2552453"></a> [2552453](#2552453) <a name="2552453"></a> <br />CM-30987 | On the Mellanox switch, RoCE with PFC configuration is not applied to all ports in hardware when a range is used in the <code>traffic.conf</code> file.<br />To work around this issue, use NCLU to configure RoCE with PFC or list individual ports in the <code>traffic.conf</code> file. | 4.2.0-4.4.5 | |
| <a name="2552309"></a> [2552309](#2552309) <a name="2552309"></a> <br />CM-30889 | The following messages are seen on an Edgecord Minipack-AS8000 running Cumulus Linux 4.2.0:<br /><br /><pre><br />Hal_bcm_console.c:294 MMU config profile 0 prigroup 0: Service Pool 0 has no space and cannot be assigned<br />Hal_bcm_console.c:294 MMU config port 0 idx 0: Pool 0 has no space and cannot be assigned<br /></pre><br /><br />These messages are for internal validation purposes only and can be safely ignored.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2552294"></a> [2552294](#2552294) <a name="2552294"></a> <br />CM-30879 | NCLU restarts FRR when removing a BGP VRF IPv4 aggregate-address command.<br />  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2552266"></a> [2552266](#2552266) <a name="2552266"></a> <br />CM-30863 | OpenSSH scp is vulnerable to CVE-2020-15778, where clients that have authorized access to the SSH server can execute commands on the server by copying maliciously named files.<br />The two scenarios where an exploit may be useful to an attacker:<br />-The user is authorized to <code>scp</code> but not <code>ssh</code> (based on the <code>command</code> option in the <code>authorized_keys</code> file), so this vulnerability can allow executing a remote command on the target computer when not authorized to do so.<br />-An attacker plants a maliciously named file in a directory tree that someone later uses <code>scp -r</code> to copy over to the target computer.<br />Be aware that restricting users to <code>scp</code> by using the <code>command</code> option in the <code>authorized_keys</code> file is not effective in preventing those users from executing arbitrary commands on the server.<br />If you want to use <code>scp -r</code> to copy directory trees, avoid copying directory trees to which attackers may have added maliciously-named files. Archiving the directory tree with <code>tar</code>, <code>zip</code>, or a similar program, then copying the archive over to be extracted on the server avoids having to use <code>scp -r</code> altogether. In addition, OpenSSH provides <code>sftp</code>, which you can use instead of <code>scp</code> to copy files.<br />To disable scp completely, use <code>/bin/chmod 0 /usr/bin/scp</code> . | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551666"></a> [2551666](#2551666) <a name="2551666"></a> <br />CM-30473 | If you modify an interface name, then reuse the previous interface name for a different VLAN, the <code>ifreload -a</code> command generates an error similar to the following:<br /><pre><br />warning: <interface-name>: interface not recognized - please check interface configuration<br /></pre><br /> | 4.1.0-4.4.5 | |
| <a name="2551578"></a> [2551578](#2551578) <a name="2551578"></a> <br />CM-30422 | When you configure a bridge in the <code>/etc/network/interfaces</code> file, then try to reconfigure the bridge to be a VRF interface with the same name, <code>ifreload</code>/<code>ifup</code> commands fail with an <code>invalid table id</code> or <code>unable to get vrf table id</code> error. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551565"></a> [2551565](#2551565) <a name="2551565"></a> <br />CM-30414 | If you toggle VRRP priority values between VRRP routers, then restart <code>switchd</code>, a few IPv6 VRRP instances might not converge. As a result, both the VRRP routers act as master routers for the impacted IPv6 VRRP instances. IPv4 VRRP instances are not affected<br />To work around this issue, remove, then add back the VRRP configuration with NCLU or vtysh commands. | 3.7.13-3.7.16, 4.2.0-4.4.5 | |
| <a name="2551335"></a> [2551335](#2551335) <a name="2551335"></a> <br />CM-30312 | When TACACS+ is configured and the management VRF is enabled, users with privilege level 13 are prevented from running <code>ip</code> and <code>cat</code> commands. | 4.0.0-4.4.5 | |
| <a name="2551305"></a> [2551305](#2551305) <a name="2551305"></a> <br />CM-30296 | The <code>net show configuration</code> command provides the wrong <code>net add</code> command for ACL under the VLAN interface.<br /><br /> | 3.7.12-3.7.16, 4.1.0-4.4.5 | |
| <a name="2551273"></a> [2551273](#2551273) <a name="2551273"></a> <br />CM-30280 | On a Mellanox SN2010 switch, the Locator LED is on after you upgrade Cumulus Linux. | 4.1.0-4.4.5 | |
| <a name="2551221"></a> [2551221](#2551221) <a name="2551221"></a> <br />CM-30255 | When span-to-cpu is enabled on L3 swp interface with an IP address configured, packets with destination IP as switchport's IP address don't reach switchport. To capture packets directed towards switcport's IP, disable span-to-cpu and use tcpdump on swichport instead. | 4.2.0-4.4.5 | |
| <a name="2551111"></a> [2551111](#2551111) <a name="2551111"></a> <br />CM-30230 | If a remote EVPN Sticky MAC &#91;Static MAC address&#93; is unexpectedly learned dynamically on a local interface, the selected entries in zebra and BGP are in an inconsistent state.<br />zebra increments the local MAC mobility sequence number and considers the MAC address to be local, but BGP maintains the remote Sticky MAC as the best path selected. This results in zebra installing the local MAC address and BGP not updating the route for the MAC address. | 4.0.0-4.4.5 | |
| <a name="2550974"></a> [2550974](#2550974) <a name="2550974"></a> <br />CM-30195 | On the Dell S3000 switch, after installing the Cumulus Linux 4.1.1 disk image without a license, the switch sends a link beat if a remote host port is configured. | 3.7.11-3.7.16, 4.1.1-4.4.5 | |
| <a name="2550793"></a> [2550793](#2550793) <a name="2550793"></a> <br />CM-30101 | The NCLU <code>net show bridge spanning-tree</code> command displays the aging timer incorrectly.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550713"></a> [2550713](#2550713) <a name="2550713"></a> <br />CM-30052 | Configuring the subinterface of a VXLAN uplink under another traditional bridge, which also has the VXLAN VNI enslaved, causes <code>switchd</code> to use high CPU due to very frequent VXLAN tunnel sync events.<br />To work around this issue, do not enslave the subinterface of a VXLAN layer 3 uplink under a traditional bridge in a VXLAN configuration. | 4.1.1-4.4.5 | |
| <a name="2550642"></a> [2550642](#2550642) <a name="2550642"></a> <br />CM-30006 | ACLs with SPAN target and in-interface as bond member are not supported on Spectrum-based switches  | 4.2.0-4.4.5 | |
| <a name="2550444"></a> [2550444](#2550444) <a name="2550444"></a> <br />CM-29872 | Tab completion for the <code>net show rollback description</code> command returns information about a snapshot instead of context help.<br />To work around this issue, run the <code>net show commit history</code> command to find descriptions instead of the <code>net show rollback description</code> command. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550443"></a> [2550443](#2550443) <a name="2550443"></a> <br />CM-29871 | The <code>net show rollback description <string></code> command returns an error even if the string matches a commit description.<br />To work around this issue, look for your string in the output of the <code>net show commit history</code> command (or grep for it there) instead. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550243"></a> [2550243](#2550243) <a name="2550243"></a> <br />CM-29759 | When you use <code>nginx</code> and <code>restserver</code> in management VRF to provide a REST API for the switch, <code>nginx</code> starts but <code>restserver</code> fails to start.<br />To work around this issue, comment out the <code>Requires=</code> line in the <code>/lib/systemd/system/restserver.service</code>. For example:<br /><pre><br />#Requires=nginx.service restserver.socket<br /></pre> | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550056"></a> [2550056](#2550056) <a name="2550056"></a> <br />CM-29652 | The ACCTON-DIAG option under the Cumulus Linux GRUB menu does not work. When you select this option, you see the following error:<br /><pre><br />error: invalid signature.<br />Press any key to continue...<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549925"></a> [2549925](#2549925) <a name="2549925"></a> <br />CM-29594 | When you run an Ansible script to replace the <code>/etc/network/interfaces</code> file, then run the <code>ifreload -a</code> command, you see errors similar to the following:<br /><pre><br />error: swp1s1.2: netlink: cannot set link swp1s1.2 up: operation failed with 'Network is down' (100)<br />warning: cmd '/bin/ip addr del 10.0.0.1/24 dev eth0' failed: returned 2 (RTNETLINK answers: Cannot assign requested address<br /></pre><br />To work around this issue,  run the <code>ifreload -a</code> command a second time. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549872"></a> [2549872](#2549872) <a name="2549872"></a> <br />CM-29562 | If you have an SVI with multiple VRR IP addresses and try to delete one of the VRR configurations, <code>net commit</code> or <code>ifreload -a</code> returns an error. | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549782"></a> [2549782](#2549782) <a name="2549782"></a> <br />CM-29519 | The JSON format output of the <code>net show bgp l2vpn evpn summary</code> command shows the incorrect neighbour state.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549731"></a> [2549731](#2549731) <a name="2549731"></a> <br />CM-29492 | When you create SPAN or ERSPAN rules in ebtables, the action fails to install if it is not in lowercase. Make sure that the SPAN or ERSPAN action is all lowercase; for example:<br /><pre><br />&#91;ebtables&#93;<br />-A FORWARD --in-interface swp10 -j span --dport swp1<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549392"></a> [2549392](#2549392) <a name="2549392"></a> <br />CM-29319 | When you configure an RD or RT with NCLU, you see duplicate VNI stanzas in the <code>/etc/frr/frr.conf</code> file. <br />To work around this issue, manually edit the <code>etc/frr/frr.conf</code> file to define <code>advertise-all-vni</code> before the RD or RT configuration within the l2vpn EVPN address family, then reload the FRR service with the <code>sudo systemctl reload frr</code> command. | 4.1.0-4.4.5 | |
| <a name="2548924"></a> [2548924](#2548924) <a name="2548924"></a> <br />CM-29146 | On the EdgeCore Minipack AS8000, storm control does not restrict unknown unicast, broadcast, or multicast traffic. | 4.1.1-4.4.5 | |
| <a name="2548657"></a> [2548657](#2548657) <a name="2548657"></a> <br />CM-29035 | When you upgrade Cumulus Linux on the EdgeCore AS7726-32X or AS7326-56X switch, you might see firmware errors similar to the following:<br /><pre><br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso5.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3.bin for module tg3<br /></pre><br />You can safely ignore these error messages. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548579"></a> [2548579](#2548579) <a name="2548579"></a> <br /> | The following security vulnerability has been announced:<br />CVE-2020-10531: An issue was discovered in International Components for Unicode (ICU) for C/C++ through 66.1. An integer overflow, leading to a heap-based buffer overflow, exists in the UnicodeString::doAppend() function in common/unistr.cpp. | 3.7.12, 4.0.0-4.4.5 | 3.7.13-3.7.16|
| <a name="2548315"></a> [2548315](#2548315) <a name="2548315"></a> <br />CM-28816 | The following security advisory has been announced for bash: <br />CVE-2019-18276 Qualys scan QID 372268 setuid vulnerability<br />When bash or bash scripts are run setuid, bash is supposed to drop privileges, but does so incorrectly, so that an attacker with command access to the shell can use <code>enable -f</code> for runtime loading of a new builtin that calls <code>setuid()</code> to regain dropped privileges.<br />To work around this issue, do not make bash or bash scripts <code>setuid</code>. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548310"></a> [2548310](#2548310) <a name="2548310"></a> <br />CM-28812 | When the system boots, we might see " cumulus systemd-udevd&#91;7566&#93;: Process '/usr/bin/hw-management-thermal-events.sh add thermal_zone /sys /devices/virtual/thermal/thermal_zone25 thermal_zone25' failed with exit code 1" errors. <br /><br />These errors are result of  user space acting on kernel events a bit slow. The mlxsw_minimal driver is added during kernel boot; An SDK reset causes the driver to be deleted and re-instantiated; User space handler for thermal zone add sees the add first; But the underlying device is deleted before it can act on it. This situation is rectified as the mlxsw_minimal driver is re-instantiated later; <br /> | 4.1.0-4.4.5 | |
| <a name="2548260"></a> [2548260](#2548260) <a name="2548260"></a> <br />CM-28770 | The <code>net add routing route-map <name> permit <seq> set community <comm></code> command does not add the set statement into the <code>/etc/frr/frr.conf</code> file. | 4.0.0-4.4.5 | |
| <a name="2548243"></a> [2548243](#2548243) <a name="2548243"></a> <br />CM-28754 | On switches with the Trident2+ ASIC, adding SPAN rules disables PBR rules. | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548117"></a> [2548117](#2548117) <a name="2548117"></a> <br />CM-28659 | In OVSDB traditional bridge mode, adding or removing a VLAN binding causes a traffic forwarding outage for around 20 seconds or more on adjacent VLAN bindings. Cumulus Linux does not support _traditional_ bridge mode with VMware NSX. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548062"></a> [2548062](#2548062) <a name="2548062"></a> <br />CM-28622 | When ports are split to 4x25G, RS FEC needs to explicitly configured on both ends (especially when interoperating with non-Mellanox switches). | 4.1.0-4.4.5 | |
| <a name="2548044"></a> [2548044](#2548044) <a name="2548044"></a> <br />CM-28608 | When a remote VTEP withdraws a type-3 EVPN route, Cumulus Linux purges all MAC address and neighbor entries installed in the corresponding layer 2 VNI through that remote VTEP from the local EVPN and kernel forwarding tables. This purge occurs even if the remote VTEP does not withdraw type-2 routes carrying the MAC address or neighbor entries. The entries stay missing from the local EVPN and kernel forwarding tables until BGP updates the MAC address and neighbor. | 3.7.12-3.7.15, 4.0.0-4.4.5 | 3.7.16|
| <a name="2547903"></a> [2547903](#2547903) <a name="2547903"></a> <br />CM-28506 | CVE-2019-19956: xmlParseBalancedChunkMemoryRecover in parser.c in libxml2 before 2.9.10 has a memory leak related to newDoc->oldNs<br />Vulnerable: 2.9.4+dfsg1-7Fixed: 2.9.4+dfsg1-7+deb10u1 | 4.0.0-4.4.5 | |
| <a name="2547890"></a> [2547890](#2547890) <a name="2547890"></a> <br />CM-28497 | QinQ across VXLAN on a traditional bridge does not work. | 4.1.0-4.4.5 | |
| <a name="2547782"></a> [2547782](#2547782) <a name="2547782"></a> <br />CM-28441 | If a LLDP neighbor advertises a <code>PortDescr</code> that contains commas, <code>ptmctl -d</code> splits the string on the commas and misplaces its components in other columns. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547706"></a> [2547706](#2547706) <a name="2547706"></a> <br />CM-28397 | When you configure ganged ports in the <code>ports.conf</code> file, the change does not take effect after you restart <code>switchd</code>. <br />To work around this issue, reboot the switch. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547405"></a> [2547405](#2547405) <a name="2547405"></a> <br />CM-28226 | When you restart the <code>hsflowd</code> service, you see a <code>systemd</code> warning message similar to the following:<br /><pre><br />Warning: The unit file, source configuration file or drop-ins of hsflowd&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload'.<br /></pre> | 4.0.0-4.4.5 | |
| <a name="2547120"></a> [2547120](#2547120) <a name="2547120"></a> <br />CM-28076 | After you hot swap a PSU, the <code>decode-syseeprom -t psuX</code> command shows the old PSU information (such as the serial number), until you run the <code>decode-syseeprom --init</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546991"></a> [2546991](#2546991) <a name="2546991"></a> <br />CM-28003 | The FRR service does not provide a way for automation to know if the configuration applied properly.<br />To work around this issue, execute the <code>vtysh -f <file></code> command in the automation file before starting the FRR service to validate the functional configuration and return an error code. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546895"></a> [2546895](#2546895) <a name="2546895"></a> <br />CM-27957 | If you have configured a higher number of ports and VLANs (ports x VLANs) or the switch is a lower-powered (CPU) platform, the <code>switchd</code> service might fail to send a <code>systemd keepalive</code> within the watchdog timeout value (2 minutes by default) and you see an error similar to the following:<pre>bq. systemd&#91;1&#93;: switchd.service watchdog timeout (limit 2min)!</pre>To workaround this issue, either reduce the number of configured interfaces and, or VLANs, or increase the <code>systemd</code> timeout for <code>switchd.service</code><br />To increase the <code>systemd</code> timeout:1.Edit the <code>/etc/systemd/system/switchd.service.d/override.conf</code> file and increase the <code>WatchdogSec</code> parameter<br />2.Restart the <code>switchd</code> service with the <code>sudo systemctl restart switchd.service</code> command<br /><code>systemd</code> attempts to restart the <code>switchd</code> service automatically (after the watchdog timeout). If the restart fails multiple times in a short time period, run the <code>sudo systemctl reset-failed</code> command followed by the <code>sudo systemctl restart switchd</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546874"></a> [2546874](#2546874) <a name="2546874"></a> <br />CM-27950 | On the Dell S5232F, S5248F, S5296F, and S3048 switch, using the <code>poweroff</code> or <code>halt</code> commands does not fully power off the switch. | 4.0.0-4.4.5 | |
| <a name="2546255"></a> [2546255](#2546255) <a name="2546255"></a> <br />CM-27637 | On the EdgeCore Minipack-AS8000 switch, a 100G DAC link does not come up when auto-negotiation is enabled on the neighbor. This switch does not support 100G DAC auto-negotiation at this time. | 4.0.0-4.4.5 | |
| <a name="2546225"></a> [2546225](#2546225) <a name="2546225"></a> <br />CM-27627 | When you execute the following command on the Delta AG6248C switch, the switch reboots and then comes right back into Cumulus Linux without installing the new image. The install image is still in <code>/var/lib/cumulus/installer</code>, which causes issues with cl-support. <br /> <pre> <br /> sudo onie-install -fai http://<path to image> <br /> sudo reboot <br /> </pre> <br /> To work around this issue, use the <code>onie-select</code> command to access ONIE, and then use the <code>nos-install</code> command in ONIE to install a new binary image.  | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546131"></a> [2546131](#2546131) <a name="2546131"></a> <br />CM-27581 | On the Delta AG-6248C PoE switch, when you run the <code>apt upgrade</code> command, the upgrade does not work. Cumulus Linux uses <code>uboot</code> directly instead of <code>grub</code> to boot the kernel. Uboot needs a special header to boot the kernel, which is not present. Without this header, when you use the <code>apt upgrade</code> command to upgrade Linux packages, <code>uboot</code> is unable to boot up the kernel. <br />To work around this issue, upgrade Cumulus Linux by installing the Cumulus Linux image. Run the <code>onie-select</code> command to go into ONIE, and then use the <code>nos-install</code> command in ONIE to install a new image.<br />This workaround only works when an out-of-band network is present. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2545837"></a> [2545837](#2545837) <a name="2545837"></a> <br />CM-27444 | If you use the NCLU commands to configure NTP and run the <code>net add time ntp source <interface></code> command before you run the <code>net add time ntp server <server> iburst</code> command, the <code>/etc/ntp.conf</code> file is misconfigured.<br />To work around this issue, run the <code>net add time ntp server <server> iburst</code> command before you run the <code>net add time ntp source <interface></code> command. | 3.7.10-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2545520"></a> [2545520](#2545520) <a name="2545520"></a> <br />CM-27243 | The length of the netlink message is not set properly for non-bridge family type messages. The same length is used for both bridge and non-bridge even though the bridge family type message has an extra attribute. This causes extra bytes to be left over in non-bridge family type netlink messages. | 3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2545233"></a> [2545233](#2545233) <a name="2545233"></a> <br />CM-27094 | On the Delta AG9032v1 switch, smonctl and sensors report inaccurate PSU current and power. | 4.0.0-4.4.5 | |
| <a name="2545125"></a> [2545125](#2545125) <a name="2545125"></a> <br />CM-27018 | If you configure more than one VRR interface on an SVI interface, deleting one of the VRR addresses does not remove the interface/address.  | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544978"></a> [2544978](#2544978) <a name="2544978"></a> <br />CM-26921 | If you delete an undefined bond, then add a bond slave, the <code>net commit</code> command fails. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544968"></a> [2544968](#2544968) <a name="2544968"></a> <br />CM-26913 | FRR configuration commands for an SVI interface might have the <code>\n</code> misplaced in the output.  For example:<br /><pre><br />sudo sh -c "printf 'interface 50\nvrf TEST description L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />should be:<br /><pre><br />sudo sh -c "printf 'interface 50 vrf TEST\ndescription L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />To work around this issue, configure the interface manually in the <code>/etc/frr/frr.conf</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544957"></a> [2544957](#2544957) <a name="2544957"></a> <br />CM-26907 | NCLU incorrectly allows you to apply port security configuration on layer 2 and layer 3 ports that are not part of a bridge. | 4.0.0-4.4.5 | |
| <a name="2544953"></a> [2544953](#2544953) <a name="2544953"></a> <br />CM-26905 | When you update the hostname of a switch with the NCLU <code>net add hostname <hostname></code> command, then run <code>net commit</code>, the <code>lldpd</code> service does not restart and other devices still see the old hostname.<br />To work around this issue, run the <code>sudo systemctl restart lldpd.service</code> command. | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544880"></a> [2544880](#2544880) <a name="2544880"></a> <br />CM-26860 | When you run the NCLU <code>net show commit last</code> or <code>net show commit <number></code> command, where <code><number></code> is the last commit, no output is shown.  | 4.0.0-4.4.5 | |
| <a name="2544723"></a> [2544723](#2544723) <a name="2544723"></a> <br />CM-26769 | Setting ProtoDown on ports populated with SFP modules providing RJ-45 1000BASE-T interfaces does not cause the carrier to be dropped. The kernel shows carrier down; however, the remote device still shows a link. | 3.7.6-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2544463"></a> [2544463](#2544463) <a name="2544463"></a> <br />CM-26599 | Auto-negotiation does not work with the QSFP28 cables and a remote system operating at 10G. Attempting to enable auto-negotiation with <code>ethtool -s swp<#> autoneg on</code> returns <code>Operation not supported</code>.<br />To work around this issue, do not use auto-negotiation and set the local port speed to 10G. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544456"></a> [2544456](#2544456) <a name="2544456"></a> <br />CM-26595 | The NCLU <code>net show lldp</code> command displays the speed of a ganged port group as the speed of one of the individual links, rather than the sum of their speeds. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544311"></a> [2544311](#2544311) <a name="2544311"></a> <br />CM-26516 | Applying a policy-based routing (PBR) rule for all traffic from a host might disrupt ARP refresh for that connected host. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544155"></a> [2544155](#2544155) <a name="2544155"></a> <br />CM-26423 | NCLU requires you to specify an interface with multiple <code>address-virtual</code> statements in ascending MAC address order. <br /><br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544113"></a> [2544113](#2544113) <a name="2544113"></a> <br />CM-26412 | Mac learning is not disabled by default on a double tagged peer link interface resulting in the MAC address changing between the MLAG bond and the peer link.<br />To work around this issue, disable MAC learning on QinQ VLANs by adding <code>bridge-learning off</code> to the VLAN stanza in the <code>etc/network/interfaces</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543937"></a> [2543937](#2543937) <a name="2543937"></a> <br />CM-26308 | An interface alias configured outside FRR using <code>iproute2</code> is imported into the FRR running configuration and overrides the internal description. After an FRR reload, this causes FRR to delete the interface alias in an inefficient way. Depending on how many interfaces with aliases you have configured, this can cause a FRR reload to time out.<br />To work around this issue, remove the interface alias description from <code>iproute2</code>. | 3.7.8-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | <code>systemctl</code> issues a warning similar to the following when you enable a service in the management VRF:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre> | 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2543900"></a> [2543900](#2543900) <a name="2543900"></a> <br />CM-26288 | On the Mellanox switch, static VXLAN tunnels incorrectly allow traffic from any remote tunnel IP address. | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543841"></a> [2543841](#2543841) <a name="2543841"></a> <br />CM-26256 | The <code>net show evpn vni detail json</code> command includes an extra empty dictionary at the end of the output. <br /> | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543816"></a> [2543816](#2543816) <a name="2543816"></a> <br />CM-26241 | On the Dell S5248F-ON switch, <code>smond</code> might generate syslog messages indicating that the fan input RPM is lower than the normal low speed of 2500 RPM. Speeds as low as 1700 RPM are acceptable in normal thermal environments; therefore, you can ignore these messages.<br /> | 3.7.6-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2543781"></a> [2543781](#2543781) <a name="2543781"></a> <br />CM-26217 | NCLU does not allow you to configure OSPF NSSAs. For example: <br /><pre><br />cumulus&#64;switch:~$ net add ospf area 0.0.0.1 nssa <br />ERROR: Command not found. <br />net add ospf area 0.0.0.1 nssa<br /></pre><br />To work around this issue, use FRR instead. For example: <br /><pre><br />switch# configure terminal <br />switch(config)# router ospf <br />switch(config-router)# area 0.0.0.1 nssa <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543724"></a> [2543724](#2543724) <a name="2543724"></a> <br />CM-26179 | If a hostname contains utf-8 characters, the NCLU <code>net show lldp</code> command outputs the following error: <br /><pre><br />ERROR: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128) <br />See /var/log/netd.log for more details.  <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543646"></a> [2543646](#2543646) <a name="2543646"></a> <br />CM-26136 | In an ebtables rule, ERSPAN (upper case) does not work. You need to specify erspan (lower case). | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543401"></a> [2543401](#2543401) <a name="2543401"></a> <br />CM-25986 | On the Mellanox Spectrum-2 switch, the time required to establish a link (from the time a link is set to <code>admin up</code> until the link becomes operationally up) can take up to 15 seconds on 40G interfaces and up to 30 seconds on 100G interfaces. <br />To work around this issue, wait up to 15 seconds on 40G interfaces and 30 seconds on 100G interfaces for the link to establish. | 4.0.0-4.4.5 | |
| <a name="2543211"></a> [2543211](#2543211) <a name="2543211"></a> <br />CM-25890 | In some cases, the <code>switchd</code> service might warn of excessive MAC moves from one switch port to itself (for example, from swp18 to swp18).<br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543164"></a> [2543164](#2543164) <a name="2543164"></a> <br />CM-25859 | The MTU of an SVI cannot be higher than the MTU on the bridge. Changing the MTU on the SVI with NCLU does not update the bridge MTU. The <code>net commit</code> command succeeds even though the MTU is not changed as expected.<br />To work around this issue, change the MTU on all SVIs and the bridge manually in the <code>/etc/network/interfaces</code> file, then apply the change with the <code>ifreload -a</code> command. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543096"></a> [2543096](#2543096) <a name="2543096"></a> <br />CM-25815 | When an SVI with a virtual MAC is configured with a layer 2 VNI in an EVPN environment, if you replace the <code>/etc/network/interfaces</code> file with a different file that does not have the SVI and layer 2 VNI configuration, the original virtual MAC is not populated through the EVPN route until FRR is restarted. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542945"></a> [2542945](#2542945) <a name="2542945"></a> <br />CM-25740 | On the Broadcom Maverick switch with a QinQ configuration, the packets coming into the CPU might be tagged incorrectly; for example, 802.1ad + 802.1q tags are expected in the packets but the packets have 802.1q + 802.1q tags. <br />To work around this issue, configure the bridge with <code>bridge-vlan-protocol 802.1ad</code>: <br /><pre><br />cumulus&#64;switch:~$ net add bridge mybridge vlan-protocol 802.1ad <br /></pre>  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542837"></a> [2542837](#2542837) <a name="2542837"></a> <br />CM-25674 | On Mellanox switches, policer iptables are not working as expected. For example, when using a policer with mode KB/MB/GB to rate-limit interfaces, the syntax is accepted but the data plane transfer speed is not affected by the rule.  | 3.7.6-3.7.8, 4.0.0-4.4.5 | 3.7.9-3.7.16|
| <a name="2542305"></a> [2542305](#2542305) <a name="2542305"></a> <br />CM-25400 | If an SVI exists in the configuration before you assign it an IP address, when you do assign the IP address with the NCLU command, the <code>vlan-id</code> and the raw-device bridge stanzas are not added automatically. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542301"></a> [2542301](#2542301) <a name="2542301"></a> <br />CM-25397 | When first creating a bond and enslaving an interface, NCLU hides some of the bridge command suggestions, although they are still accepted. <br /> | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541212"></a> [2541212](#2541212) <a name="2541212"></a> <br />CM-24894 | The <code>maximum-prefix</code> configuration under the IPv4 address family has an optional restart value, which you can configure. This configuration is ignored and, instead of restarting the sessions every x minutes, the peer constantly changes between established and idle due to the prefix count being exceeded.  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541029"></a> [2541029](#2541029) <a name="2541029"></a> <br />CM-24799 | On switches with the Trident2 ASIC, 802.1Q-encapsulated control plane traffic received on an interface with 802.1AD configured subinterfaces might be dropped. <br />This issue only affects QinQ configurations. <br />  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540753"></a> [2540753](#2540753) <a name="2540753"></a> <br />CM-24618 | If the interface alias contains a single or double quotation mark, or an apostrophe, the <code>net show configuration</code> commands fail with the following error: <br /><pre> <br />ERROR: No closing quotation <br />See /var/log/netd.log for more details. <br /></pre> <br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540444"></a> [2540444](#2540444) <a name="2540444"></a> <br />CM-24473 | SNMP incorrectly requires engine ID specification. <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540352"></a> [2540352](#2540352) <a name="2540352"></a> <br />CM-24435 | When you use NCLU to configure a route map, the parser allows for glob matching of interfaces for a _match interface_ condition when there can only be a single interface matched. The proper syntax is to use multiple route map clauses, each matching a single interface, instead of a single clause matching multiple interfaces. <br />For example, this command is incorrect: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9-10 <br /></pre> <br />These commands are correct: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9 <br />net add routing route-map Proxy-ARP permit 30 match interface swp10 <br /></pre> <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540340"></a> [2540340](#2540340) <a name="2540340"></a> <br />CM-24426 | NCLU allows for the configuration of addresses on VRF interfaces, but tab completion for the <code>net add vrf <name></code> command just displays <ENTER>. For example: <br /> <pre> <br /> cumulus&#64;switch:~$ net add vrf mgmt <br /> <ENTER> <br /> </pre> <br /> Tab completion for the <code>net add vrf <name> ip address <address></code> command works correctly.  | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540274"></a> [2540274](#2540274) <a name="2540274"></a> <br />CM-24379 | On the Maverick switch, CPU forwarded packets might be dropped when there is no route to a leaked host route. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540204"></a> [2540204](#2540204) <a name="2540204"></a> <br />CM-24350 | When links come up after FRR is started, VRF connected routes do not get redistributed. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540192"></a> [2540192](#2540192) <a name="2540192"></a> <br />CM-24343 | The <code>net del bridge bridge mcsnoop yes</code> command does not return the value to the default of disabled. <br />To work around this issue, use the <code>net add bridge bridge mcsnoop no</code> command to delete the <code>mcsnoop attribute</code> and return to the default value. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540155"></a> [2540155](#2540155) <a name="2540155"></a> <br />CM-24332 | On the Broadcom switch, when moving configuration from bridged to routed (or toggling from routed to bridged to routed), some traffic is not seen by the kernel. This can cause BGP to not establish on a transit node. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540042"></a> [2540042](#2540042) <a name="2540042"></a> <br />CM-24272 | When you try to configure the VRRP priority and advertisement-interval with NCLU on a traditional mode bridge, the <code>net commit</code> command fails. <br />To work around this issue, use the vtysh command (inside FRR) to change the VRRP priority or advertisement-interval on traditional bridges. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface br0.100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# vrrp 1 advertisement-interval <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540041"></a> [2540041](#2540041) <a name="2540041"></a> <br />CM-24271 | On SVIs in a VLAN-aware bridge, you cannot change the VRRP priority with NCLU. <br />To work around this issue, run the vtysh command inside FRR to change the default priority. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface vlan100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540040"></a> [2540040](#2540040) <a name="2540040"></a> <br />CM-24270 | Cumulus Linux uses VRRPv3 as the default version, and enables both preempt and accept mode by default. You cannot change these default values with NCLU. To work around this issue, run the vtysh commands (inside FRR) to change the default values. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface swp4 <br />switch(config-if)# vrrp 1 version 2 <br />switch(config-if)# no vrrp 1 preempt <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540031"></a> [2540031](#2540031) <a name="2540031"></a> <br />CM-24262 | NCLU does not honor <code>auto all</code> in the <code>/etc/network/interfaces</code> file and removes the existing configuration if no individual <code>auto <iface></code> lines exist. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539994"></a> [2539994](#2539994) <a name="2539994"></a> <br />CM-24241 | When you try to remove a BGP peer group configuration with NCLU, the command fails but no warning message is shown. For example: <br /><pre> <br />cumulus&#64;switch:~$ net del bgp neighbor fabric peer-group<br />'router bgp 65001' configuration does not have 'neighbor fabric peer-group' <br /></pre> <br />  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539962"></a> [2539962](#2539962) <a name="2539962"></a> <br />CM-24222 | When an LDAP user that does not have NCLU privileges (either in the <code>netshow</code> or <code>netedit</code> group, or in the <code>/etc/netd.conf</code> file) runs an NCLU command, a traceback occurs instead of a permissions error. <br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539670"></a> [2539670](#2539670) <a name="2539670"></a> <br />CM-24035 | On the Edgecore 4610-54P switch, automatic medium-dependent interface crossover (auto-MDIX) stops working on a 100M full duplex interface and does not detect the required cable connection type. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539124"></a> [2539124](#2539124) <a name="2539124"></a> <br />CM-23825 | The <code>net add interface <interface> ptm-enable</code> command adds <code>no ptm-enable</code> for that interface in the <code>frr.conf</code> file. <br />Running the <code>net add</code> or the <code>net del</code> command does not remove <code>no ptm-enable</code> from the <code>frr.conf</code> file. You have to remove it manually using vtysh. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538790"></a> [2538790](#2538790) <a name="2538790"></a> <br />CM-23665 | NCLU automatically adds the VLAN ID (for the layer 3 VNI/SVI) to the bridge when you run <code>net add vxlan <layer3-vni> bridge access <vlan></code>. This configuration breaks network connectivity in an EVPN symmetric routing configuration using MLAG. <br />To restore connectivity, remove the VLAN ID from the bridge.  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538590"></a> [2538590](#2538590) <a name="2538590"></a> <br />CM-23584 | When you configure a control plane ACL to define permit and deny rules destined to the local switch, NCLU programs the control plane ACL rules into the FORWARD chain. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538562"></a> [2538562](#2538562) <a name="2538562"></a> <br />CM-23570 | On an RMP/1G-T switch, when you remove <code>link-speed 100</code> with the NCLU command or by editing the <code>etc/network/interfaces</code> file to revert the 100M interface to the default (1G auto), the interface fails to recover and does not come back up.<br />After you remove the link-speed, <code>ethtool</code> shows the advertised link modes as not reported and Speed/Duplex as unknown.<br />To work around this issue and bring the interface back up, either restart <code>switchd</code> or use ethtool to configure the speed, advertised, duplex or MDI-X settings. <br />Note: The advertised link mode gets set incorrectly if you include 1000baseT/Half. The port will come up successfully at 1G. | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538294"></a> [2538294](#2538294) <a name="2538294"></a> <br />CM-23417 | If you use NCLU to create an iBGP peering across the peer link, running the <code>net add bgp l2vpn evpn neighbor peerlink.4094 activate</code> command creates a new eBGP neighborship when one has already been configured for iBGP. This is unexpected; the existing iBGP configuration is valid.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537699"></a> [2537699](#2537699) <a name="2537699"></a> <br />CM-23075 | There is a limitation on the number of SVI interfaces you can specify as DHCP relay interfaces in the <code>/etc/default/isc-dhcp-relay</code> file. For example, 1500 SVI interfaces causes the <code>dhcrelay</code> service to exit without a core file and logs similar to the following are generated for the interfaces: <br /><pre> <br />2018-11-10T23:35:30.992370-08:00 Dev dhcrelay: Listening on LPF/vlan.101/a0:00:00:00:00:51 <br />2018-11-10T23:35:30.993472-08:00 Dev dhcrelay: Sending on LPF/vlan.101/a0:00:00:00:00:51 <br /></pre> <br />Eventually the <code>dhcrelay</code> service stops. <br /> | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537544"></a> [2537544](#2537544) <a name="2537544"></a> <br />CM-23021 | When you run the <code>mstpctl</code> command, you might see the bridge-port state as blocking when it is actually disabled. You might see the same incorrect bridge-port state when other programs or tools use the output of <code>mstpctl</code>; for example, SNMP output from the BRIDGE-MIB. | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536576"></a> [2536576](#2536576) <a name="2536576"></a> <br />CM-22554 | If you try to bring down several members of a bond remotely at the same time, the link state of one of the interfaces might not transition correctly to the down state; however, all links show down in hardware. <br />  | 4.0.0-4.4.5 | |
| <a name="2536384"></a> [2536384](#2536384) <a name="2536384"></a> <br />CM-22386 | The BFD packet redirection logic used by OVSDB server high availability mode redirects BUM packets across the peer link. The iptables rule for redirection does differentiate between BFD and non-BFD VXLAN inner packets because the service node sends all frames with its own IP address as the tunnel source IP address. The VXLAN encapsulated BUM packets do not get forwarded to the CPU and do not go through the iptable redirection rule; only VXLAN encapsulated BFD packets get forwarded to the CPU due to the inner MAC DA lookup in hardware. <br />  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536256"></a> [2536256](#2536256) <a name="2536256"></a> <br />CM-22301 | For an unresolved address, the IPROUTER default policer rule has been modified to _not_ match on packets exiting a TUNNEL and headed to the CPU to resolve the address via ARP. As a result, the following default rule no longer matches TUNNEL ingress packets. <br /><pre> <br />A $INGRESS_CHAIN --in-interface $INGRESS_INTF -m addrtype --dst-type <br />IPROUTER -j POLICE --set-mode pkt --set-rate 400 --set-burst 100 <br /></pre> <br />These packets are now policed by catch all rules. <br />To work around this issue, the VPORT value on a TRIDENT switch must be changed from binary 011 to 100. <br /> | 4.0.0-4.4.5 | |
| <a name="2536242"></a> [2536242](#2536242) <a name="2536242"></a> <br />CM-22287 | On the EdgeCore AS7712 (Tomahawk) switch running in atomic mode, when a layer 3 ECMP path is brought down, traffic traversing the path stops working for about four seconds. When the switch is changed to non-atomic mode, the delay is less than one second. This issue is seen across OSPF and static ECMP routes.  | 4.0.0-4.4.5 | |
| <a name="2536179"></a> [2536179](#2536179) <a name="2536179"></a> <br />CM-22228 | On switches with the Trident 2+ ASIC, counters associated with VLANs and VRFs are not working. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535986"></a> [2535986](#2535986) <a name="2535986"></a> <br />CM-22041 | At a high CPU transmit traffic rate (for example, if there is unexpected CPU generated flooding or replication in software), when the ASIC packet driver cannot keep up with the transmit rate because there are no free DMA buffers, it can back pressure by suspending the switch port transmit queues. This can fill up the application socket buffers resulting in <code>No buffer space available</code> error messages on protocol sockets.<br />When the driver recovers, it automatically resumes the transmit queues. In most cases these error messages are transient. In rare cases, the hardware queues might get stuck, which you can recover with a <code>switchd</code> restart. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535965"></a> [2535965](#2535965) <a name="2535965"></a> <br />CM-22020 | On the Trident3 switch, static PIM with IIF based on a layer 2 bridge does not work reliably. PIM Join via signaling is required for IPMC to work properly.<br />To work around this issue, use dynamic signaling (joins) to manage IP multicast traffic. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535723"></a> [2535723](#2535723) <a name="2535723"></a> <br />CM-21785 | The source address of the ICMPv6 time exceeded message (traceroute hop) is sourced from the wrong VRF when the traceroute target resides on the same switch but in a different VRF. | 4.0.0-4.4.5 | |
| <a name="2535605"></a> [2535605](#2535605) <a name="2535605"></a> <br />CM-21667 | FRR does not add BGP <code>ttl-security</code> to either the running configuration or to the <code>/etc/frr/frr.conf</code> file when configured on a peer group instead of a specific neighbor. <br />To work around this issue, add <code>ttl-security</code> to individual neighbors instead of the peer group. | 4.0.0-4.4.5 | |
| <a name="2535209"></a> [2535209](#2535209) <a name="2535209"></a> <br />CM-21278 | The <code>net show lldp</code> command sometimes shows the port description in the <code>Remote Port</code> field. The <code>net show interface</code> command shows the correct value in the <code>Remote Host</code> field.<br />To work around this issue, use <code>net show interface</code> command for LLDP output when connected to Cisco equipment. | 3.7.5-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2534734"></a> [2534734](#2534734) <a name="2534734"></a> <br />CM-20813 | Span rules matching the out-interface as a bond do not mirror packets. | 4.0.0-4.4.5 | |
| <a name="2533691"></a> [2533691](#2533691) <a name="2533691"></a> <br />CM-19788 | If you configure a VLAN under a VLAN-aware bridge and create a subinterface of the same VLAN on one of the bridge ports, the bridge and interface compete for the same VLAN and if the interface is flapped, it stops working. Correcting the configuration and running the <code>ifreload</code> command does not resolve the conflict. <br />To work around this issue, correct the bridge VIDs and restart <code>switchd</code> or delete the subinterface.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2533625"></a> [2533625](#2533625) <a name="2533625"></a> <br />CM-19724 | PIM and MSDP entries are set to the internal COS value of 6 so they are grouped together with the bulk traffic priority group in the default <code>traffic.conf</code> file. However, PIM, IGMP, and MSDP are considered control-plane and should be set to the internal COS value of 7.  | 4.0.0-4.4.5 | |
| <a name="2533337"></a> [2533337](#2533337) <a name="2533337"></a> <br />CM-19454 | When you use NCLU to bring a bond admin down (<code>net add bond <bond> link down</code>), the bond interface goes into admin down state but the switch ports enslaved to the bond remain UP. If you are using bond-lacp-bypass-allow or balance-xor mode, the host might continue to send traffic. This traffic will be dropped because although the bond slaves are UP, they are not members of the bridge.<br />To work around this issue, use the <code>sudo ifdown <bondname></code> command. | 4.0.0-4.4.5 | |
| <a name="2531273"></a> [2531273](#2531273) <a name="2531273"></a> <br />CM-17494 | In certain cases, a peer device sends an ARP request from a source IP address that is not on the connected subnet and the switch creates a STALE neighbor entry. Eventually, the switch attempts to keep the entry fresh and sends ARP requests to the host. If the host responds, the switch has REACHABLE neighbor entries for hosts that are not on the connected subnet. <br />To work around this issue, change the value of <code>arp_ignore</code> to 2. See &#91;Address Resolution Protocol in the Cumulus Linux user guide\|https://docs.cumulusnetworks.com/cumulus-linux/Layer-3/Address-Resolution-Protocol-ARP/&#93; for more information. | 4.0.0-4.4.5 | |

### Fixed Issues in 4.4.4
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3297171"></a> [3297171](#3297171) <a name="3297171"></a> <br /> | Restarting <code>switchd</code> might fail due an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | |
| <a name="3107615"></a> [3107615](#3107615) <a name="3107615"></a> <br /> | Cumulus Linux installation fails with the error <code>Installation Problems, sub-task Installing Optional Packages</code>. This occurs because the web server hosting the Cumulus Linux image remaps a 404 for a non-existent file <code>image.optional_pkgs</code> into a web page, which it then incorrectly attempts to use as a list of optional packages<br />To work around this issue, on the web server hosting the image, create an empty file with the same name as the image with <code>.optional_pkgs</code> appended to the name. | 4.4.0-4.4.3 | |
| <a name="3091381"></a> [3091381](#3091381) <a name="3091381"></a> <br /> | Restarting <code>switchd</code> might fail due to an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | |
| <a name="3089165"></a> [3089165](#3089165) <a name="3089165"></a> <br /> | A slow memory leak might occur in <code>switchd</code>} if the route fails to install in hardware when hardware resources are exhausted. | 4.2.1-4.4.3 | |
| <a name="3089148"></a> [3089148](#3089148) <a name="3089148"></a> <br /> | The <code>clagd</code> process uses 100 percent CPU and eventually crashes with an <code>Unable to allocate memory</code> error. | 4.3.0 | |
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | QOS traffic shaping doesn’t restore the default configuration after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.4.0 | |
| <a name="3083265"></a> [3083265](#3083265) <a name="3083265"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 3.7.16-4.4.3 | |
| <a name="3082583"></a> [3082583](#3082583) <a name="3082583"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3078202"></a> [3078202](#3078202) <a name="3078202"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up. To work around this issue, disable, then enable the port. | 5.0.0-5.2.1 | |
| <a name="3077737"></a> [3077737](#3077737) <a name="3077737"></a> <br /> | The <code>update-ports.service</code> fails because a blank space in the comment lines of the <code>/etc/cumulus/ports.conf</code> file causes parsing errors<br />To work around this issue, remove the blank spaces in the commented lines, then restart the <code>update-ports</code> and <code>switchd</code> services. | 3.7.15-4.3.0 | |
| <a name="3073649"></a> [3073649](#3073649) <a name="3073649"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3060399"></a> [3060399](#3060399) <a name="3060399"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isn’t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.1.0 | |
| <a name="3058604"></a> [3058604](#3058604) <a name="3058604"></a> <br /> | When you change the time with NTP or manually, the clagd service stops. | 4.3.0 | |
| <a name="3041306"></a> [3041306](#3041306) <a name="3041306"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0, 4.4.0-4.4.3, 5.0.0-5.0.1 | |
| <a name="3031228"></a> [3031228](#3031228) <a name="3031228"></a> <br /> | In a static VXLAN configuration with a traditional or single VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 4.3.0 | |
| <a name="3023256"></a> [3023256](#3023256) <a name="3023256"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3 | |
| <a name="3021887"></a> [3021887](#3021887) <a name="3021887"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.0.1 | |
| <a name="3021879"></a> [3021879](#3021879) <a name="3021879"></a> <br />CM-33013 | Cumulus Linux learns remote MAC addresses as local entries on the bridge with the wrong remote VTEP IP address even when bridge learning is off on the VTEP and ARP suppression is enabled.  | 4.4.0-4.4.3 | |
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface.  This issue occurs only when you specify <code>bridge-vids</code> on the bond. This issue does not occur  when you configure VLANs only on the bridge interface and let the bond get the <code>bridge-vids</code> applied from the bridge. | 4.4.2-4.4.3 | |
| <a name="3021698"></a> [3021698](#3021698) <a name="3021698"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards<br />To work around this issue, restart <code>switchd</code> with the <code>sudo systemctl restart switchd.service</code> command. | 4.4.2-4.4.3, 5.0.0-5.0.1 | |
| <a name="3021692"></a> [3021692](#3021692) <a name="3021692"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3020157"></a> [3020157](#3020157) <a name="3020157"></a> <br /> | When you configure QoS remarking on a bond, the port stops forwarding traffic.  |  | |
| <a name="3018159"></a> [3018159](#3018159) <a name="3018159"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3, 5.0.0-5.0.1 | |
| <a name="3017180"></a> [3017180](#3017180) <a name="3017180"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-4.4.3, 5.0.0-5.0.1 | |
| <a name="2961216"></a> [2961216](#2961216) <a name="2961216"></a> <br /> | When there is a peer link failure followed by a power failure or a crash on the primary switch,  the MLAG secondary switch takes up to 24 seconds to change roles to the Primary. | 4.4.2-4.4.3 | |

## 4.4.3 Release Notes
### Open Issues in 4.4.3

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3434315"></a> [3434315](#3434315) <a name="3434315"></a> <br /> | IPv6 BGP sessions in a VRF do not be establish with MD5 authentication. | 4.3.0-4.4.5 | |
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3419953"></a> [3419953](#3419953) <a name="3419953"></a> <br /> | If you remove a double tagged bridge port from a bridge when a different interface exists with the same port and virtual ID, you might see a segmentation fault and a <code>switchd</code> crash due to incorrect initialization when Cumulus Linux creates the second double-tagged interface. To work around this issue, make sure you remove the double-tagged interfaces from the bridge in the <code>/etc/network/interfaces</code> file. | 4.3.1-4.4.5 | |
| <a name="3413826"></a> [3413826](#3413826) <a name="3413826"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 4.2.1-4.4.5 | |
| <a name="3401121"></a> [3401121](#3401121) <a name="3401121"></a> <br /> | sFlow is not able to sample packets in the egress direction. To work around this issue, add the following to the <code>hsflowd.conf</code> file to enable egress sampling:<pre>samplingDirection=outpsample { group=1 }</pre> | 4.3.0-4.4.5 | |
| <a name="3389994"></a> [3389994](#3389994) <a name="3389994"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbor entries cannot synchronize between MLAG nodes. During this transitory upgrade state, neighbor entry resolution relies on data plane traffic being forwarded to the CPU so ARP can resolve the necessary neighbor entry before traffic can go through the fastpath. | 4.2.1-4.4.5 | |
| <a name="3387852"></a> [3387852](#3387852) <a name="3387852"></a> <br />None | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload because the <code>libyaml-0-2</code> and <code>python-yaml </code> packages are missing; these packages are required for <code>switchd</code> consistency checking. To work around this issue, reinstall the <code>libyaml-0-2</code> and <code>python-yaml </code>packages. | 4.4.0-4.4.5 | |
| <a name="3376798"></a> [3376798](#3376798) <a name="3376798"></a> <br /> | On Broadcom switches, Cumulus Linux does not create the hardware bridging domain for a traditional bridge with a VXLAN interface during <code>switchd</code> restart. The <code>/var/log/switchd.log</code> file includes the following exception logs shortly after <code>switchd</code> restarts:<pre>switchd&#91;30158&#93;: hal_bcm_l3.c:1617 find_egr_path_if_vxlan_overlay:vxlan overlay : nh PORT: port <#>, vlan <x>.<y> not yet ready</pre>MAC learning looks correct, but traffic does not flow as expected. | 3.7.0-3.7.16, 4.3.1-4.4.5 | |
| <a name="3366612"></a> [3366612](#3366612) <a name="3366612"></a> <br /> | The base version of the Linux kernel is updated to the v4.19.273 stable release, which includes fixes for several CVE issues. | 4.3.1-4.4.5 | |
| <a name="3364717"></a> [3364717](#3364717) <a name="3364717"></a> <br />None | On the Trident 2+ and Trident 3 switch when using VXLAN layer 2 VPNs and sending tunneled traffic where the inner IP header has a TTL of 1, the egress VTEP incorrectly forwards this traffic through the software path instead of the hardware data plane. This traffic is rate-limited to 100pps by default.  To work around this issue, ensure that the traffic traversing the layer 2 tunnel has an inner IP header TTL value that is more than 1.  If this workaround is not possible, contact Nvidia Support to determine other options. | 4.3.0-4.4.5 | |
| <a name="3358865"></a> [3358865](#3358865) <a name="3358865"></a> <br />None | When you reboot a Broadcom switch with a static default route configured, the route might be installed in hardware without a next hop. This results in forwarded traffic to the CPU and drops. To recover from this issue, remove the default route configuration and reapply it. To prevent this issue, before rebooting the switch, split the default route configuration into two routes as below:<pre>ip route 0.0.0.0/1 10.1.1.1ip route 128.0.0.0/1 10.1.1.1</pre> | 4.3.1-4.4.5 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-5.3.1 | 5.4.0-5.4.0|
| <a name="3334036"></a> [3334036](#3334036) <a name="3334036"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3334031"></a> [3334031](#3334031) <a name="3334031"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3333064"></a> [3333064](#3333064) <a name="3333064"></a> <br />None | The traffic control rules that the EVPN multihoming configuration adds to an interface are deleted when the <code>hsflowd</code> service restarts. The <code>hsflowd</code> service deletes the EVPN multihoming traffic control filters after you stop <code>hsflowd</code>, then adds back the <code>match-all</code> filters with the <code>psample</code> action; however, <code>hsflowd</code> does not add back the EVPN multihoming traffic control rules. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3303105"></a> [3303105](#3303105) <a name="3303105"></a> <br />None | Clagd crash is observed with the following traceback in /var/log/clagd.log following a clag sync event which is typically driven by a peerlink up event:<br />unhandled exception:<br />    Traceback (most recent call last):<br />      File "/usr/sbin/clagd", line 1304, in PeerRecvT<br />        PeerRecv()<br />      File "/usr/sbin/clagd", line 513, in PeerRecv<br />        ParseProtoBufMessage(nlm, myPeerMsg)<br />      File "/usr/sbin/clagd", line 853, in ParseProtoBufMessage<br />        msgData = FdbSync.ParseProtoBufMessage(msgHdr)<br />      File "/usr/lib/python3/dist-packages/clag/fdbsync.py", line 892, in ParseProtoBufMessage<br />        msgData.ParseFromString(msgHdr.data)<br />    google.protobuf.message.DecodeError: Error parsing message | 4.4.0-4.4.4 | 4.4.5|
| <a name="3297171"></a> [3297171](#3297171) <a name="3297171"></a> <br /> | Restarting <code>switchd</code> might fail due an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | 4.4.4-4.4.5|
| <a name="3293110"></a> [3293110](#3293110) <a name="3293110"></a> <br /> | You cannot set the NTF router flag (NTF_ROUTER) on neighbor entries from the user space. | 4.4.2-4.4.5 | |
| <a name="3292873"></a> [3292873](#3292873) <a name="3292873"></a> <br /> | When you run ZTP manually with the <code>ztp -R</code> command, then the <code>ztp -vb</code> command, the process stalls indefinitely while searching the local (USB) location and not using DHCP information. To work around this issue, run the <code>ztp -r</code> command with the URL of the ZTP server:<pre>&#91;Dec-08-17:09:58&#93; root&#64;switch:/home/cumulus#  ztp -r http://myztp.server.local/ztp</pre> | 4.4.2-4.4.5 | |
| <a name="3291548"></a> [3291548](#3291548) <a name="3291548"></a> <br />None | In EVPN deployments,  a buffer lockup for split or pre-split ports can occur on Spectrum-2 and Spectrum-3 switches. As result, traffic coming in on these ports is dropped in the RX buffer. To work around this issue, restart <code>switchd</code>. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="3288385"></a> [3288385](#3288385) <a name="3288385"></a> <br /> | On the EdgeCore AS7326-56X and AS7726-32X switch, the fan speed reports a minimum threshold in the logs. | 4.3.1-4.4.5 | |
| <a name="3288156"></a> [3288156](#3288156) <a name="3288156"></a> <br />None | When you configure a new VNI, the VLAN 1 VNI mapping is removed from the VXLAN device. To work around this issue, set the VNI interface mapped to VLAN 1 down and up again. | 4.4.3-5.1.0 | 5.2.0-5.4.0|
| <a name="3284719"></a> [3284719](#3284719) <a name="3284719"></a> <br /> | Certain EVPN multihoming show commands might cause the <code>bgpd</code> service to crash if you use the <code>json</code> flag and try to reference the default VRF by name. For example: <code>show bgp l2vpn evpn es-vrf json</code>. | 4.4.2-4.4.5 | |
| <a name="3269538"></a> [3269538](#3269538) <a name="3269538"></a> <br />None | The <code>cl-ecmpcalc</code> command prints the following error when the egress interface is a bond or SVI:<pre>ecmpcalc: will query hardwareTraceback (most recent call last):File “/usr/cumulus/bin/cl-ecmpcalc”, line 986, inisTrunkMbr, port = ecmp.getHdPort(hd_cmd)File “/usr/cumulus/bin/cl-ecmpcalc”, line 618, in getHdPortport = int(str4)ValueError: invalid literal for int() with base 10: ‘0t</pre> | 4.3.0-4.4.5 | |
| <a name="3269537"></a> [3269537](#3269537) <a name="3269537"></a> <br />None | When an FRR routing service (such as <code>bgpd</code>) becomes unresponsive, <code>watchfrr</code> might fail to stop and restart service. To work around this issue, restart FRR with the <code>systemctl restart frr</code> command. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3267353"></a> [3267353](#3267353) <a name="3267353"></a> <br /> | In a QinQ configuration, if the VLAN priority is a non-zero value, double-tagged packets are translated to triple-tagged packets.  | 4.3.1-4.4.5 | |
| <a name="3244740"></a> [3244740](#3244740) <a name="3244740"></a> <br />None | If you have a lot of inbound route maps that match lists with many regex statements, a large number of updates from the peer can cause the system to run out of memory. To work around this issue, reduce the number of regex matches in inbound route maps. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3240406"></a> [3240406](#3240406) <a name="3240406"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.4.2-4.4.5 | |
| <a name="3236365"></a> [3236365](#3236365) <a name="3236365"></a> <br />None | When you run docker commands, the command process might crash. The crash can occur during the <code>apt upgrade</code> process, where you can run docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running docker commands or   running <code>apt upgrade</code> to upgrade to Cumulus Linux 43.1. | 4.3.1-4.4.5 | |
| <a name="3236334"></a> [3236334](#3236334) <a name="3236334"></a> <br />None | Using ARP suppression with a very large number of interfaces might result in missing ARP entries on the local device or buffer underrun warnings in the <code>neighmgrd</code> log. | 4.3.0-4.4.5 | |
| <a name="3235956"></a> [3235956](#3235956) <a name="3235956"></a> <br /> | With certain triggers on Broadcom switches, such as adding or deleting a VNI or reloading the network, Cumulus Linux might consider the underlay routes as overlay routes. In this case, <code>switchd</code> allocates the overlay next hop, which is incorrect and might affect traffic forwarding. | 4.3.0-4.4.5 | |
| <a name="3234031"></a> [3234031](#3234031) <a name="3234031"></a> <br />None | If BGP <code>neighbor <name> allowas-in</code> is set, negating with no <code>no neighbor <name> allowas-in</code> does not disable the setting. To work around this issue and disable the setting, restart the FRR service. | 4.2.1-5.2.1 | 5.3.0-5.4.0|
| <a name="3226579"></a> [3226579](#3226579) <a name="3226579"></a> <br />None | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-4.4.5 | |
| <a name="3221470"></a> [3221470](#3221470) <a name="3221470"></a> <br />None | Under heavy system load, when many forwarding resources (routes, neighbors, ECMP groups, and so on) are removed from hardware, subsequent attempts to configure additional forwarding resources might fail and you see the following log message:<pre>sx_sdk: EMAD_RX_THREAD: EMAD transaction FW error</pre> | 4.4.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3216921"></a> [3216921](#3216921) <a name="3216921"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-3.7.16, 4.3.0-4.4.5 | |
| <a name="3216759"></a> [3216759](#3216759) <a name="3216759"></a> <br />None | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-4.4.4 | 4.4.5|
| <a name="3211359"></a> [3211359](#3211359) <a name="3211359"></a> <br /> | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU – Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3209699"></a> [3209699](#3209699) <a name="3209699"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-4.3.0, 4.4.0-5.2.1 | 4.3.1, 5.3.0-5.4.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3168564"></a> [3168564](#3168564) <a name="3168564"></a> <br /> | In a large scale VXLAN configuration (for example if you have more than 8500 VLANs across ports), <code>switchd</code> might crash when you restart <code>clagd</code> or when all bonds go operationally down, then up<br />On Trident3 switches running Cumulus Linux 4.3.1, NVIDIA validates the VLAN scale limit for VXLAN deployments with 8500 VLANs across ports with LACP bypass disabled. | 4.3.1-4.4.5 | |
| <a name="3163845"></a> [3163845](#3163845) <a name="3163845"></a> <br /> | If bond slaves listed in the <code>/etc/network/interfaces</code> file are not in alphabetical order, the bond interface MAC address can change when you run <code>ifreload</code>. For example, if the bond slaves in the <code>/etc/network/interfaces</code> file are listed as <code>swp32 swp31</code>, the switch initially uses the MAC address for swp32 as the bond MAC address. An another <code>ifreload</code> can cause this to change to use the MAC address for swp31 as the bond MAC address, which can cause protocol issues, such as IPv6 link-local address changes. | 4.3.1-4.4.5 | |
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3135801"></a> [3135801](#3135801) <a name="3135801"></a> <br />None | Zebra rejects MAC IP updates from BGP when the MAC mobility sequence number that BGP sends is lower than the sequence number known to zebra<br />When the MAC mobility sequence that BGP knows legitimately lowers (due to narrow timing conditions during convergence or after rebooting an MLAG pair one VTEP at a time),  zebra rejects these updates and maintains a stale state. If the stale information that zebra uses points to the wrong VTEP address, traffic goes to the wrong VTEP and might drop. | 4.0.0-4.3.0, 4.4.0-4.4.5 | 3.7.16, 4.3.1|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3129819"></a> [3129819](#3129819) <a name="3129819"></a> <br /> | On the EdgeCore AS4610 switch, the <code>clagd</code> service loses communication after 198 days of uptime. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR (for example: <code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>), then make subsequent VRF or route configuration changes, FRR might crash. To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-5.1.0 | 5.2.0-5.4.0|
| <a name="3107615"></a> [3107615](#3107615) <a name="3107615"></a> <br /> | Cumulus Linux installation fails with the error <code>Installation Problems, sub-task Installing Optional Packages</code>. This occurs because the web server hosting the Cumulus Linux image remaps a 404 for a non-existent file <code>image.optional_pkgs</code> into a web page, which it then incorrectly attempts to use as a list of optional packages<br />To work around this issue, on the web server hosting the image, create an empty file with the same name as the image with <code>.optional_pkgs</code> appended to the name. | 4.4.0-4.4.3 | 4.3.1, 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3098936"></a> [3098936](#3098936) <a name="3098936"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3093966"></a> [3093966](#3093966) <a name="3093966"></a> <br /> | On Broadcom switches, INPUT chain iptable rules filter IPv6 packets matching the rules.  | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3091381"></a> [3091381](#3091381) <a name="3091381"></a> <br /> | Restarting <code>switchd</code> might fail due to an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | 4.4.4-4.4.5, 5.0.0-5.4.0|
| <a name="3089165"></a> [3089165](#3089165) <a name="3089165"></a> <br /> | A slow memory leak might occur in <code>switchd</code>} if the route fails to install in hardware when hardware resources are exhausted. | 4.2.1-4.4.3 | 4.4.4-4.4.5|
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | QOS traffic shaping doesn’t restore the default configuration after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.4.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3083265"></a> [3083265](#3083265) <a name="3083265"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 3.7.16-5.1.0 | 5.2.0-5.4.0|
| <a name="3082583"></a> [3082583](#3082583) <a name="3082583"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3073668"></a> [3073668](#3073668) <a name="3073668"></a> <br /> | On the EdgeCore AS4610 switch, when you change the speed of any of the SFP+ ports, the other SFP+ ports flap. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3073649"></a> [3073649](#3073649) <a name="3073649"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3072613"></a> [3072613](#3072613) <a name="3072613"></a> <br /> | When  you delete a bond interface with NCLU, BGP peer group configuration is removed. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3070672"></a> [3070672](#3070672) <a name="3070672"></a> <br /> | TACACS Command Authorization results in a traceback error and command is not executed | 4.4.0-4.4.5 | |
| <a name="3060399"></a> [3060399](#3060399) <a name="3060399"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isn’t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.4.0|
| <a name="3041306"></a> [3041306](#3041306) <a name="3041306"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3023256"></a> [3023256](#3023256) <a name="3023256"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3 | 4.4.4-4.4.5|
| <a name="3021887"></a> [3021887](#3021887) <a name="3021887"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021879"></a> [3021879](#3021879) <a name="3021879"></a> <br />CM-33013 | Cumulus Linux learns remote MAC addresses as local entries on the bridge with the wrong remote VTEP IP address even when bridge learning is off on the VTEP and ARP suppression is enabled.  | 4.4.0-4.4.3 | 3.7.15-3.7.16, 4.4.4-4.4.5, 5.0.0-5.4.0|
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface.  This issue occurs only when you specify <code>bridge-vids</code> on the bond. This issue does not occur  when you configure VLANs only on the bridge interface and let the bond get the <code>bridge-vids</code> applied from the bridge. | 4.4.2-4.4.3 | 4.4.4-4.4.5, 5.1.0-5.4.0|
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021698"></a> [3021698](#3021698) <a name="3021698"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards<br />To work around this issue, restart <code>switchd</code> with the <code>sudo systemctl restart switchd.service</code> command. | 4.4.2-4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.4.0|
| <a name="3021692"></a> [3021692](#3021692) <a name="3021692"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3018159"></a> [3018159](#3018159) <a name="3018159"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3017180"></a> [3017180](#3017180) <a name="3017180"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0-5.4.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.4.0, 5.2.0-5.4.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="2971159"></a> [2971159](#2971159) <a name="2971159"></a> <br /> | On rare occasions, the link up time on optical media can be more than five seconds.  | 4.4.3-4.4.5 | |
| <a name="2965759"></a> [2965759](#2965759) <a name="2965759"></a> <br /> | On the EdgeCore AS4610-54T switch, the fan speed reports a minimum threshold in the logs. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.4.0 | 3.7.16|
| <a name="2961216"></a> [2961216](#2961216) <a name="2961216"></a> <br /> | When there is a peer link failure followed by a power failure or a crash on the primary switch,  the MLAG secondary switch takes up to 24 seconds to change roles to the Primary. | 4.4.2-4.4.3 | 4.4.4-4.4.5|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="2947679"></a> [2947679](#2947679) <a name="2947679"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15-3.7.16, 4.4.2-4.4.5 | |
| <a name="2944167"></a> [2944167](#2944167) <a name="2944167"></a> <br /> | When you use NCLU commands to add a port to a bridge and the port already exists under the bridge, Cumulus Linux removes all other ports from the bridge. | 4.4.2-4.4.5 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2940051"></a> [2940051](#2940051) <a name="2940051"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16, 5.0.0-5.4.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2902013"></a> [2902013](#2902013) <a name="2902013"></a> <br /> | The NCLU commit  command adds a five second delay. | 4.2.1-4.4.5 | |
| <a name="2896450"></a> [2896450](#2896450) <a name="2896450"></a> <br />CM-31978 | On the Dell N3248PXE switch, fixed RJ45 interfaces with PoE neighbors can end up in <code>Paused</code> mode after a <code>switchd</code> restart, which blocks traffic on that interface. To work around this issue, restart <code>switchd</code> a second or third time until all interfaces are functioning correctly, or reboot the switch. | 4.3.0-4.4.5 | |
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2866080"></a> [2866080](#2866080) <a name="2866080"></a> <br /> | On the Maverick S4148T switch with MLAG, Cumulus Linux drops LACP, ARP, LLDP and BGP traffic. | 4.3.0-4.4.5 | |
| <a name="2862211"></a> [2862211](#2862211) <a name="2862211"></a> <br /> | On NVIDIA Spectrum ASICs in a layer 2 bridge scaled configuration (more than 800 VLANs), <code>clagd.service</code> enters a failed state after a reboot or a <code>switchd</code> restart<br />To work around this issue, load the port configuration in a staggered manner (groups of five downlink ports). | 3.7.12-3.7.15, 4.3.0, 4.4.2-4.4.5 | 3.7.16, 4.3.1, 5.0.0-5.4.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2853536"></a> [2853536](#2853536) <a name="2853536"></a> <br /> | MLAG between Cumulus Linux and Arista devices might result in some links being suspended by the Arista devices with the error <code>LACP partner validation failed</code><br />This happens when you use the same LACP port ID for more than one bond member on the Cumulus Linux switch<br />To work around this issue, run the <code>net add bond <name> bond mode balance-xor</code> command on the bond on the Cumulus Linux switch. For proper operation, you need to make the equivalent change on the device on the other side of the link. | 4.4.0-4.4.5 | |
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2841584"></a> [2841584](#2841584) <a name="2841584"></a> <br /> | After you upgrade Cumulus Linux on one of the MLAG peers, the bonds do not come up and the reason shows <code>anycast-ip-mismatch</code> even though there is no VXLAN configuration on the switch.  To work around this issue, configure an anycast IP address under the loopback interface on both switches in the MLAG pair. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2838905"></a> [2838905](#2838905) <a name="2838905"></a> <br /> | On Broadcom ARM switches, the NTP clock slowly drifts to a very high offset (over 500ms) and the clock is not able to synchronize. To work around this issue, use the <code>chrony</code> implementation of NTP instead of <code>ntpd</code>.  <code>chrony</code> synchronizes the system clock faster and with better accuracy<br />Instructions for using <code>chrony</code> are here : https://docs.nvidia.com/networking-ethernet-software/knowledge-base/Network-Solutions/Chrony-on-Cumulus-Linux/ | 4.3.0-4.4.5 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.5 | 5.0.0-5.4.0|
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2813563"></a> [2813563](#2813563) <a name="2813563"></a> <br /> | When you change the port speed with the NVUE <code>nv set interface <interface> link speed</code> command, then run <code>nv config apply</code>, the port is disabled. To work around this issue, run the <code>ifreload -a</code> command after you apply the port speed setting. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803428"></a> [2803428](#2803428) <a name="2803428"></a> <br /> | The <code>clagctl -v -j</code> and <code>net show clag verbose json</code> commands show incorrect output. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803044"></a> [2803044](#2803044) <a name="2803044"></a> <br /> | In an EVPN configuration with IP or MAC mobility, higher MM EVPN routes do not remove the old ARP entries during VIP migration between VTEP racks. | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2794766"></a> [2794766](#2794766) <a name="2794766"></a> <br /> | The Mellanox 3700C switch reports a slow memory leak in sx_sdk. Memory increases by about 240B/hour and does not free up. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2792750"></a> [2792750](#2792750) <a name="2792750"></a> <br /> | If you change the <code>clagd-vxlan-anycast-ip</code> setting on both MLAG peers at the same time, both peers use their unique VTEP address indefinitely. | 3.7.15-4.3.0, 4.4.0-4.4.5 | 4.3.1|
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2788780"></a> [2788780](#2788780) <a name="2788780"></a> <br /> | When you enable ARP and ND suppression and the switch forwards ARP and ND packets to the kernel, RX_DRP counters might increment but the packets are processed as normal. | 4.4.0-4.4.5 | |
| <a name="2781537"></a> [2781537](#2781537) <a name="2781537"></a> <br /> | In Cumulus VX, the iptables FORWARD chain does not count hits. To work around this issue, use <code> -t mangle -A PREROUTING</code> instead of <code>FORWARD</code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2763819"></a> [2763819](#2763819) <a name="2763819"></a> <br /> | When  you enable LACP bypass on a bond, traffic to static MAC addresses configured on the bond might not work when LACP bypass is enforced. | 4.4.0-4.4.5 | |
| <a name="2754791"></a> [2754791](#2754791) <a name="2754791"></a> <br /> | Remote MAC addreses in zebra are out of sync with <code>bgpd</code>. The zebra MAC addresses point to an incorrect (old) VTEP IP  address and the sequence number is one higher than in BGP.  | 3.7.14.2-3.7.16, 4.3.0-4.4.5 | |
| <a name="2753955"></a> [2753955](#2753955) <a name="2753955"></a> <br /> | On the Lenovo MSN3700 switch, if you try to configure an interface with a link speed of 200G, the configuration fails. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2747750"></a> [2747750](#2747750) <a name="2747750"></a> <br /> | Links connected between a Spectrum 2 switch configured for warm boot and Spectrum 3 switches configured for cold boot might not come up when the switches are booted. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2739398"></a> [2739398](#2739398) <a name="2739398"></a> <br /> | Cumulus Linux does not support a bond or bond member as a SPAN destination. | 4.4.0-4.4.5 | 4.3.1|
| <a name="2738040"></a> [2738040](#2738040) <a name="2738040"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.5 | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="2732605"></a> [2732605](#2732605) <a name="2732605"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0, 4.4.0-4.4.5 | 4.3.1, 5.0.0-5.4.0|
| <a name="2728207"></a> [2728207](#2728207) <a name="2728207"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728206"></a> [2728206](#2728206) <a name="2728206"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.4.0|
| <a name="2711533"></a> [2711533](#2711533) <a name="2711533"></a> <br /> | On the AS7326-56X switch, the link lights for 25G ports configured to work at 1G do not illuminate. | 4.2.1-4.4.5 | |
| <a name="2710208"></a> [2710208](#2710208) <a name="2710208"></a> <br /> | The <code>net show bgp neighbor</code> command output shows the BFD status as UP even when the BGP neighbor is not established, such as when the interface is down. | 4.2.1-4.4.5 | |
| <a name="2700767"></a> [2700767](#2700767) <a name="2700767"></a> <br /> | Following an event that causes the peerlink bond MAC address to change, such as a slave port state change, MLAG interfaces might be suspended due to a peer IP mismatch. This behavior is seen when you use a MLAG peer IP linklocal configuration. | 3.7.12-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2685036"></a> [2685036](#2685036) <a name="2685036"></a> <br /> | When the PIM RP configuration includes an anycast IP address and the route to that anycast IP address changes while joined to a multicast stream, you might receive the multicast stream from both the old and the new anycast source. | 4.4.0-4.4.5 | |
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2669858"></a> [2669858](#2669858) <a name="2669858"></a> <br />CM-32169 | OpenSSH is vulnerable to CVE-2020-14145, as described in https://www.fzi.de/fileadmin/user_upload/2020-06-26-FSA-2020-2.pdf.  <br />This is an information leak in algorithm negotiation that can allow man-in-the-middle attacks on initial connection attempts without a previously stored server host key on the client. If desired, mitigation using UpdateHostKeys and HostKeyAlgorithms is also given in that paper. | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2639303"></a> [2639303](#2639303) <a name="2639303"></a> <br /> | When you use NCLU to delete a bond, then add an interface, NCLU reports an error similar to the following:<pre>ERROR: 'NoneType' object has no attribute 'conf_key_value_multiple_values'See /var/log/netd.log for more details.</pre> | 4.3.0-4.4.5 | |
| <a name="2618227"></a> [2618227](#2618227) <a name="2618227"></a> <br /> | The NCLU <code>net show bridge macs</code> command displays permanent MAC addresses for trunked VLANs. | 4.3.0-4.4.5 | |
| <a name="2606326"></a> [2606326](#2606326) <a name="2606326"></a> <br /> | If the IGMP and MLD querier is configured on only one of the peer switches in an MLAG configuration, when IGMP packets are sent to the peer with no querier, IGMP leave messages have no effect.  | 4.4.0-4.4.5 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2596458"></a> [2596458](#2596458) <a name="2596458"></a> <br /> | When <code>bridge.unreg_v6_mcast_prune = TRUE</code> is configured in the <code>/etc/cumulus/switchd.conf</code> file, traffic destined to IPv6 link-local multicast addresses might not be flooded within the bridge<br />To work around this issue, disable pruning for IPv6 multicast by setting <code>bridge.unreg_v6_mcast_prune = FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file. | 4.4.0-4.4.5 | |
| <a name="2574368"></a> [2574368](#2574368) <a name="2574368"></a> <br /> | When you run the NCLU <code>net add bgp maximum-paths ibgp</code> command, FRR restarts unexpectedly<br />To work around this issue, either use the <code>vtysh</code> commands or edit the <code>/etc/frr/frr.conf</code> file directly, then run <code>systemctl reload frr</code>. | 4.1.1-4.4.5 | |
| <a name="2556772"></a> [2556772](#2556772) <a name="2556772"></a> <br />CM-33391 | The <code>net show clag verify-vlans</code> command fails with the following log: <br /><pre><br />WARNING: '/usr/bin/clagctl verifyvlans' failed due to:<br />Command '&#91;'/usr/bin/clagctl', 'verifyvlans'&#93;' returned non-zero exit status 1<br /></pre><br />To work around this issue, run the <code>/usr/bin/clagctl verifyvlans</code> command or the <code>net show clag verbose</code> command. | 4.2.1-4.4.5 | |
| <a name="2556369"></a> [2556369](#2556369) <a name="2556369"></a> <br />CM-33196 | If you use NCLU to configure an ACL for eth0, you can't designate it as an INPUT rule; the rule is automatically created as a FORWARD rule in the <code>/etc/cumulus/acl/policy.d/50_nclu_acl.rules</code> file.<br />To work around this issue, manually create an ACL in the <code>/etc/cumulus/acl/policy.d/</code> file with "-A INPUT -i eth0". | 4.2.1-4.4.5 | |
| <a name="2556082"></a> [2556082](#2556082) <a name="2556082"></a> <br />CM-33050 | The NCLU <code>net del vrf</code> command does not delete a numbered VRF. For example:<br /><pre><br />cumulus&#64;leaf01:~$ net del vrf 55<br />ERROR: Command not found<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2556081"></a> [2556081](#2556081) <a name="2556081"></a> <br />CM-33049 | You cannot set the time zone can with NCLU commands. | 4.1.1-4.4.5 | |
| <a name="2555981"></a> [2555981](#2555981) <a name="2555981"></a> <br />CM-32979 | In BGP, to enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2555873"></a> [2555873](#2555873) <a name="2555873"></a> <br />CM-32914 | On Mellanox switches, egress ACLs with VLAN keys do not filter layer 2 multicast or broadcast traffic. | 4.3.0-4.4.5 | |
| <a name="2555763"></a> [2555763](#2555763) <a name="2555763"></a> <br />CM-32861 | The NCLU <code>net del bgp neighbor</code> command does not delete the neighbor and displays an error similar to the following:<br /><pre><br />ERROR: --- /run/nclu/frr/frr.conf.scratchpad.baseline   2021-01-04 17:23:59.250463331 +0000<br />+++ /run/nclu/frr/frr.conf.scratchpad    2021-01-04 17:25:59.213673980 +0000<br /></pre><br />To work around this issue, use the FRR command to delete a neighbor. | 4.3.0-4.4.5 | |
| <a name="2555613"></a> [2555613](#2555613) <a name="2555613"></a> <br />CM-32786 | The <code>net show configuration commands</code> command incorrectly displays the NCLU syntax to disable IPv6 forwarding on interfaces. For example:<br /><pre><br /># net show configuration commands<br />net add vlan 1 ip6-forward off <br /></pre><br />The correct NCLU command to disable IPv6 forwarding is <code>net add vlan 1 ipv6 forward off</code> (without the hyphen). | 4.2.1-4.4.5 | |
| <a name="2555318"></a> [2555318](#2555318) <a name="2555318"></a> <br />CM-32612 | If you try to enable BGP graceful restart when it is already enabled, you see an error similar to the following in the <code>frr.log</code> file:<br /><pre><br />2020-12-07T19:20:26.004333+00:00 cumulus bgpd&#91;4954&#93;: VRF default: Handle GR command GLOBAL_GR_CMD, current GR state GLOBAL_GR, new GR state GLOBAL_INVALID<br /></pre><br />This error has no functional impact. | 4.3.0-4.4.5 | |
| <a name="2555175"></a> [2555175](#2555175) <a name="2555175"></a> <br />CM-32528 | Control Plane Traffic (example - BGP peering from Leaf to Spine) goes down on Leaf due to Hold Down Timer Expiration of peer following prolonged link flaps on downlinks when vxlan enabled vlans are carried on the flapping link. | 3.7.15-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554986"></a> [2554986](#2554986) <a name="2554986"></a> <br />CM-32416 | The <code>ethtool</code> utility doesn't contain the latest values, as a result the <code>Revision Compliance</code> field shows <code>Unallocated</code>.  | 4.2.1-4.4.5 | |
| <a name="2554812"></a> [2554812](#2554812) <a name="2554812"></a> <br />CM-32296 | If the RMAC of a layer 3 SVI changes, the <code>show vrf vni</code> command is not updated with the new value. However, the new RMAC is seen in the <code>show evpn vni</code> command and is present on self-originated EVPN routes. | 4.2.1-4.4.5 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2554709"></a> [2554709](#2554709) <a name="2554709"></a> <br />CM-32217 | The IP address specified in the <code>ip pim use-source</code> command configured on the loopback interface should be inherited by unnumbered interfaces during their Primary IP address selection process.  If <code>ip pim use-source</code> is configured on the loopback after an unnumbered interface has already selected their Primary IP address, the unnumbered interface does not update its Primary IP address to be the new use-source value until after there is a netlink update for that interface.<br />To work around this issue, configure <code>ip pim use-source</code> on each unnumbered interface directly or ensure <code>ip pim use-source</code> is applied to the loopback before other unnumbered interfaces are enabled for PIM. | 3.7.13-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554670"></a> [2554670](#2554670) <a name="2554670"></a> <br />CM-32194 | When you have a large number of ACLs, the <code>cl-acltool -L ip</code> and <code>cl-resource-query</code> commands take a long time to complete. | 4.3.0-4.4.5 | |
| <a name="2554582"></a> [2554582](#2554582) <a name="2554582"></a> <br />CM-32144 | On switches with the Maverick ASIC, control traffic is dropped due to receive buffering. | 4.2.0-4.4.5 | |
| <a name="2554533"></a> [2554533](#2554533) <a name="2554533"></a> <br />CM-32112 | On the ARM platform, NTP peer associations slowly increase to larger offsets (~500ms). | 4.0.0-4.4.5 | |
| <a name="2554466"></a> [2554466](#2554466) <a name="2554466"></a> <br />CM-32068 | Kernel routes added by <code>iproute2</code> are missing in FRR after an interface flap.<br />To work around this issue, configure a static route in FRR.<br /> | 4.2.1-4.4.5 | |
| <a name="2554222"></a> [2554222](#2554222) <a name="2554222"></a> <br />CM-31921 | The NCLU command to enable bridge learning fails.<br />As a work around, enable bridge learning in the <code>/etc/network/interface</code> file. For example:<br /><pre><br />auto vni-30<br />iface vni-30<br />    vxlan-id 30<br />    bridge-access 30<br />    bridge-arp-nd-suppress on<br />    bridge-learning on<br />    vxlan-local-tunnelip 10.10.10.1<br />    mstpctl-bpduguard yes<br />    mstpctl-portbpdufilter yes<br />    mtu 9166<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2554218"></a> [2554218](#2554218) <a name="2554218"></a> <br />CM-31917 | MLAG packets received on the peer link are dropped instead of routed. | 4.2.0-4.4.5 | |
| <a name="2554202"></a> [2554202](#2554202) <a name="2554202"></a> <br />CM-31904 | The output of the <code>net show commit</code> command does not show the last commit or the specified commit number but is empty instead. | 4.2.1-4.4.5 | |
| <a name="2553989"></a> [2553989](#2553989) <a name="2553989"></a> <br />CM-31759 | Default policer configured for LACP as an INPUT chain rule in 00control_plane.rules is meant to protect CPU from an LACP storm. When LACP storm is originating out of a single bond or bond member interface in a switch with multiple bond interfaces, there is a possibility of other LACP bond interface(s) going down. | 4.2.1-4.4.5 | |
| <a name="2553887"></a> [2553887](#2553887) <a name="2553887"></a> <br />CM-31700 | When using TACACS+ configured with a DEFAULT user providing privilege level lower than 16, TACACS+ configured users with privilege level 16 access might not be able to run privilege level 16 NCLU commands, such as <code>net add</code> and <code>net del</code> and see an error similar to the following:<br /><pre><br />ERROR: You do not have permission to execute that command.<br /></pre><br />To work around this issue, remove the DEFAULT user from the TACACS+ server. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553677"></a> [2553677](#2553677) <a name="2553677"></a> <br />CM-31605 | When you configure an SNMPv3 user with the <code>net-snmp-config</code> configuration command from the <code>libsnmp-dev</code> package, you get an error message similar to the one below:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ sudo net-snmp-config --create-snmpv3-user -a shaauthpass -x aesprivpass -A SHA -X AES userSHAwithAES<br />adding the following line to /var/lib/snmp/snmpd.conf:           <br />   createUser userSHAwithAES SHA "shaauthpass" AES "aesprivpass"       <br />adding the following line to /snmp/snmpd.conf:                           <br />   rwuser userSHAwithAES                                           <br />touch: cannot touch ‘/snmp/snmpd.conf’: No such file or directory<br />/usr/bin/net-snmp-create-v3-user: 144: /usr/bin/net-snmp-create-v3-user: cannot create /snmp/snmpd.conf: Directory nonexistent<br /></pre><br />To work around this issue, use the NCLU command to configure SNMPv3 user parameters; for example:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ net add snmp-server username user999 auth-md5 user999password encrypt-des user999encryption<br /></pre><br />Alternatively, directly edit the <code>/etc/snmp/snmpd.conf</code> file as described in the documentation. | 3.7.13-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553237"></a> [2553237](#2553237) <a name="2553237"></a> <br />CM-31418 | The default NTP configuration is to use eth0 as the NTP source interface. In Cumulus Linux 4.0 and later, eth0 is in the management VRF by default; therefore the NTP service runs automatically in the management VRF. <br />NVIDIA does not recommend running NTP with a source interface other than eth0 as this can expose a security vulnerability. Changing the NTP source interface name with NCLU to a non-management VRF interface might result in NTP not functioning because the NTP service is still running in the management VRF.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2553116"></a> [2553116](#2553116) <a name="2553116"></a> <br />CM-31357 | When you manually set the link speed or duplex mode with ethtool to an unsupported value, then run a TDR check against the interface, you encounter a <code>switchd</code> service heartbeat failure.<br />To work around this issue, reboot the switch to clear the condition. Avoid setting the interface speed or duplex mode directly with ethtool. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553015"></a> [2553015](#2553015) <a name="2553015"></a> <br />CM-31300 | If a neighbour contains a special character in PortID for LLDP, the <code>net show interface</code> command does not display the LLDP information or the command might fail. | 3.7.10-3.7.16, 4.2.0-4.4.5 | |
| <a name="2552691"></a> [2552691](#2552691) <a name="2552691"></a> <br />CM-31111 | On the EdgeCore AS4610 switch, the eth0 interface remains down when physically connected to a 1G interface.<br />To work around this issue, configure the link speed to 1000 and set auto-negotiation on for the eth0 interface, then flap eth0 with the <code>ip link set eth0 down/up</code> command to bring up the port. | 4.2.0-4.4.5 | |
| <a name="2552453"></a> [2552453](#2552453) <a name="2552453"></a> <br />CM-30987 | On the Mellanox switch, RoCE with PFC configuration is not applied to all ports in hardware when a range is used in the <code>traffic.conf</code> file.<br />To work around this issue, use NCLU to configure RoCE with PFC or list individual ports in the <code>traffic.conf</code> file. | 4.2.0-4.4.5 | |
| <a name="2552309"></a> [2552309](#2552309) <a name="2552309"></a> <br />CM-30889 | The following messages are seen on an Edgecord Minipack-AS8000 running Cumulus Linux 4.2.0:<br /><br /><pre><br />Hal_bcm_console.c:294 MMU config profile 0 prigroup 0: Service Pool 0 has no space and cannot be assigned<br />Hal_bcm_console.c:294 MMU config port 0 idx 0: Pool 0 has no space and cannot be assigned<br /></pre><br /><br />These messages are for internal validation purposes only and can be safely ignored.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2552294"></a> [2552294](#2552294) <a name="2552294"></a> <br />CM-30879 | NCLU restarts FRR when removing a BGP VRF IPv4 aggregate-address command.<br />  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2552266"></a> [2552266](#2552266) <a name="2552266"></a> <br />CM-30863 | OpenSSH scp is vulnerable to CVE-2020-15778, where clients that have authorized access to the SSH server can execute commands on the server by copying maliciously named files.<br />The two scenarios where an exploit may be useful to an attacker:<br />-The user is authorized to <code>scp</code> but not <code>ssh</code> (based on the <code>command</code> option in the <code>authorized_keys</code> file), so this vulnerability can allow executing a remote command on the target computer when not authorized to do so.<br />-An attacker plants a maliciously named file in a directory tree that someone later uses <code>scp -r</code> to copy over to the target computer.<br />Be aware that restricting users to <code>scp</code> by using the <code>command</code> option in the <code>authorized_keys</code> file is not effective in preventing those users from executing arbitrary commands on the server.<br />If you want to use <code>scp -r</code> to copy directory trees, avoid copying directory trees to which attackers may have added maliciously-named files. Archiving the directory tree with <code>tar</code>, <code>zip</code>, or a similar program, then copying the archive over to be extracted on the server avoids having to use <code>scp -r</code> altogether. In addition, OpenSSH provides <code>sftp</code>, which you can use instead of <code>scp</code> to copy files.<br />To disable scp completely, use <code>/bin/chmod 0 /usr/bin/scp</code> . | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551666"></a> [2551666](#2551666) <a name="2551666"></a> <br />CM-30473 | If you modify an interface name, then reuse the previous interface name for a different VLAN, the <code>ifreload -a</code> command generates an error similar to the following:<br /><pre><br />warning: <interface-name>: interface not recognized - please check interface configuration<br /></pre><br /> | 4.1.0-4.4.5 | |
| <a name="2551578"></a> [2551578](#2551578) <a name="2551578"></a> <br />CM-30422 | When you configure a bridge in the <code>/etc/network/interfaces</code> file, then try to reconfigure the bridge to be a VRF interface with the same name, <code>ifreload</code>/<code>ifup</code> commands fail with an <code>invalid table id</code> or <code>unable to get vrf table id</code> error. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551565"></a> [2551565](#2551565) <a name="2551565"></a> <br />CM-30414 | If you toggle VRRP priority values between VRRP routers, then restart <code>switchd</code>, a few IPv6 VRRP instances might not converge. As a result, both the VRRP routers act as master routers for the impacted IPv6 VRRP instances. IPv4 VRRP instances are not affected<br />To work around this issue, remove, then add back the VRRP configuration with NCLU or vtysh commands. | 3.7.13-3.7.16, 4.2.0-4.4.5 | |
| <a name="2551335"></a> [2551335](#2551335) <a name="2551335"></a> <br />CM-30312 | When TACACS+ is configured and the management VRF is enabled, users with privilege level 13 are prevented from running <code>ip</code> and <code>cat</code> commands. | 4.0.0-4.4.5 | |
| <a name="2551305"></a> [2551305](#2551305) <a name="2551305"></a> <br />CM-30296 | The <code>net show configuration</code> command provides the wrong <code>net add</code> command for ACL under the VLAN interface.<br /><br /> | 3.7.12-3.7.16, 4.1.0-4.4.5 | |
| <a name="2551273"></a> [2551273](#2551273) <a name="2551273"></a> <br />CM-30280 | On a Mellanox SN2010 switch, the Locator LED is on after you upgrade Cumulus Linux. | 4.1.0-4.4.5 | |
| <a name="2551221"></a> [2551221](#2551221) <a name="2551221"></a> <br />CM-30255 | When span-to-cpu is enabled on L3 swp interface with an IP address configured, packets with destination IP as switchport's IP address don't reach switchport. To capture packets directed towards switcport's IP, disable span-to-cpu and use tcpdump on swichport instead. | 4.2.0-4.4.5 | |
| <a name="2551111"></a> [2551111](#2551111) <a name="2551111"></a> <br />CM-30230 | If a remote EVPN Sticky MAC &#91;Static MAC address&#93; is unexpectedly learned dynamically on a local interface, the selected entries in zebra and BGP are in an inconsistent state.<br />zebra increments the local MAC mobility sequence number and considers the MAC address to be local, but BGP maintains the remote Sticky MAC as the best path selected. This results in zebra installing the local MAC address and BGP not updating the route for the MAC address. | 4.0.0-4.4.5 | |
| <a name="2550974"></a> [2550974](#2550974) <a name="2550974"></a> <br />CM-30195 | On the Dell S3000 switch, after installing the Cumulus Linux 4.1.1 disk image without a license, the switch sends a link beat if a remote host port is configured. | 3.7.11-3.7.16, 4.1.1-4.4.5 | |
| <a name="2550793"></a> [2550793](#2550793) <a name="2550793"></a> <br />CM-30101 | The NCLU <code>net show bridge spanning-tree</code> command displays the aging timer incorrectly.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550713"></a> [2550713](#2550713) <a name="2550713"></a> <br />CM-30052 | Configuring the subinterface of a VXLAN uplink under another traditional bridge, which also has the VXLAN VNI enslaved, causes <code>switchd</code> to use high CPU due to very frequent VXLAN tunnel sync events.<br />To work around this issue, do not enslave the subinterface of a VXLAN layer 3 uplink under a traditional bridge in a VXLAN configuration. | 4.1.1-4.4.5 | |
| <a name="2550642"></a> [2550642](#2550642) <a name="2550642"></a> <br />CM-30006 | ACLs with SPAN target and in-interface as bond member are not supported on Spectrum-based switches  | 4.2.0-4.4.5 | |
| <a name="2550444"></a> [2550444](#2550444) <a name="2550444"></a> <br />CM-29872 | Tab completion for the <code>net show rollback description</code> command returns information about a snapshot instead of context help.<br />To work around this issue, run the <code>net show commit history</code> command to find descriptions instead of the <code>net show rollback description</code> command. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550443"></a> [2550443](#2550443) <a name="2550443"></a> <br />CM-29871 | The <code>net show rollback description <string></code> command returns an error even if the string matches a commit description.<br />To work around this issue, look for your string in the output of the <code>net show commit history</code> command (or grep for it there) instead. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550243"></a> [2550243](#2550243) <a name="2550243"></a> <br />CM-29759 | When you use <code>nginx</code> and <code>restserver</code> in management VRF to provide a REST API for the switch, <code>nginx</code> starts but <code>restserver</code> fails to start.<br />To work around this issue, comment out the <code>Requires=</code> line in the <code>/lib/systemd/system/restserver.service</code>. For example:<br /><pre><br />#Requires=nginx.service restserver.socket<br /></pre> | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550056"></a> [2550056](#2550056) <a name="2550056"></a> <br />CM-29652 | The ACCTON-DIAG option under the Cumulus Linux GRUB menu does not work. When you select this option, you see the following error:<br /><pre><br />error: invalid signature.<br />Press any key to continue...<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549925"></a> [2549925](#2549925) <a name="2549925"></a> <br />CM-29594 | When you run an Ansible script to replace the <code>/etc/network/interfaces</code> file, then run the <code>ifreload -a</code> command, you see errors similar to the following:<br /><pre><br />error: swp1s1.2: netlink: cannot set link swp1s1.2 up: operation failed with 'Network is down' (100)<br />warning: cmd '/bin/ip addr del 10.0.0.1/24 dev eth0' failed: returned 2 (RTNETLINK answers: Cannot assign requested address<br /></pre><br />To work around this issue,  run the <code>ifreload -a</code> command a second time. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549872"></a> [2549872](#2549872) <a name="2549872"></a> <br />CM-29562 | If you have an SVI with multiple VRR IP addresses and try to delete one of the VRR configurations, <code>net commit</code> or <code>ifreload -a</code> returns an error. | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549782"></a> [2549782](#2549782) <a name="2549782"></a> <br />CM-29519 | The JSON format output of the <code>net show bgp l2vpn evpn summary</code> command shows the incorrect neighbour state.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549731"></a> [2549731](#2549731) <a name="2549731"></a> <br />CM-29492 | When you create SPAN or ERSPAN rules in ebtables, the action fails to install if it is not in lowercase. Make sure that the SPAN or ERSPAN action is all lowercase; for example:<br /><pre><br />&#91;ebtables&#93;<br />-A FORWARD --in-interface swp10 -j span --dport swp1<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549392"></a> [2549392](#2549392) <a name="2549392"></a> <br />CM-29319 | When you configure an RD or RT with NCLU, you see duplicate VNI stanzas in the <code>/etc/frr/frr.conf</code> file. <br />To work around this issue, manually edit the <code>etc/frr/frr.conf</code> file to define <code>advertise-all-vni</code> before the RD or RT configuration within the l2vpn EVPN address family, then reload the FRR service with the <code>sudo systemctl reload frr</code> command. | 4.1.0-4.4.5 | |
| <a name="2548924"></a> [2548924](#2548924) <a name="2548924"></a> <br />CM-29146 | On the EdgeCore Minipack AS8000, storm control does not restrict unknown unicast, broadcast, or multicast traffic. | 4.1.1-4.4.5 | |
| <a name="2548657"></a> [2548657](#2548657) <a name="2548657"></a> <br />CM-29035 | When you upgrade Cumulus Linux on the EdgeCore AS7726-32X or AS7326-56X switch, you might see firmware errors similar to the following:<br /><pre><br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso5.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3.bin for module tg3<br /></pre><br />You can safely ignore these error messages. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548579"></a> [2548579](#2548579) <a name="2548579"></a> <br /> | The following security vulnerability has been announced:<br />CVE-2020-10531: An issue was discovered in International Components for Unicode (ICU) for C/C++ through 66.1. An integer overflow, leading to a heap-based buffer overflow, exists in the UnicodeString::doAppend() function in common/unistr.cpp. | 3.7.12, 4.0.0-4.4.5 | 3.7.13-3.7.16|
| <a name="2548315"></a> [2548315](#2548315) <a name="2548315"></a> <br />CM-28816 | The following security advisory has been announced for bash: <br />CVE-2019-18276 Qualys scan QID 372268 setuid vulnerability<br />When bash or bash scripts are run setuid, bash is supposed to drop privileges, but does so incorrectly, so that an attacker with command access to the shell can use <code>enable -f</code> for runtime loading of a new builtin that calls <code>setuid()</code> to regain dropped privileges.<br />To work around this issue, do not make bash or bash scripts <code>setuid</code>. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548310"></a> [2548310](#2548310) <a name="2548310"></a> <br />CM-28812 | When the system boots, we might see " cumulus systemd-udevd&#91;7566&#93;: Process '/usr/bin/hw-management-thermal-events.sh add thermal_zone /sys /devices/virtual/thermal/thermal_zone25 thermal_zone25' failed with exit code 1" errors. <br /><br />These errors are result of  user space acting on kernel events a bit slow. The mlxsw_minimal driver is added during kernel boot; An SDK reset causes the driver to be deleted and re-instantiated; User space handler for thermal zone add sees the add first; But the underlying device is deleted before it can act on it. This situation is rectified as the mlxsw_minimal driver is re-instantiated later; <br /> | 4.1.0-4.4.5 | |
| <a name="2548260"></a> [2548260](#2548260) <a name="2548260"></a> <br />CM-28770 | The <code>net add routing route-map <name> permit <seq> set community <comm></code> command does not add the set statement into the <code>/etc/frr/frr.conf</code> file. | 4.0.0-4.4.5 | |
| <a name="2548243"></a> [2548243](#2548243) <a name="2548243"></a> <br />CM-28754 | On switches with the Trident2+ ASIC, adding SPAN rules disables PBR rules. | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548117"></a> [2548117](#2548117) <a name="2548117"></a> <br />CM-28659 | In OVSDB traditional bridge mode, adding or removing a VLAN binding causes a traffic forwarding outage for around 20 seconds or more on adjacent VLAN bindings. Cumulus Linux does not support _traditional_ bridge mode with VMware NSX. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548062"></a> [2548062](#2548062) <a name="2548062"></a> <br />CM-28622 | When ports are split to 4x25G, RS FEC needs to explicitly configured on both ends (especially when interoperating with non-Mellanox switches). | 4.1.0-4.4.5 | |
| <a name="2548044"></a> [2548044](#2548044) <a name="2548044"></a> <br />CM-28608 | When a remote VTEP withdraws a type-3 EVPN route, Cumulus Linux purges all MAC address and neighbor entries installed in the corresponding layer 2 VNI through that remote VTEP from the local EVPN and kernel forwarding tables. This purge occurs even if the remote VTEP does not withdraw type-2 routes carrying the MAC address or neighbor entries. The entries stay missing from the local EVPN and kernel forwarding tables until BGP updates the MAC address and neighbor. | 3.7.12-3.7.15, 4.0.0-4.4.5 | 3.7.16|
| <a name="2547903"></a> [2547903](#2547903) <a name="2547903"></a> <br />CM-28506 | CVE-2019-19956: xmlParseBalancedChunkMemoryRecover in parser.c in libxml2 before 2.9.10 has a memory leak related to newDoc->oldNs<br />Vulnerable: 2.9.4+dfsg1-7Fixed: 2.9.4+dfsg1-7+deb10u1 | 4.0.0-4.4.5 | |
| <a name="2547890"></a> [2547890](#2547890) <a name="2547890"></a> <br />CM-28497 | QinQ across VXLAN on a traditional bridge does not work. | 4.1.0-4.4.5 | |
| <a name="2547782"></a> [2547782](#2547782) <a name="2547782"></a> <br />CM-28441 | If a LLDP neighbor advertises a <code>PortDescr</code> that contains commas, <code>ptmctl -d</code> splits the string on the commas and misplaces its components in other columns. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547706"></a> [2547706](#2547706) <a name="2547706"></a> <br />CM-28397 | When you configure ganged ports in the <code>ports.conf</code> file, the change does not take effect after you restart <code>switchd</code>. <br />To work around this issue, reboot the switch. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547405"></a> [2547405](#2547405) <a name="2547405"></a> <br />CM-28226 | When you restart the <code>hsflowd</code> service, you see a <code>systemd</code> warning message similar to the following:<br /><pre><br />Warning: The unit file, source configuration file or drop-ins of hsflowd&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload'.<br /></pre> | 4.0.0-4.4.5 | |
| <a name="2547120"></a> [2547120](#2547120) <a name="2547120"></a> <br />CM-28076 | After you hot swap a PSU, the <code>decode-syseeprom -t psuX</code> command shows the old PSU information (such as the serial number), until you run the <code>decode-syseeprom --init</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546991"></a> [2546991](#2546991) <a name="2546991"></a> <br />CM-28003 | The FRR service does not provide a way for automation to know if the configuration applied properly.<br />To work around this issue, execute the <code>vtysh -f <file></code> command in the automation file before starting the FRR service to validate the functional configuration and return an error code. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546895"></a> [2546895](#2546895) <a name="2546895"></a> <br />CM-27957 | If you have configured a higher number of ports and VLANs (ports x VLANs) or the switch is a lower-powered (CPU) platform, the <code>switchd</code> service might fail to send a <code>systemd keepalive</code> within the watchdog timeout value (2 minutes by default) and you see an error similar to the following:<pre>bq. systemd&#91;1&#93;: switchd.service watchdog timeout (limit 2min)!</pre>To workaround this issue, either reduce the number of configured interfaces and, or VLANs, or increase the <code>systemd</code> timeout for <code>switchd.service</code><br />To increase the <code>systemd</code> timeout:1.Edit the <code>/etc/systemd/system/switchd.service.d/override.conf</code> file and increase the <code>WatchdogSec</code> parameter<br />2.Restart the <code>switchd</code> service with the <code>sudo systemctl restart switchd.service</code> command<br /><code>systemd</code> attempts to restart the <code>switchd</code> service automatically (after the watchdog timeout). If the restart fails multiple times in a short time period, run the <code>sudo systemctl reset-failed</code> command followed by the <code>sudo systemctl restart switchd</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546874"></a> [2546874](#2546874) <a name="2546874"></a> <br />CM-27950 | On the Dell S5232F, S5248F, S5296F, and S3048 switch, using the <code>poweroff</code> or <code>halt</code> commands does not fully power off the switch. | 4.0.0-4.4.5 | |
| <a name="2546255"></a> [2546255](#2546255) <a name="2546255"></a> <br />CM-27637 | On the EdgeCore Minipack-AS8000 switch, a 100G DAC link does not come up when auto-negotiation is enabled on the neighbor. This switch does not support 100G DAC auto-negotiation at this time. | 4.0.0-4.4.5 | |
| <a name="2546225"></a> [2546225](#2546225) <a name="2546225"></a> <br />CM-27627 | When you execute the following command on the Delta AG6248C switch, the switch reboots and then comes right back into Cumulus Linux without installing the new image. The install image is still in <code>/var/lib/cumulus/installer</code>, which causes issues with cl-support. <br /> <pre> <br /> sudo onie-install -fai http://<path to image> <br /> sudo reboot <br /> </pre> <br /> To work around this issue, use the <code>onie-select</code> command to access ONIE, and then use the <code>nos-install</code> command in ONIE to install a new binary image.  | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546131"></a> [2546131](#2546131) <a name="2546131"></a> <br />CM-27581 | On the Delta AG-6248C PoE switch, when you run the <code>apt upgrade</code> command, the upgrade does not work. Cumulus Linux uses <code>uboot</code> directly instead of <code>grub</code> to boot the kernel. Uboot needs a special header to boot the kernel, which is not present. Without this header, when you use the <code>apt upgrade</code> command to upgrade Linux packages, <code>uboot</code> is unable to boot up the kernel. <br />To work around this issue, upgrade Cumulus Linux by installing the Cumulus Linux image. Run the <code>onie-select</code> command to go into ONIE, and then use the <code>nos-install</code> command in ONIE to install a new image.<br />This workaround only works when an out-of-band network is present. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2545837"></a> [2545837](#2545837) <a name="2545837"></a> <br />CM-27444 | If you use the NCLU commands to configure NTP and run the <code>net add time ntp source <interface></code> command before you run the <code>net add time ntp server <server> iburst</code> command, the <code>/etc/ntp.conf</code> file is misconfigured.<br />To work around this issue, run the <code>net add time ntp server <server> iburst</code> command before you run the <code>net add time ntp source <interface></code> command. | 3.7.10-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2545520"></a> [2545520](#2545520) <a name="2545520"></a> <br />CM-27243 | The length of the netlink message is not set properly for non-bridge family type messages. The same length is used for both bridge and non-bridge even though the bridge family type message has an extra attribute. This causes extra bytes to be left over in non-bridge family type netlink messages. | 3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2545233"></a> [2545233](#2545233) <a name="2545233"></a> <br />CM-27094 | On the Delta AG9032v1 switch, smonctl and sensors report inaccurate PSU current and power. | 4.0.0-4.4.5 | |
| <a name="2545125"></a> [2545125](#2545125) <a name="2545125"></a> <br />CM-27018 | If you configure more than one VRR interface on an SVI interface, deleting one of the VRR addresses does not remove the interface/address.  | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544978"></a> [2544978](#2544978) <a name="2544978"></a> <br />CM-26921 | If you delete an undefined bond, then add a bond slave, the <code>net commit</code> command fails. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544968"></a> [2544968](#2544968) <a name="2544968"></a> <br />CM-26913 | FRR configuration commands for an SVI interface might have the <code>\n</code> misplaced in the output.  For example:<br /><pre><br />sudo sh -c "printf 'interface 50\nvrf TEST description L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />should be:<br /><pre><br />sudo sh -c "printf 'interface 50 vrf TEST\ndescription L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />To work around this issue, configure the interface manually in the <code>/etc/frr/frr.conf</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544957"></a> [2544957](#2544957) <a name="2544957"></a> <br />CM-26907 | NCLU incorrectly allows you to apply port security configuration on layer 2 and layer 3 ports that are not part of a bridge. | 4.0.0-4.4.5 | |
| <a name="2544953"></a> [2544953](#2544953) <a name="2544953"></a> <br />CM-26905 | When you update the hostname of a switch with the NCLU <code>net add hostname <hostname></code> command, then run <code>net commit</code>, the <code>lldpd</code> service does not restart and other devices still see the old hostname.<br />To work around this issue, run the <code>sudo systemctl restart lldpd.service</code> command. | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544880"></a> [2544880](#2544880) <a name="2544880"></a> <br />CM-26860 | When you run the NCLU <code>net show commit last</code> or <code>net show commit <number></code> command, where <code><number></code> is the last commit, no output is shown.  | 4.0.0-4.4.5 | |
| <a name="2544723"></a> [2544723](#2544723) <a name="2544723"></a> <br />CM-26769 | Setting ProtoDown on ports populated with SFP modules providing RJ-45 1000BASE-T interfaces does not cause the carrier to be dropped. The kernel shows carrier down; however, the remote device still shows a link. | 3.7.6-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2544463"></a> [2544463](#2544463) <a name="2544463"></a> <br />CM-26599 | Auto-negotiation does not work with the QSFP28 cables and a remote system operating at 10G. Attempting to enable auto-negotiation with <code>ethtool -s swp<#> autoneg on</code> returns <code>Operation not supported</code>.<br />To work around this issue, do not use auto-negotiation and set the local port speed to 10G. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544456"></a> [2544456](#2544456) <a name="2544456"></a> <br />CM-26595 | The NCLU <code>net show lldp</code> command displays the speed of a ganged port group as the speed of one of the individual links, rather than the sum of their speeds. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544311"></a> [2544311](#2544311) <a name="2544311"></a> <br />CM-26516 | Applying a policy-based routing (PBR) rule for all traffic from a host might disrupt ARP refresh for that connected host. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544155"></a> [2544155](#2544155) <a name="2544155"></a> <br />CM-26423 | NCLU requires you to specify an interface with multiple <code>address-virtual</code> statements in ascending MAC address order. <br /><br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544113"></a> [2544113](#2544113) <a name="2544113"></a> <br />CM-26412 | Mac learning is not disabled by default on a double tagged peer link interface resulting in the MAC address changing between the MLAG bond and the peer link.<br />To work around this issue, disable MAC learning on QinQ VLANs by adding <code>bridge-learning off</code> to the VLAN stanza in the <code>etc/network/interfaces</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543937"></a> [2543937](#2543937) <a name="2543937"></a> <br />CM-26308 | An interface alias configured outside FRR using <code>iproute2</code> is imported into the FRR running configuration and overrides the internal description. After an FRR reload, this causes FRR to delete the interface alias in an inefficient way. Depending on how many interfaces with aliases you have configured, this can cause a FRR reload to time out.<br />To work around this issue, remove the interface alias description from <code>iproute2</code>. | 3.7.8-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | <code>systemctl</code> issues a warning similar to the following when you enable a service in the management VRF:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre> | 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2543900"></a> [2543900](#2543900) <a name="2543900"></a> <br />CM-26288 | On the Mellanox switch, static VXLAN tunnels incorrectly allow traffic from any remote tunnel IP address. | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543841"></a> [2543841](#2543841) <a name="2543841"></a> <br />CM-26256 | The <code>net show evpn vni detail json</code> command includes an extra empty dictionary at the end of the output. <br /> | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543816"></a> [2543816](#2543816) <a name="2543816"></a> <br />CM-26241 | On the Dell S5248F-ON switch, <code>smond</code> might generate syslog messages indicating that the fan input RPM is lower than the normal low speed of 2500 RPM. Speeds as low as 1700 RPM are acceptable in normal thermal environments; therefore, you can ignore these messages.<br /> | 3.7.6-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2543781"></a> [2543781](#2543781) <a name="2543781"></a> <br />CM-26217 | NCLU does not allow you to configure OSPF NSSAs. For example: <br /><pre><br />cumulus&#64;switch:~$ net add ospf area 0.0.0.1 nssa <br />ERROR: Command not found. <br />net add ospf area 0.0.0.1 nssa<br /></pre><br />To work around this issue, use FRR instead. For example: <br /><pre><br />switch# configure terminal <br />switch(config)# router ospf <br />switch(config-router)# area 0.0.0.1 nssa <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543724"></a> [2543724](#2543724) <a name="2543724"></a> <br />CM-26179 | If a hostname contains utf-8 characters, the NCLU <code>net show lldp</code> command outputs the following error: <br /><pre><br />ERROR: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128) <br />See /var/log/netd.log for more details.  <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543646"></a> [2543646](#2543646) <a name="2543646"></a> <br />CM-26136 | In an ebtables rule, ERSPAN (upper case) does not work. You need to specify erspan (lower case). | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543401"></a> [2543401](#2543401) <a name="2543401"></a> <br />CM-25986 | On the Mellanox Spectrum-2 switch, the time required to establish a link (from the time a link is set to <code>admin up</code> until the link becomes operationally up) can take up to 15 seconds on 40G interfaces and up to 30 seconds on 100G interfaces. <br />To work around this issue, wait up to 15 seconds on 40G interfaces and 30 seconds on 100G interfaces for the link to establish. | 4.0.0-4.4.5 | |
| <a name="2543211"></a> [2543211](#2543211) <a name="2543211"></a> <br />CM-25890 | In some cases, the <code>switchd</code> service might warn of excessive MAC moves from one switch port to itself (for example, from swp18 to swp18).<br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543164"></a> [2543164](#2543164) <a name="2543164"></a> <br />CM-25859 | The MTU of an SVI cannot be higher than the MTU on the bridge. Changing the MTU on the SVI with NCLU does not update the bridge MTU. The <code>net commit</code> command succeeds even though the MTU is not changed as expected.<br />To work around this issue, change the MTU on all SVIs and the bridge manually in the <code>/etc/network/interfaces</code> file, then apply the change with the <code>ifreload -a</code> command. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543096"></a> [2543096](#2543096) <a name="2543096"></a> <br />CM-25815 | When an SVI with a virtual MAC is configured with a layer 2 VNI in an EVPN environment, if you replace the <code>/etc/network/interfaces</code> file with a different file that does not have the SVI and layer 2 VNI configuration, the original virtual MAC is not populated through the EVPN route until FRR is restarted. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542945"></a> [2542945](#2542945) <a name="2542945"></a> <br />CM-25740 | On the Broadcom Maverick switch with a QinQ configuration, the packets coming into the CPU might be tagged incorrectly; for example, 802.1ad + 802.1q tags are expected in the packets but the packets have 802.1q + 802.1q tags. <br />To work around this issue, configure the bridge with <code>bridge-vlan-protocol 802.1ad</code>: <br /><pre><br />cumulus&#64;switch:~$ net add bridge mybridge vlan-protocol 802.1ad <br /></pre>  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542837"></a> [2542837](#2542837) <a name="2542837"></a> <br />CM-25674 | On Mellanox switches, policer iptables are not working as expected. For example, when using a policer with mode KB/MB/GB to rate-limit interfaces, the syntax is accepted but the data plane transfer speed is not affected by the rule.  | 3.7.6-3.7.8, 4.0.0-4.4.5 | 3.7.9-3.7.16|
| <a name="2542305"></a> [2542305](#2542305) <a name="2542305"></a> <br />CM-25400 | If an SVI exists in the configuration before you assign it an IP address, when you do assign the IP address with the NCLU command, the <code>vlan-id</code> and the raw-device bridge stanzas are not added automatically. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542301"></a> [2542301](#2542301) <a name="2542301"></a> <br />CM-25397 | When first creating a bond and enslaving an interface, NCLU hides some of the bridge command suggestions, although they are still accepted. <br /> | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541212"></a> [2541212](#2541212) <a name="2541212"></a> <br />CM-24894 | The <code>maximum-prefix</code> configuration under the IPv4 address family has an optional restart value, which you can configure. This configuration is ignored and, instead of restarting the sessions every x minutes, the peer constantly changes between established and idle due to the prefix count being exceeded.  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541029"></a> [2541029](#2541029) <a name="2541029"></a> <br />CM-24799 | On switches with the Trident2 ASIC, 802.1Q-encapsulated control plane traffic received on an interface with 802.1AD configured subinterfaces might be dropped. <br />This issue only affects QinQ configurations. <br />  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540753"></a> [2540753](#2540753) <a name="2540753"></a> <br />CM-24618 | If the interface alias contains a single or double quotation mark, or an apostrophe, the <code>net show configuration</code> commands fail with the following error: <br /><pre> <br />ERROR: No closing quotation <br />See /var/log/netd.log for more details. <br /></pre> <br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540444"></a> [2540444](#2540444) <a name="2540444"></a> <br />CM-24473 | SNMP incorrectly requires engine ID specification. <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540352"></a> [2540352](#2540352) <a name="2540352"></a> <br />CM-24435 | When you use NCLU to configure a route map, the parser allows for glob matching of interfaces for a _match interface_ condition when there can only be a single interface matched. The proper syntax is to use multiple route map clauses, each matching a single interface, instead of a single clause matching multiple interfaces. <br />For example, this command is incorrect: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9-10 <br /></pre> <br />These commands are correct: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9 <br />net add routing route-map Proxy-ARP permit 30 match interface swp10 <br /></pre> <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540340"></a> [2540340](#2540340) <a name="2540340"></a> <br />CM-24426 | NCLU allows for the configuration of addresses on VRF interfaces, but tab completion for the <code>net add vrf <name></code> command just displays <ENTER>. For example: <br /> <pre> <br /> cumulus&#64;switch:~$ net add vrf mgmt <br /> <ENTER> <br /> </pre> <br /> Tab completion for the <code>net add vrf <name> ip address <address></code> command works correctly.  | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540274"></a> [2540274](#2540274) <a name="2540274"></a> <br />CM-24379 | On the Maverick switch, CPU forwarded packets might be dropped when there is no route to a leaked host route. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540204"></a> [2540204](#2540204) <a name="2540204"></a> <br />CM-24350 | When links come up after FRR is started, VRF connected routes do not get redistributed. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540192"></a> [2540192](#2540192) <a name="2540192"></a> <br />CM-24343 | The <code>net del bridge bridge mcsnoop yes</code> command does not return the value to the default of disabled. <br />To work around this issue, use the <code>net add bridge bridge mcsnoop no</code> command to delete the <code>mcsnoop attribute</code> and return to the default value. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540155"></a> [2540155](#2540155) <a name="2540155"></a> <br />CM-24332 | On the Broadcom switch, when moving configuration from bridged to routed (or toggling from routed to bridged to routed), some traffic is not seen by the kernel. This can cause BGP to not establish on a transit node. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540042"></a> [2540042](#2540042) <a name="2540042"></a> <br />CM-24272 | When you try to configure the VRRP priority and advertisement-interval with NCLU on a traditional mode bridge, the <code>net commit</code> command fails. <br />To work around this issue, use the vtysh command (inside FRR) to change the VRRP priority or advertisement-interval on traditional bridges. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface br0.100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# vrrp 1 advertisement-interval <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540041"></a> [2540041](#2540041) <a name="2540041"></a> <br />CM-24271 | On SVIs in a VLAN-aware bridge, you cannot change the VRRP priority with NCLU. <br />To work around this issue, run the vtysh command inside FRR to change the default priority. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface vlan100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540040"></a> [2540040](#2540040) <a name="2540040"></a> <br />CM-24270 | Cumulus Linux uses VRRPv3 as the default version, and enables both preempt and accept mode by default. You cannot change these default values with NCLU. To work around this issue, run the vtysh commands (inside FRR) to change the default values. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface swp4 <br />switch(config-if)# vrrp 1 version 2 <br />switch(config-if)# no vrrp 1 preempt <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540031"></a> [2540031](#2540031) <a name="2540031"></a> <br />CM-24262 | NCLU does not honor <code>auto all</code> in the <code>/etc/network/interfaces</code> file and removes the existing configuration if no individual <code>auto <iface></code> lines exist. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539994"></a> [2539994](#2539994) <a name="2539994"></a> <br />CM-24241 | When you try to remove a BGP peer group configuration with NCLU, the command fails but no warning message is shown. For example: <br /><pre> <br />cumulus&#64;switch:~$ net del bgp neighbor fabric peer-group<br />'router bgp 65001' configuration does not have 'neighbor fabric peer-group' <br /></pre> <br />  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539962"></a> [2539962](#2539962) <a name="2539962"></a> <br />CM-24222 | When an LDAP user that does not have NCLU privileges (either in the <code>netshow</code> or <code>netedit</code> group, or in the <code>/etc/netd.conf</code> file) runs an NCLU command, a traceback occurs instead of a permissions error. <br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539670"></a> [2539670](#2539670) <a name="2539670"></a> <br />CM-24035 | On the Edgecore 4610-54P switch, automatic medium-dependent interface crossover (auto-MDIX) stops working on a 100M full duplex interface and does not detect the required cable connection type. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539124"></a> [2539124](#2539124) <a name="2539124"></a> <br />CM-23825 | The <code>net add interface <interface> ptm-enable</code> command adds <code>no ptm-enable</code> for that interface in the <code>frr.conf</code> file. <br />Running the <code>net add</code> or the <code>net del</code> command does not remove <code>no ptm-enable</code> from the <code>frr.conf</code> file. You have to remove it manually using vtysh. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538790"></a> [2538790](#2538790) <a name="2538790"></a> <br />CM-23665 | NCLU automatically adds the VLAN ID (for the layer 3 VNI/SVI) to the bridge when you run <code>net add vxlan <layer3-vni> bridge access <vlan></code>. This configuration breaks network connectivity in an EVPN symmetric routing configuration using MLAG. <br />To restore connectivity, remove the VLAN ID from the bridge.  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538590"></a> [2538590](#2538590) <a name="2538590"></a> <br />CM-23584 | When you configure a control plane ACL to define permit and deny rules destined to the local switch, NCLU programs the control plane ACL rules into the FORWARD chain. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538562"></a> [2538562](#2538562) <a name="2538562"></a> <br />CM-23570 | On an RMP/1G-T switch, when you remove <code>link-speed 100</code> with the NCLU command or by editing the <code>etc/network/interfaces</code> file to revert the 100M interface to the default (1G auto), the interface fails to recover and does not come back up.<br />After you remove the link-speed, <code>ethtool</code> shows the advertised link modes as not reported and Speed/Duplex as unknown.<br />To work around this issue and bring the interface back up, either restart <code>switchd</code> or use ethtool to configure the speed, advertised, duplex or MDI-X settings. <br />Note: The advertised link mode gets set incorrectly if you include 1000baseT/Half. The port will come up successfully at 1G. | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538294"></a> [2538294](#2538294) <a name="2538294"></a> <br />CM-23417 | If you use NCLU to create an iBGP peering across the peer link, running the <code>net add bgp l2vpn evpn neighbor peerlink.4094 activate</code> command creates a new eBGP neighborship when one has already been configured for iBGP. This is unexpected; the existing iBGP configuration is valid.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537699"></a> [2537699](#2537699) <a name="2537699"></a> <br />CM-23075 | There is a limitation on the number of SVI interfaces you can specify as DHCP relay interfaces in the <code>/etc/default/isc-dhcp-relay</code> file. For example, 1500 SVI interfaces causes the <code>dhcrelay</code> service to exit without a core file and logs similar to the following are generated for the interfaces: <br /><pre> <br />2018-11-10T23:35:30.992370-08:00 Dev dhcrelay: Listening on LPF/vlan.101/a0:00:00:00:00:51 <br />2018-11-10T23:35:30.993472-08:00 Dev dhcrelay: Sending on LPF/vlan.101/a0:00:00:00:00:51 <br /></pre> <br />Eventually the <code>dhcrelay</code> service stops. <br /> | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537544"></a> [2537544](#2537544) <a name="2537544"></a> <br />CM-23021 | When you run the <code>mstpctl</code> command, you might see the bridge-port state as blocking when it is actually disabled. You might see the same incorrect bridge-port state when other programs or tools use the output of <code>mstpctl</code>; for example, SNMP output from the BRIDGE-MIB. | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536576"></a> [2536576](#2536576) <a name="2536576"></a> <br />CM-22554 | If you try to bring down several members of a bond remotely at the same time, the link state of one of the interfaces might not transition correctly to the down state; however, all links show down in hardware. <br />  | 4.0.0-4.4.5 | |
| <a name="2536384"></a> [2536384](#2536384) <a name="2536384"></a> <br />CM-22386 | The BFD packet redirection logic used by OVSDB server high availability mode redirects BUM packets across the peer link. The iptables rule for redirection does differentiate between BFD and non-BFD VXLAN inner packets because the service node sends all frames with its own IP address as the tunnel source IP address. The VXLAN encapsulated BUM packets do not get forwarded to the CPU and do not go through the iptable redirection rule; only VXLAN encapsulated BFD packets get forwarded to the CPU due to the inner MAC DA lookup in hardware. <br />  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536256"></a> [2536256](#2536256) <a name="2536256"></a> <br />CM-22301 | For an unresolved address, the IPROUTER default policer rule has been modified to _not_ match on packets exiting a TUNNEL and headed to the CPU to resolve the address via ARP. As a result, the following default rule no longer matches TUNNEL ingress packets. <br /><pre> <br />A $INGRESS_CHAIN --in-interface $INGRESS_INTF -m addrtype --dst-type <br />IPROUTER -j POLICE --set-mode pkt --set-rate 400 --set-burst 100 <br /></pre> <br />These packets are now policed by catch all rules. <br />To work around this issue, the VPORT value on a TRIDENT switch must be changed from binary 011 to 100. <br /> | 4.0.0-4.4.5 | |
| <a name="2536242"></a> [2536242](#2536242) <a name="2536242"></a> <br />CM-22287 | On the EdgeCore AS7712 (Tomahawk) switch running in atomic mode, when a layer 3 ECMP path is brought down, traffic traversing the path stops working for about four seconds. When the switch is changed to non-atomic mode, the delay is less than one second. This issue is seen across OSPF and static ECMP routes.  | 4.0.0-4.4.5 | |
| <a name="2536179"></a> [2536179](#2536179) <a name="2536179"></a> <br />CM-22228 | On switches with the Trident 2+ ASIC, counters associated with VLANs and VRFs are not working. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535986"></a> [2535986](#2535986) <a name="2535986"></a> <br />CM-22041 | At a high CPU transmit traffic rate (for example, if there is unexpected CPU generated flooding or replication in software), when the ASIC packet driver cannot keep up with the transmit rate because there are no free DMA buffers, it can back pressure by suspending the switch port transmit queues. This can fill up the application socket buffers resulting in <code>No buffer space available</code> error messages on protocol sockets.<br />When the driver recovers, it automatically resumes the transmit queues. In most cases these error messages are transient. In rare cases, the hardware queues might get stuck, which you can recover with a <code>switchd</code> restart. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535965"></a> [2535965](#2535965) <a name="2535965"></a> <br />CM-22020 | On the Trident3 switch, static PIM with IIF based on a layer 2 bridge does not work reliably. PIM Join via signaling is required for IPMC to work properly.<br />To work around this issue, use dynamic signaling (joins) to manage IP multicast traffic. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535723"></a> [2535723](#2535723) <a name="2535723"></a> <br />CM-21785 | The source address of the ICMPv6 time exceeded message (traceroute hop) is sourced from the wrong VRF when the traceroute target resides on the same switch but in a different VRF. | 4.0.0-4.4.5 | |
| <a name="2535605"></a> [2535605](#2535605) <a name="2535605"></a> <br />CM-21667 | FRR does not add BGP <code>ttl-security</code> to either the running configuration or to the <code>/etc/frr/frr.conf</code> file when configured on a peer group instead of a specific neighbor. <br />To work around this issue, add <code>ttl-security</code> to individual neighbors instead of the peer group. | 4.0.0-4.4.5 | |
| <a name="2535209"></a> [2535209](#2535209) <a name="2535209"></a> <br />CM-21278 | The <code>net show lldp</code> command sometimes shows the port description in the <code>Remote Port</code> field. The <code>net show interface</code> command shows the correct value in the <code>Remote Host</code> field.<br />To work around this issue, use <code>net show interface</code> command for LLDP output when connected to Cisco equipment. | 3.7.5-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2534734"></a> [2534734](#2534734) <a name="2534734"></a> <br />CM-20813 | Span rules matching the out-interface as a bond do not mirror packets. | 4.0.0-4.4.5 | |
| <a name="2533691"></a> [2533691](#2533691) <a name="2533691"></a> <br />CM-19788 | If you configure a VLAN under a VLAN-aware bridge and create a subinterface of the same VLAN on one of the bridge ports, the bridge and interface compete for the same VLAN and if the interface is flapped, it stops working. Correcting the configuration and running the <code>ifreload</code> command does not resolve the conflict. <br />To work around this issue, correct the bridge VIDs and restart <code>switchd</code> or delete the subinterface.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2533625"></a> [2533625](#2533625) <a name="2533625"></a> <br />CM-19724 | PIM and MSDP entries are set to the internal COS value of 6 so they are grouped together with the bulk traffic priority group in the default <code>traffic.conf</code> file. However, PIM, IGMP, and MSDP are considered control-plane and should be set to the internal COS value of 7.  | 4.0.0-4.4.5 | |
| <a name="2533337"></a> [2533337](#2533337) <a name="2533337"></a> <br />CM-19454 | When you use NCLU to bring a bond admin down (<code>net add bond <bond> link down</code>), the bond interface goes into admin down state but the switch ports enslaved to the bond remain UP. If you are using bond-lacp-bypass-allow or balance-xor mode, the host might continue to send traffic. This traffic will be dropped because although the bond slaves are UP, they are not members of the bridge.<br />To work around this issue, use the <code>sudo ifdown <bondname></code> command. | 4.0.0-4.4.5 | |
| <a name="2531273"></a> [2531273](#2531273) <a name="2531273"></a> <br />CM-17494 | In certain cases, a peer device sends an ARP request from a source IP address that is not on the connected subnet and the switch creates a STALE neighbor entry. Eventually, the switch attempts to keep the entry fresh and sends ARP requests to the host. If the host responds, the switch has REACHABLE neighbor entries for hosts that are not on the connected subnet. <br />To work around this issue, change the value of <code>arp_ignore</code> to 2. See &#91;Address Resolution Protocol in the Cumulus Linux user guide\|https://docs.cumulusnetworks.com/cumulus-linux/Layer-3/Address-Resolution-Protocol-ARP/&#93; for more information. | 4.0.0-4.4.5 | |

### Fixed Issues in 4.4.3
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2 | |
| <a name="2961079"></a> [2961079](#2961079) <a name="2961079"></a> <br /> | CVE-2021-28965 CVE-2021-31799 CVE-2021-31810 CVE-2021-41817 CVE-2021-41819 CVE-2021-32066: Several vulnerabilities have been discovered in the interpreter for the Ruby language and the Rubygems included, which may result on result in XML roundtrip attacks, the execution of arbitrary code, information disclosure, StartTLS stripping in IMAP or denial of service<br />Vulnerable: <= 2.5.5-3+deb10u3Fixed: 2.5.5-3+deb10u4 | 4.4.0-4.4.2 | |
| <a name="2961008"></a> [2961008](#2961008) <a name="2961008"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.0.1 | |
| <a name="2959575"></a> [2959575](#2959575) <a name="2959575"></a> <br /> | When a port flaps with PTP enabled, the switch firmware might become unresponsive and you see the following log message:<code>&#91;ptp4l.ERR&#93;: &#91;435345.036&#93; timed out while polling for tx timestamp</code>  | 4.4.0-4.4.2 | |
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br />None | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2949513"></a> [2949513](#2949513) <a name="2949513"></a> <br /> | CVE-2022-22747: Incorrect parsing of pkcs7 sequences in nss, the Mozilla Network Security Service library, may result in denial of service<br />Vulnerable: <= 2:3.42.1-1+deb10u4Fixed: 2:3.42.1-1+deb10u5 | 4.4.0-4.4.2 | |
| <a name="2932085"></a> [2932085](#2932085) <a name="2932085"></a> <br /> | CVE-2021-45944 CVE-2021-45949: Multiple security issues were discovered in Ghostscript, the GPL PostScript/PDF interpreter, which could result in denial of service and potentially the execution of arbitrary code if malformed document filesare processed<br />Vulnerable: <= 9.27~dfsg-2+deb10u4Fixed: 9.27~dfsg-2+deb10u5 | 4.4.0-4.4.2 | |

## 4.4.2 Release Notes
### Open Issues in 4.4.2

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3434315"></a> [3434315](#3434315) <a name="3434315"></a> <br /> | IPv6 BGP sessions in a VRF do not be establish with MD5 authentication. | 4.3.0-4.4.5 | |
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3419953"></a> [3419953](#3419953) <a name="3419953"></a> <br /> | If you remove a double tagged bridge port from a bridge when a different interface exists with the same port and virtual ID, you might see a segmentation fault and a <code>switchd</code> crash due to incorrect initialization when Cumulus Linux creates the second double-tagged interface. To work around this issue, make sure you remove the double-tagged interfaces from the bridge in the <code>/etc/network/interfaces</code> file. | 4.3.1-4.4.5 | |
| <a name="3413826"></a> [3413826](#3413826) <a name="3413826"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 4.2.1-4.4.5 | |
| <a name="3401121"></a> [3401121](#3401121) <a name="3401121"></a> <br /> | sFlow is not able to sample packets in the egress direction. To work around this issue, add the following to the <code>hsflowd.conf</code> file to enable egress sampling:<pre>samplingDirection=outpsample { group=1 }</pre> | 4.3.0-4.4.5 | |
| <a name="3389994"></a> [3389994](#3389994) <a name="3389994"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbor entries cannot synchronize between MLAG nodes. During this transitory upgrade state, neighbor entry resolution relies on data plane traffic being forwarded to the CPU so ARP can resolve the necessary neighbor entry before traffic can go through the fastpath. | 4.2.1-4.4.5 | |
| <a name="3387852"></a> [3387852](#3387852) <a name="3387852"></a> <br />None | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload because the <code>libyaml-0-2</code> and <code>python-yaml </code> packages are missing; these packages are required for <code>switchd</code> consistency checking. To work around this issue, reinstall the <code>libyaml-0-2</code> and <code>python-yaml </code>packages. | 4.4.0-4.4.5 | |
| <a name="3376798"></a> [3376798](#3376798) <a name="3376798"></a> <br /> | On Broadcom switches, Cumulus Linux does not create the hardware bridging domain for a traditional bridge with a VXLAN interface during <code>switchd</code> restart. The <code>/var/log/switchd.log</code> file includes the following exception logs shortly after <code>switchd</code> restarts:<pre>switchd&#91;30158&#93;: hal_bcm_l3.c:1617 find_egr_path_if_vxlan_overlay:vxlan overlay : nh PORT: port <#>, vlan <x>.<y> not yet ready</pre>MAC learning looks correct, but traffic does not flow as expected. | 3.7.0-3.7.16, 4.3.1-4.4.5 | |
| <a name="3366612"></a> [3366612](#3366612) <a name="3366612"></a> <br /> | The base version of the Linux kernel is updated to the v4.19.273 stable release, which includes fixes for several CVE issues. | 4.3.1-4.4.5 | |
| <a name="3364717"></a> [3364717](#3364717) <a name="3364717"></a> <br />None | On the Trident 2+ and Trident 3 switch when using VXLAN layer 2 VPNs and sending tunneled traffic where the inner IP header has a TTL of 1, the egress VTEP incorrectly forwards this traffic through the software path instead of the hardware data plane. This traffic is rate-limited to 100pps by default.  To work around this issue, ensure that the traffic traversing the layer 2 tunnel has an inner IP header TTL value that is more than 1.  If this workaround is not possible, contact Nvidia Support to determine other options. | 4.3.0-4.4.5 | |
| <a name="3358865"></a> [3358865](#3358865) <a name="3358865"></a> <br />None | When you reboot a Broadcom switch with a static default route configured, the route might be installed in hardware without a next hop. This results in forwarded traffic to the CPU and drops. To recover from this issue, remove the default route configuration and reapply it. To prevent this issue, before rebooting the switch, split the default route configuration into two routes as below:<pre>ip route 0.0.0.0/1 10.1.1.1ip route 128.0.0.0/1 10.1.1.1</pre> | 4.3.1-4.4.5 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-5.3.1 | 5.4.0-5.4.0|
| <a name="3334036"></a> [3334036](#3334036) <a name="3334036"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3334031"></a> [3334031](#3334031) <a name="3334031"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3333064"></a> [3333064](#3333064) <a name="3333064"></a> <br />None | The traffic control rules that the EVPN multihoming configuration adds to an interface are deleted when the <code>hsflowd</code> service restarts. The <code>hsflowd</code> service deletes the EVPN multihoming traffic control filters after you stop <code>hsflowd</code>, then adds back the <code>match-all</code> filters with the <code>psample</code> action; however, <code>hsflowd</code> does not add back the EVPN multihoming traffic control rules. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3303105"></a> [3303105](#3303105) <a name="3303105"></a> <br />None | Clagd crash is observed with the following traceback in /var/log/clagd.log following a clag sync event which is typically driven by a peerlink up event:<br />unhandled exception:<br />    Traceback (most recent call last):<br />      File "/usr/sbin/clagd", line 1304, in PeerRecvT<br />        PeerRecv()<br />      File "/usr/sbin/clagd", line 513, in PeerRecv<br />        ParseProtoBufMessage(nlm, myPeerMsg)<br />      File "/usr/sbin/clagd", line 853, in ParseProtoBufMessage<br />        msgData = FdbSync.ParseProtoBufMessage(msgHdr)<br />      File "/usr/lib/python3/dist-packages/clag/fdbsync.py", line 892, in ParseProtoBufMessage<br />        msgData.ParseFromString(msgHdr.data)<br />    google.protobuf.message.DecodeError: Error parsing message | 4.4.0-4.4.4 | 4.4.5|
| <a name="3297171"></a> [3297171](#3297171) <a name="3297171"></a> <br /> | Restarting <code>switchd</code> might fail due an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | 4.4.4-4.4.5|
| <a name="3293110"></a> [3293110](#3293110) <a name="3293110"></a> <br /> | You cannot set the NTF router flag (NTF_ROUTER) on neighbor entries from the user space. | 4.4.2-4.4.5 | |
| <a name="3292873"></a> [3292873](#3292873) <a name="3292873"></a> <br /> | When you run ZTP manually with the <code>ztp -R</code> command, then the <code>ztp -vb</code> command, the process stalls indefinitely while searching the local (USB) location and not using DHCP information. To work around this issue, run the <code>ztp -r</code> command with the URL of the ZTP server:<pre>&#91;Dec-08-17:09:58&#93; root&#64;switch:/home/cumulus#  ztp -r http://myztp.server.local/ztp</pre> | 4.4.2-4.4.5 | |
| <a name="3291548"></a> [3291548](#3291548) <a name="3291548"></a> <br />None | In EVPN deployments,  a buffer lockup for split or pre-split ports can occur on Spectrum-2 and Spectrum-3 switches. As result, traffic coming in on these ports is dropped in the RX buffer. To work around this issue, restart <code>switchd</code>. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="3288385"></a> [3288385](#3288385) <a name="3288385"></a> <br /> | On the EdgeCore AS7326-56X and AS7726-32X switch, the fan speed reports a minimum threshold in the logs. | 4.3.1-4.4.5 | |
| <a name="3284719"></a> [3284719](#3284719) <a name="3284719"></a> <br /> | Certain EVPN multihoming show commands might cause the <code>bgpd</code> service to crash if you use the <code>json</code> flag and try to reference the default VRF by name. For example: <code>show bgp l2vpn evpn es-vrf json</code>. | 4.4.2-4.4.5 | |
| <a name="3269538"></a> [3269538](#3269538) <a name="3269538"></a> <br />None | The <code>cl-ecmpcalc</code> command prints the following error when the egress interface is a bond or SVI:<pre>ecmpcalc: will query hardwareTraceback (most recent call last):File “/usr/cumulus/bin/cl-ecmpcalc”, line 986, inisTrunkMbr, port = ecmp.getHdPort(hd_cmd)File “/usr/cumulus/bin/cl-ecmpcalc”, line 618, in getHdPortport = int(str4)ValueError: invalid literal for int() with base 10: ‘0t</pre> | 4.3.0-4.4.5 | |
| <a name="3269537"></a> [3269537](#3269537) <a name="3269537"></a> <br />None | When an FRR routing service (such as <code>bgpd</code>) becomes unresponsive, <code>watchfrr</code> might fail to stop and restart service. To work around this issue, restart FRR with the <code>systemctl restart frr</code> command. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3267353"></a> [3267353](#3267353) <a name="3267353"></a> <br /> | In a QinQ configuration, if the VLAN priority is a non-zero value, double-tagged packets are translated to triple-tagged packets.  | 4.3.1-4.4.5 | |
| <a name="3244740"></a> [3244740](#3244740) <a name="3244740"></a> <br />None | If you have a lot of inbound route maps that match lists with many regex statements, a large number of updates from the peer can cause the system to run out of memory. To work around this issue, reduce the number of regex matches in inbound route maps. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3240406"></a> [3240406](#3240406) <a name="3240406"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.4.2-4.4.5 | |
| <a name="3236365"></a> [3236365](#3236365) <a name="3236365"></a> <br />None | When you run docker commands, the command process might crash. The crash can occur during the <code>apt upgrade</code> process, where you can run docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running docker commands or   running <code>apt upgrade</code> to upgrade to Cumulus Linux 43.1. | 4.3.1-4.4.5 | |
| <a name="3236334"></a> [3236334](#3236334) <a name="3236334"></a> <br />None | Using ARP suppression with a very large number of interfaces might result in missing ARP entries on the local device or buffer underrun warnings in the <code>neighmgrd</code> log. | 4.3.0-4.4.5 | |
| <a name="3235956"></a> [3235956](#3235956) <a name="3235956"></a> <br /> | With certain triggers on Broadcom switches, such as adding or deleting a VNI or reloading the network, Cumulus Linux might consider the underlay routes as overlay routes. In this case, <code>switchd</code> allocates the overlay next hop, which is incorrect and might affect traffic forwarding. | 4.3.0-4.4.5 | |
| <a name="3234031"></a> [3234031](#3234031) <a name="3234031"></a> <br />None | If BGP <code>neighbor <name> allowas-in</code> is set, negating with no <code>no neighbor <name> allowas-in</code> does not disable the setting. To work around this issue and disable the setting, restart the FRR service. | 4.2.1-5.2.1 | 5.3.0-5.4.0|
| <a name="3221470"></a> [3221470](#3221470) <a name="3221470"></a> <br />None | Under heavy system load, when many forwarding resources (routes, neighbors, ECMP groups, and so on) are removed from hardware, subsequent attempts to configure additional forwarding resources might fail and you see the following log message:<pre>sx_sdk: EMAD_RX_THREAD: EMAD transaction FW error</pre> | 4.4.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3216921"></a> [3216921](#3216921) <a name="3216921"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-3.7.16, 4.3.0-4.4.5 | |
| <a name="3216759"></a> [3216759](#3216759) <a name="3216759"></a> <br />None | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-4.4.4 | 4.4.5|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU – Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3209699"></a> [3209699](#3209699) <a name="3209699"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-4.3.0, 4.4.0-5.2.1 | 4.3.1, 5.3.0-5.4.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3168564"></a> [3168564](#3168564) <a name="3168564"></a> <br /> | In a large scale VXLAN configuration (for example if you have more than 8500 VLANs across ports), <code>switchd</code> might crash when you restart <code>clagd</code> or when all bonds go operationally down, then up<br />On Trident3 switches running Cumulus Linux 4.3.1, NVIDIA validates the VLAN scale limit for VXLAN deployments with 8500 VLANs across ports with LACP bypass disabled. | 4.3.1-4.4.5 | |
| <a name="3163845"></a> [3163845](#3163845) <a name="3163845"></a> <br /> | If bond slaves listed in the <code>/etc/network/interfaces</code> file are not in alphabetical order, the bond interface MAC address can change when you run <code>ifreload</code>. For example, if the bond slaves in the <code>/etc/network/interfaces</code> file are listed as <code>swp32 swp31</code>, the switch initially uses the MAC address for swp32 as the bond MAC address. An another <code>ifreload</code> can cause this to change to use the MAC address for swp31 as the bond MAC address, which can cause protocol issues, such as IPv6 link-local address changes. | 4.3.1-4.4.5 | |
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.4.0|
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3135801"></a> [3135801](#3135801) <a name="3135801"></a> <br />None | Zebra rejects MAC IP updates from BGP when the MAC mobility sequence number that BGP sends is lower than the sequence number known to zebra<br />When the MAC mobility sequence that BGP knows legitimately lowers (due to narrow timing conditions during convergence or after rebooting an MLAG pair one VTEP at a time),  zebra rejects these updates and maintains a stale state. If the stale information that zebra uses points to the wrong VTEP address, traffic goes to the wrong VTEP and might drop. | 4.0.0-4.3.0, 4.4.0-4.4.5 | 3.7.16, 4.3.1|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3129819"></a> [3129819](#3129819) <a name="3129819"></a> <br /> | On the EdgeCore AS4610 switch, the <code>clagd</code> service loses communication after 198 days of uptime. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3107615"></a> [3107615](#3107615) <a name="3107615"></a> <br /> | Cumulus Linux installation fails with the error <code>Installation Problems, sub-task Installing Optional Packages</code>. This occurs because the web server hosting the Cumulus Linux image remaps a 404 for a non-existent file <code>image.optional_pkgs</code> into a web page, which it then incorrectly attempts to use as a list of optional packages<br />To work around this issue, on the web server hosting the image, create an empty file with the same name as the image with <code>.optional_pkgs</code> appended to the name. | 4.4.0-4.4.3 | 4.3.1, 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3098936"></a> [3098936](#3098936) <a name="3098936"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3093966"></a> [3093966](#3093966) <a name="3093966"></a> <br /> | On Broadcom switches, INPUT chain iptable rules filter IPv6 packets matching the rules.  | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3091381"></a> [3091381](#3091381) <a name="3091381"></a> <br /> | Restarting <code>switchd</code> might fail due to an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | 4.4.4-4.4.5, 5.0.0-5.4.0|
| <a name="3089165"></a> [3089165](#3089165) <a name="3089165"></a> <br /> | A slow memory leak might occur in <code>switchd</code>} if the route fails to install in hardware when hardware resources are exhausted. | 4.2.1-4.4.3 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3083265"></a> [3083265](#3083265) <a name="3083265"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 3.7.16-5.1.0 | 5.2.0-5.4.0|
| <a name="3082583"></a> [3082583](#3082583) <a name="3082583"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3073668"></a> [3073668](#3073668) <a name="3073668"></a> <br /> | On the EdgeCore AS4610 switch, when you change the speed of any of the SFP+ ports, the other SFP+ ports flap. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3073649"></a> [3073649](#3073649) <a name="3073649"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3072613"></a> [3072613](#3072613) <a name="3072613"></a> <br /> | When  you delete a bond interface with NCLU, BGP peer group configuration is removed. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3070672"></a> [3070672](#3070672) <a name="3070672"></a> <br /> | TACACS Command Authorization results in a traceback error and command is not executed | 4.4.0-4.4.5 | |
| <a name="3060399"></a> [3060399](#3060399) <a name="3060399"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isn’t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.4.0|
| <a name="3041306"></a> [3041306](#3041306) <a name="3041306"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021887"></a> [3021887](#3021887) <a name="3021887"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021879"></a> [3021879](#3021879) <a name="3021879"></a> <br />CM-33013 | Cumulus Linux learns remote MAC addresses as local entries on the bridge with the wrong remote VTEP IP address even when bridge learning is off on the VTEP and ARP suppression is enabled.  | 4.4.0-4.4.3 | 3.7.15-3.7.16, 4.4.4-4.4.5, 5.0.0-5.4.0|
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface.  This issue occurs only when you specify <code>bridge-vids</code> on the bond. This issue does not occur  when you configure VLANs only on the bridge interface and let the bond get the <code>bridge-vids</code> applied from the bridge. | 4.4.2-4.4.3 | 4.4.4-4.4.5, 5.1.0-5.4.0|
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="3021698"></a> [3021698](#3021698) <a name="3021698"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards<br />To work around this issue, restart <code>switchd</code> with the <code>sudo systemctl restart switchd.service</code> command. | 4.4.2-4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.4.0|
| <a name="3021692"></a> [3021692](#3021692) <a name="3021692"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3017180"></a> [3017180](#3017180) <a name="3017180"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.4.0, 5.2.0-5.4.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0-5.4.0|
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2 | 4.4.3-4.4.5, 5.1.0-5.4.0|
| <a name="2965759"></a> [2965759](#2965759) <a name="2965759"></a> <br /> | On the EdgeCore AS4610-54T switch, the fan speed reports a minimum threshold in the logs. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.4.0 | 3.7.16|
| <a name="2961216"></a> [2961216](#2961216) <a name="2961216"></a> <br /> | When there is a peer link failure followed by a power failure or a crash on the primary switch,  the MLAG secondary switch takes up to 24 seconds to change roles to the Primary. | 4.4.2-4.4.3 | 4.4.4-4.4.5|
| <a name="2961079"></a> [2961079](#2961079) <a name="2961079"></a> <br /> | CVE-2021-28965 CVE-2021-31799 CVE-2021-31810 CVE-2021-41817 CVE-2021-41819 CVE-2021-32066: Several vulnerabilities have been discovered in the interpreter for the Ruby language and the Rubygems included, which may result on result in XML roundtrip attacks, the execution of arbitrary code, information disclosure, StartTLS stripping in IMAP or denial of service<br />Vulnerable: <= 2.5.5-3+deb10u3Fixed: 2.5.5-3+deb10u4 | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2961008"></a> [2961008](#2961008) <a name="2961008"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.0.1 | 4.4.3-4.4.5, 5.1.0-5.4.0|
| <a name="2959575"></a> [2959575](#2959575) <a name="2959575"></a> <br /> | When a port flaps with PTP enabled, the switch firmware might become unresponsive and you see the following log message:<code>&#91;ptp4l.ERR&#93;: &#91;435345.036&#93; timed out while polling for tx timestamp</code>  | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br />None | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="2949513"></a> [2949513](#2949513) <a name="2949513"></a> <br /> | CVE-2022-22747: Incorrect parsing of pkcs7 sequences in nss, the Mozilla Network Security Service library, may result in denial of service<br />Vulnerable: <= 2:3.42.1-1+deb10u4Fixed: 2:3.42.1-1+deb10u5 | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2947679"></a> [2947679](#2947679) <a name="2947679"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15-3.7.16, 4.4.2-4.4.5 | |
| <a name="2944167"></a> [2944167](#2944167) <a name="2944167"></a> <br /> | When you use NCLU commands to add a port to a bridge and the port already exists under the bridge, Cumulus Linux removes all other ports from the bridge. | 4.4.2-4.4.5 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2940051"></a> [2940051](#2940051) <a name="2940051"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16, 5.0.0-5.4.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2932085"></a> [2932085](#2932085) <a name="2932085"></a> <br /> | CVE-2021-45944 CVE-2021-45949: Multiple security issues were discovered in Ghostscript, the GPL PostScript/PDF interpreter, which could result in denial of service and potentially the execution of arbitrary code if malformed document filesare processed<br />Vulnerable: <= 9.27~dfsg-2+deb10u4Fixed: 9.27~dfsg-2+deb10u5 | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2902013"></a> [2902013](#2902013) <a name="2902013"></a> <br /> | The NCLU commit  command adds a five second delay. | 4.2.1-4.4.5 | |
| <a name="2896450"></a> [2896450](#2896450) <a name="2896450"></a> <br />CM-31978 | On the Dell N3248PXE switch, fixed RJ45 interfaces with PoE neighbors can end up in <code>Paused</code> mode after a <code>switchd</code> restart, which blocks traffic on that interface. To work around this issue, restart <code>switchd</code> a second or third time until all interfaces are functioning correctly, or reboot the switch. | 4.3.0-4.4.5 | |
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2866080"></a> [2866080](#2866080) <a name="2866080"></a> <br /> | On the Maverick S4148T switch with MLAG, Cumulus Linux drops LACP, ARP, LLDP and BGP traffic. | 4.3.0-4.4.5 | |
| <a name="2862211"></a> [2862211](#2862211) <a name="2862211"></a> <br /> | On NVIDIA Spectrum ASICs in a layer 2 bridge scaled configuration (more than 800 VLANs), <code>clagd.service</code> enters a failed state after a reboot or a <code>switchd</code> restart<br />To work around this issue, load the port configuration in a staggered manner (groups of five downlink ports). | 3.7.12-3.7.15, 4.3.0, 4.4.2-4.4.5 | 3.7.16, 4.3.1, 5.0.0-5.4.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2853536"></a> [2853536](#2853536) <a name="2853536"></a> <br /> | MLAG between Cumulus Linux and Arista devices might result in some links being suspended by the Arista devices with the error <code>LACP partner validation failed</code><br />This happens when you use the same LACP port ID for more than one bond member on the Cumulus Linux switch<br />To work around this issue, run the <code>net add bond <name> bond mode balance-xor</code> command on the bond on the Cumulus Linux switch. For proper operation, you need to make the equivalent change on the device on the other side of the link. | 4.4.0-4.4.5 | |
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2841584"></a> [2841584](#2841584) <a name="2841584"></a> <br /> | After you upgrade Cumulus Linux on one of the MLAG peers, the bonds do not come up and the reason shows <code>anycast-ip-mismatch</code> even though there is no VXLAN configuration on the switch.  To work around this issue, configure an anycast IP address under the loopback interface on both switches in the MLAG pair. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2838905"></a> [2838905](#2838905) <a name="2838905"></a> <br /> | On Broadcom ARM switches, the NTP clock slowly drifts to a very high offset (over 500ms) and the clock is not able to synchronize. To work around this issue, use the <code>chrony</code> implementation of NTP instead of <code>ntpd</code>.  <code>chrony</code> synchronizes the system clock faster and with better accuracy<br />Instructions for using <code>chrony</code> are here : https://docs.nvidia.com/networking-ethernet-software/knowledge-base/Network-Solutions/Chrony-on-Cumulus-Linux/ | 4.3.0-4.4.5 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.5 | 5.0.0-5.4.0|
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2813563"></a> [2813563](#2813563) <a name="2813563"></a> <br /> | When you change the port speed with the NVUE <code>nv set interface <interface> link speed</code> command, then run <code>nv config apply</code>, the port is disabled. To work around this issue, run the <code>ifreload -a</code> command after you apply the port speed setting. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803428"></a> [2803428](#2803428) <a name="2803428"></a> <br /> | The <code>clagctl -v -j</code> and <code>net show clag verbose json</code> commands show incorrect output. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803044"></a> [2803044](#2803044) <a name="2803044"></a> <br /> | In an EVPN configuration with IP or MAC mobility, higher MM EVPN routes do not remove the old ARP entries during VIP migration between VTEP racks. | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2794766"></a> [2794766](#2794766) <a name="2794766"></a> <br /> | The Mellanox 3700C switch reports a slow memory leak in sx_sdk. Memory increases by about 240B/hour and does not free up. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2792750"></a> [2792750](#2792750) <a name="2792750"></a> <br /> | If you change the <code>clagd-vxlan-anycast-ip</code> setting on both MLAG peers at the same time, both peers use their unique VTEP address indefinitely. | 3.7.15-4.3.0, 4.4.0-4.4.5 | 4.3.1|
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2788780"></a> [2788780](#2788780) <a name="2788780"></a> <br /> | When you enable ARP and ND suppression and the switch forwards ARP and ND packets to the kernel, RX_DRP counters might increment but the packets are processed as normal. | 4.4.0-4.4.5 | |
| <a name="2781537"></a> [2781537](#2781537) <a name="2781537"></a> <br /> | In Cumulus VX, the iptables FORWARD chain does not count hits. To work around this issue, use <code> -t mangle -A PREROUTING</code> instead of <code>FORWARD</code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2763819"></a> [2763819](#2763819) <a name="2763819"></a> <br /> | When  you enable LACP bypass on a bond, traffic to static MAC addresses configured on the bond might not work when LACP bypass is enforced. | 4.4.0-4.4.5 | |
| <a name="2754791"></a> [2754791](#2754791) <a name="2754791"></a> <br /> | Remote MAC addreses in zebra are out of sync with <code>bgpd</code>. The zebra MAC addresses point to an incorrect (old) VTEP IP  address and the sequence number is one higher than in BGP.  | 3.7.14.2-3.7.16, 4.3.0-4.4.5 | |
| <a name="2753955"></a> [2753955](#2753955) <a name="2753955"></a> <br /> | On the Lenovo MSN3700 switch, if you try to configure an interface with a link speed of 200G, the configuration fails. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2747750"></a> [2747750](#2747750) <a name="2747750"></a> <br /> | Links connected between a Spectrum 2 switch configured for warm boot and Spectrum 3 switches configured for cold boot might not come up when the switches are booted. | 4.4.2-4.4.5 | 5.0.0-5.4.0|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2739398"></a> [2739398](#2739398) <a name="2739398"></a> <br /> | Cumulus Linux does not support a bond or bond member as a SPAN destination. | 4.4.0-4.4.5 | 4.3.1|
| <a name="2738040"></a> [2738040](#2738040) <a name="2738040"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.5 | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="2732605"></a> [2732605](#2732605) <a name="2732605"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0, 4.4.0-4.4.5 | 4.3.1, 5.0.0-5.4.0|
| <a name="2728207"></a> [2728207](#2728207) <a name="2728207"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728206"></a> [2728206](#2728206) <a name="2728206"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.4.0|
| <a name="2711533"></a> [2711533](#2711533) <a name="2711533"></a> <br /> | On the AS7326-56X switch, the link lights for 25G ports configured to work at 1G do not illuminate. | 4.2.1-4.4.5 | |
| <a name="2710208"></a> [2710208](#2710208) <a name="2710208"></a> <br /> | The <code>net show bgp neighbor</code> command output shows the BFD status as UP even when the BGP neighbor is not established, such as when the interface is down. | 4.2.1-4.4.5 | |
| <a name="2700767"></a> [2700767](#2700767) <a name="2700767"></a> <br /> | Following an event that causes the peerlink bond MAC address to change, such as a slave port state change, MLAG interfaces might be suspended due to a peer IP mismatch. This behavior is seen when you use a MLAG peer IP linklocal configuration. | 3.7.12-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2685036"></a> [2685036](#2685036) <a name="2685036"></a> <br /> | When the PIM RP configuration includes an anycast IP address and the route to that anycast IP address changes while joined to a multicast stream, you might receive the multicast stream from both the old and the new anycast source. | 4.4.0-4.4.5 | |
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2669858"></a> [2669858](#2669858) <a name="2669858"></a> <br />CM-32169 | OpenSSH is vulnerable to CVE-2020-14145, as described in https://www.fzi.de/fileadmin/user_upload/2020-06-26-FSA-2020-2.pdf.  <br />This is an information leak in algorithm negotiation that can allow man-in-the-middle attacks on initial connection attempts without a previously stored server host key on the client. If desired, mitigation using UpdateHostKeys and HostKeyAlgorithms is also given in that paper. | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2639303"></a> [2639303](#2639303) <a name="2639303"></a> <br /> | When you use NCLU to delete a bond, then add an interface, NCLU reports an error similar to the following:<pre>ERROR: 'NoneType' object has no attribute 'conf_key_value_multiple_values'See /var/log/netd.log for more details.</pre> | 4.3.0-4.4.5 | |
| <a name="2618227"></a> [2618227](#2618227) <a name="2618227"></a> <br /> | The NCLU <code>net show bridge macs</code> command displays permanent MAC addresses for trunked VLANs. | 4.3.0-4.4.5 | |
| <a name="2606326"></a> [2606326](#2606326) <a name="2606326"></a> <br /> | If the IGMP and MLD querier is configured on only one of the peer switches in an MLAG configuration, when IGMP packets are sent to the peer with no querier, IGMP leave messages have no effect.  | 4.4.0-4.4.5 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2596458"></a> [2596458](#2596458) <a name="2596458"></a> <br /> | When <code>bridge.unreg_v6_mcast_prune = TRUE</code> is configured in the <code>/etc/cumulus/switchd.conf</code> file, traffic destined to IPv6 link-local multicast addresses might not be flooded within the bridge<br />To work around this issue, disable pruning for IPv6 multicast by setting <code>bridge.unreg_v6_mcast_prune = FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file. | 4.4.0-4.4.5 | |
| <a name="2574368"></a> [2574368](#2574368) <a name="2574368"></a> <br /> | When you run the NCLU <code>net add bgp maximum-paths ibgp</code> command, FRR restarts unexpectedly<br />To work around this issue, either use the <code>vtysh</code> commands or edit the <code>/etc/frr/frr.conf</code> file directly, then run <code>systemctl reload frr</code>. | 4.1.1-4.4.5 | |
| <a name="2556772"></a> [2556772](#2556772) <a name="2556772"></a> <br />CM-33391 | The <code>net show clag verify-vlans</code> command fails with the following log: <br /><pre><br />WARNING: '/usr/bin/clagctl verifyvlans' failed due to:<br />Command '&#91;'/usr/bin/clagctl', 'verifyvlans'&#93;' returned non-zero exit status 1<br /></pre><br />To work around this issue, run the <code>/usr/bin/clagctl verifyvlans</code> command or the <code>net show clag verbose</code> command. | 4.2.1-4.4.5 | |
| <a name="2556369"></a> [2556369](#2556369) <a name="2556369"></a> <br />CM-33196 | If you use NCLU to configure an ACL for eth0, you can't designate it as an INPUT rule; the rule is automatically created as a FORWARD rule in the <code>/etc/cumulus/acl/policy.d/50_nclu_acl.rules</code> file.<br />To work around this issue, manually create an ACL in the <code>/etc/cumulus/acl/policy.d/</code> file with "-A INPUT -i eth0". | 4.2.1-4.4.5 | |
| <a name="2556082"></a> [2556082](#2556082) <a name="2556082"></a> <br />CM-33050 | The NCLU <code>net del vrf</code> command does not delete a numbered VRF. For example:<br /><pre><br />cumulus&#64;leaf01:~$ net del vrf 55<br />ERROR: Command not found<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2556081"></a> [2556081](#2556081) <a name="2556081"></a> <br />CM-33049 | You cannot set the time zone can with NCLU commands. | 4.1.1-4.4.5 | |
| <a name="2555981"></a> [2555981](#2555981) <a name="2555981"></a> <br />CM-32979 | In BGP, to enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2555873"></a> [2555873](#2555873) <a name="2555873"></a> <br />CM-32914 | On Mellanox switches, egress ACLs with VLAN keys do not filter layer 2 multicast or broadcast traffic. | 4.3.0-4.4.5 | |
| <a name="2555763"></a> [2555763](#2555763) <a name="2555763"></a> <br />CM-32861 | The NCLU <code>net del bgp neighbor</code> command does not delete the neighbor and displays an error similar to the following:<br /><pre><br />ERROR: --- /run/nclu/frr/frr.conf.scratchpad.baseline   2021-01-04 17:23:59.250463331 +0000<br />+++ /run/nclu/frr/frr.conf.scratchpad    2021-01-04 17:25:59.213673980 +0000<br /></pre><br />To work around this issue, use the FRR command to delete a neighbor. | 4.3.0-4.4.5 | |
| <a name="2555613"></a> [2555613](#2555613) <a name="2555613"></a> <br />CM-32786 | The <code>net show configuration commands</code> command incorrectly displays the NCLU syntax to disable IPv6 forwarding on interfaces. For example:<br /><pre><br /># net show configuration commands<br />net add vlan 1 ip6-forward off <br /></pre><br />The correct NCLU command to disable IPv6 forwarding is <code>net add vlan 1 ipv6 forward off</code> (without the hyphen). | 4.2.1-4.4.5 | |
| <a name="2555318"></a> [2555318](#2555318) <a name="2555318"></a> <br />CM-32612 | If you try to enable BGP graceful restart when it is already enabled, you see an error similar to the following in the <code>frr.log</code> file:<br /><pre><br />2020-12-07T19:20:26.004333+00:00 cumulus bgpd&#91;4954&#93;: VRF default: Handle GR command GLOBAL_GR_CMD, current GR state GLOBAL_GR, new GR state GLOBAL_INVALID<br /></pre><br />This error has no functional impact. | 4.3.0-4.4.5 | |
| <a name="2555175"></a> [2555175](#2555175) <a name="2555175"></a> <br />CM-32528 | Control Plane Traffic (example - BGP peering from Leaf to Spine) goes down on Leaf due to Hold Down Timer Expiration of peer following prolonged link flaps on downlinks when vxlan enabled vlans are carried on the flapping link. | 3.7.15-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554986"></a> [2554986](#2554986) <a name="2554986"></a> <br />CM-32416 | The <code>ethtool</code> utility doesn't contain the latest values, as a result the <code>Revision Compliance</code> field shows <code>Unallocated</code>.  | 4.2.1-4.4.5 | |
| <a name="2554812"></a> [2554812](#2554812) <a name="2554812"></a> <br />CM-32296 | If the RMAC of a layer 3 SVI changes, the <code>show vrf vni</code> command is not updated with the new value. However, the new RMAC is seen in the <code>show evpn vni</code> command and is present on self-originated EVPN routes. | 4.2.1-4.4.5 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2554709"></a> [2554709](#2554709) <a name="2554709"></a> <br />CM-32217 | The IP address specified in the <code>ip pim use-source</code> command configured on the loopback interface should be inherited by unnumbered interfaces during their Primary IP address selection process.  If <code>ip pim use-source</code> is configured on the loopback after an unnumbered interface has already selected their Primary IP address, the unnumbered interface does not update its Primary IP address to be the new use-source value until after there is a netlink update for that interface.<br />To work around this issue, configure <code>ip pim use-source</code> on each unnumbered interface directly or ensure <code>ip pim use-source</code> is applied to the loopback before other unnumbered interfaces are enabled for PIM. | 3.7.13-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554670"></a> [2554670](#2554670) <a name="2554670"></a> <br />CM-32194 | When you have a large number of ACLs, the <code>cl-acltool -L ip</code> and <code>cl-resource-query</code> commands take a long time to complete. | 4.3.0-4.4.5 | |
| <a name="2554582"></a> [2554582](#2554582) <a name="2554582"></a> <br />CM-32144 | On switches with the Maverick ASIC, control traffic is dropped due to receive buffering. | 4.2.0-4.4.5 | |
| <a name="2554533"></a> [2554533](#2554533) <a name="2554533"></a> <br />CM-32112 | On the ARM platform, NTP peer associations slowly increase to larger offsets (~500ms). | 4.0.0-4.4.5 | |
| <a name="2554466"></a> [2554466](#2554466) <a name="2554466"></a> <br />CM-32068 | Kernel routes added by <code>iproute2</code> are missing in FRR after an interface flap.<br />To work around this issue, configure a static route in FRR.<br /> | 4.2.1-4.4.5 | |
| <a name="2554222"></a> [2554222](#2554222) <a name="2554222"></a> <br />CM-31921 | The NCLU command to enable bridge learning fails.<br />As a work around, enable bridge learning in the <code>/etc/network/interface</code> file. For example:<br /><pre><br />auto vni-30<br />iface vni-30<br />    vxlan-id 30<br />    bridge-access 30<br />    bridge-arp-nd-suppress on<br />    bridge-learning on<br />    vxlan-local-tunnelip 10.10.10.1<br />    mstpctl-bpduguard yes<br />    mstpctl-portbpdufilter yes<br />    mtu 9166<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2554218"></a> [2554218](#2554218) <a name="2554218"></a> <br />CM-31917 | MLAG packets received on the peer link are dropped instead of routed. | 4.2.0-4.4.5 | |
| <a name="2554202"></a> [2554202](#2554202) <a name="2554202"></a> <br />CM-31904 | The output of the <code>net show commit</code> command does not show the last commit or the specified commit number but is empty instead. | 4.2.1-4.4.5 | |
| <a name="2553989"></a> [2553989](#2553989) <a name="2553989"></a> <br />CM-31759 | Default policer configured for LACP as an INPUT chain rule in 00control_plane.rules is meant to protect CPU from an LACP storm. When LACP storm is originating out of a single bond or bond member interface in a switch with multiple bond interfaces, there is a possibility of other LACP bond interface(s) going down. | 4.2.1-4.4.5 | |
| <a name="2553887"></a> [2553887](#2553887) <a name="2553887"></a> <br />CM-31700 | When using TACACS+ configured with a DEFAULT user providing privilege level lower than 16, TACACS+ configured users with privilege level 16 access might not be able to run privilege level 16 NCLU commands, such as <code>net add</code> and <code>net del</code> and see an error similar to the following:<br /><pre><br />ERROR: You do not have permission to execute that command.<br /></pre><br />To work around this issue, remove the DEFAULT user from the TACACS+ server. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553677"></a> [2553677](#2553677) <a name="2553677"></a> <br />CM-31605 | When you configure an SNMPv3 user with the <code>net-snmp-config</code> configuration command from the <code>libsnmp-dev</code> package, you get an error message similar to the one below:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ sudo net-snmp-config --create-snmpv3-user -a shaauthpass -x aesprivpass -A SHA -X AES userSHAwithAES<br />adding the following line to /var/lib/snmp/snmpd.conf:           <br />   createUser userSHAwithAES SHA "shaauthpass" AES "aesprivpass"       <br />adding the following line to /snmp/snmpd.conf:                           <br />   rwuser userSHAwithAES                                           <br />touch: cannot touch ‘/snmp/snmpd.conf’: No such file or directory<br />/usr/bin/net-snmp-create-v3-user: 144: /usr/bin/net-snmp-create-v3-user: cannot create /snmp/snmpd.conf: Directory nonexistent<br /></pre><br />To work around this issue, use the NCLU command to configure SNMPv3 user parameters; for example:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ net add snmp-server username user999 auth-md5 user999password encrypt-des user999encryption<br /></pre><br />Alternatively, directly edit the <code>/etc/snmp/snmpd.conf</code> file as described in the documentation. | 3.7.13-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553237"></a> [2553237](#2553237) <a name="2553237"></a> <br />CM-31418 | The default NTP configuration is to use eth0 as the NTP source interface. In Cumulus Linux 4.0 and later, eth0 is in the management VRF by default; therefore the NTP service runs automatically in the management VRF. <br />NVIDIA does not recommend running NTP with a source interface other than eth0 as this can expose a security vulnerability. Changing the NTP source interface name with NCLU to a non-management VRF interface might result in NTP not functioning because the NTP service is still running in the management VRF.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2553116"></a> [2553116](#2553116) <a name="2553116"></a> <br />CM-31357 | When you manually set the link speed or duplex mode with ethtool to an unsupported value, then run a TDR check against the interface, you encounter a <code>switchd</code> service heartbeat failure.<br />To work around this issue, reboot the switch to clear the condition. Avoid setting the interface speed or duplex mode directly with ethtool. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553015"></a> [2553015](#2553015) <a name="2553015"></a> <br />CM-31300 | If a neighbour contains a special character in PortID for LLDP, the <code>net show interface</code> command does not display the LLDP information or the command might fail. | 3.7.10-3.7.16, 4.2.0-4.4.5 | |
| <a name="2552691"></a> [2552691](#2552691) <a name="2552691"></a> <br />CM-31111 | On the EdgeCore AS4610 switch, the eth0 interface remains down when physically connected to a 1G interface.<br />To work around this issue, configure the link speed to 1000 and set auto-negotiation on for the eth0 interface, then flap eth0 with the <code>ip link set eth0 down/up</code> command to bring up the port. | 4.2.0-4.4.5 | |
| <a name="2552453"></a> [2552453](#2552453) <a name="2552453"></a> <br />CM-30987 | On the Mellanox switch, RoCE with PFC configuration is not applied to all ports in hardware when a range is used in the <code>traffic.conf</code> file.<br />To work around this issue, use NCLU to configure RoCE with PFC or list individual ports in the <code>traffic.conf</code> file. | 4.2.0-4.4.5 | |
| <a name="2552309"></a> [2552309](#2552309) <a name="2552309"></a> <br />CM-30889 | The following messages are seen on an Edgecord Minipack-AS8000 running Cumulus Linux 4.2.0:<br /><br /><pre><br />Hal_bcm_console.c:294 MMU config profile 0 prigroup 0: Service Pool 0 has no space and cannot be assigned<br />Hal_bcm_console.c:294 MMU config port 0 idx 0: Pool 0 has no space and cannot be assigned<br /></pre><br /><br />These messages are for internal validation purposes only and can be safely ignored.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2552294"></a> [2552294](#2552294) <a name="2552294"></a> <br />CM-30879 | NCLU restarts FRR when removing a BGP VRF IPv4 aggregate-address command.<br />  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2552266"></a> [2552266](#2552266) <a name="2552266"></a> <br />CM-30863 | OpenSSH scp is vulnerable to CVE-2020-15778, where clients that have authorized access to the SSH server can execute commands on the server by copying maliciously named files.<br />The two scenarios where an exploit may be useful to an attacker:<br />-The user is authorized to <code>scp</code> but not <code>ssh</code> (based on the <code>command</code> option in the <code>authorized_keys</code> file), so this vulnerability can allow executing a remote command on the target computer when not authorized to do so.<br />-An attacker plants a maliciously named file in a directory tree that someone later uses <code>scp -r</code> to copy over to the target computer.<br />Be aware that restricting users to <code>scp</code> by using the <code>command</code> option in the <code>authorized_keys</code> file is not effective in preventing those users from executing arbitrary commands on the server.<br />If you want to use <code>scp -r</code> to copy directory trees, avoid copying directory trees to which attackers may have added maliciously-named files. Archiving the directory tree with <code>tar</code>, <code>zip</code>, or a similar program, then copying the archive over to be extracted on the server avoids having to use <code>scp -r</code> altogether. In addition, OpenSSH provides <code>sftp</code>, which you can use instead of <code>scp</code> to copy files.<br />To disable scp completely, use <code>/bin/chmod 0 /usr/bin/scp</code> . | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551666"></a> [2551666](#2551666) <a name="2551666"></a> <br />CM-30473 | If you modify an interface name, then reuse the previous interface name for a different VLAN, the <code>ifreload -a</code> command generates an error similar to the following:<br /><pre><br />warning: <interface-name>: interface not recognized - please check interface configuration<br /></pre><br /> | 4.1.0-4.4.5 | |
| <a name="2551578"></a> [2551578](#2551578) <a name="2551578"></a> <br />CM-30422 | When you configure a bridge in the <code>/etc/network/interfaces</code> file, then try to reconfigure the bridge to be a VRF interface with the same name, <code>ifreload</code>/<code>ifup</code> commands fail with an <code>invalid table id</code> or <code>unable to get vrf table id</code> error. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551565"></a> [2551565](#2551565) <a name="2551565"></a> <br />CM-30414 | If you toggle VRRP priority values between VRRP routers, then restart <code>switchd</code>, a few IPv6 VRRP instances might not converge. As a result, both the VRRP routers act as master routers for the impacted IPv6 VRRP instances. IPv4 VRRP instances are not affected<br />To work around this issue, remove, then add back the VRRP configuration with NCLU or vtysh commands. | 3.7.13-3.7.16, 4.2.0-4.4.5 | |
| <a name="2551335"></a> [2551335](#2551335) <a name="2551335"></a> <br />CM-30312 | When TACACS+ is configured and the management VRF is enabled, users with privilege level 13 are prevented from running <code>ip</code> and <code>cat</code> commands. | 4.0.0-4.4.5 | |
| <a name="2551305"></a> [2551305](#2551305) <a name="2551305"></a> <br />CM-30296 | The <code>net show configuration</code> command provides the wrong <code>net add</code> command for ACL under the VLAN interface.<br /><br /> | 3.7.12-3.7.16, 4.1.0-4.4.5 | |
| <a name="2551273"></a> [2551273](#2551273) <a name="2551273"></a> <br />CM-30280 | On a Mellanox SN2010 switch, the Locator LED is on after you upgrade Cumulus Linux. | 4.1.0-4.4.5 | |
| <a name="2551221"></a> [2551221](#2551221) <a name="2551221"></a> <br />CM-30255 | When span-to-cpu is enabled on L3 swp interface with an IP address configured, packets with destination IP as switchport's IP address don't reach switchport. To capture packets directed towards switcport's IP, disable span-to-cpu and use tcpdump on swichport instead. | 4.2.0-4.4.5 | |
| <a name="2551111"></a> [2551111](#2551111) <a name="2551111"></a> <br />CM-30230 | If a remote EVPN Sticky MAC &#91;Static MAC address&#93; is unexpectedly learned dynamically on a local interface, the selected entries in zebra and BGP are in an inconsistent state.<br />zebra increments the local MAC mobility sequence number and considers the MAC address to be local, but BGP maintains the remote Sticky MAC as the best path selected. This results in zebra installing the local MAC address and BGP not updating the route for the MAC address. | 4.0.0-4.4.5 | |
| <a name="2550974"></a> [2550974](#2550974) <a name="2550974"></a> <br />CM-30195 | On the Dell S3000 switch, after installing the Cumulus Linux 4.1.1 disk image without a license, the switch sends a link beat if a remote host port is configured. | 3.7.11-3.7.16, 4.1.1-4.4.5 | |
| <a name="2550793"></a> [2550793](#2550793) <a name="2550793"></a> <br />CM-30101 | The NCLU <code>net show bridge spanning-tree</code> command displays the aging timer incorrectly.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550713"></a> [2550713](#2550713) <a name="2550713"></a> <br />CM-30052 | Configuring the subinterface of a VXLAN uplink under another traditional bridge, which also has the VXLAN VNI enslaved, causes <code>switchd</code> to use high CPU due to very frequent VXLAN tunnel sync events.<br />To work around this issue, do not enslave the subinterface of a VXLAN layer 3 uplink under a traditional bridge in a VXLAN configuration. | 4.1.1-4.4.5 | |
| <a name="2550642"></a> [2550642](#2550642) <a name="2550642"></a> <br />CM-30006 | ACLs with SPAN target and in-interface as bond member are not supported on Spectrum-based switches  | 4.2.0-4.4.5 | |
| <a name="2550444"></a> [2550444](#2550444) <a name="2550444"></a> <br />CM-29872 | Tab completion for the <code>net show rollback description</code> command returns information about a snapshot instead of context help.<br />To work around this issue, run the <code>net show commit history</code> command to find descriptions instead of the <code>net show rollback description</code> command. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550443"></a> [2550443](#2550443) <a name="2550443"></a> <br />CM-29871 | The <code>net show rollback description <string></code> command returns an error even if the string matches a commit description.<br />To work around this issue, look for your string in the output of the <code>net show commit history</code> command (or grep for it there) instead. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550243"></a> [2550243](#2550243) <a name="2550243"></a> <br />CM-29759 | When you use <code>nginx</code> and <code>restserver</code> in management VRF to provide a REST API for the switch, <code>nginx</code> starts but <code>restserver</code> fails to start.<br />To work around this issue, comment out the <code>Requires=</code> line in the <code>/lib/systemd/system/restserver.service</code>. For example:<br /><pre><br />#Requires=nginx.service restserver.socket<br /></pre> | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550056"></a> [2550056](#2550056) <a name="2550056"></a> <br />CM-29652 | The ACCTON-DIAG option under the Cumulus Linux GRUB menu does not work. When you select this option, you see the following error:<br /><pre><br />error: invalid signature.<br />Press any key to continue...<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549925"></a> [2549925](#2549925) <a name="2549925"></a> <br />CM-29594 | When you run an Ansible script to replace the <code>/etc/network/interfaces</code> file, then run the <code>ifreload -a</code> command, you see errors similar to the following:<br /><pre><br />error: swp1s1.2: netlink: cannot set link swp1s1.2 up: operation failed with 'Network is down' (100)<br />warning: cmd '/bin/ip addr del 10.0.0.1/24 dev eth0' failed: returned 2 (RTNETLINK answers: Cannot assign requested address<br /></pre><br />To work around this issue,  run the <code>ifreload -a</code> command a second time. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549872"></a> [2549872](#2549872) <a name="2549872"></a> <br />CM-29562 | If you have an SVI with multiple VRR IP addresses and try to delete one of the VRR configurations, <code>net commit</code> or <code>ifreload -a</code> returns an error. | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549782"></a> [2549782](#2549782) <a name="2549782"></a> <br />CM-29519 | The JSON format output of the <code>net show bgp l2vpn evpn summary</code> command shows the incorrect neighbour state.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549731"></a> [2549731](#2549731) <a name="2549731"></a> <br />CM-29492 | When you create SPAN or ERSPAN rules in ebtables, the action fails to install if it is not in lowercase. Make sure that the SPAN or ERSPAN action is all lowercase; for example:<br /><pre><br />&#91;ebtables&#93;<br />-A FORWARD --in-interface swp10 -j span --dport swp1<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549392"></a> [2549392](#2549392) <a name="2549392"></a> <br />CM-29319 | When you configure an RD or RT with NCLU, you see duplicate VNI stanzas in the <code>/etc/frr/frr.conf</code> file. <br />To work around this issue, manually edit the <code>etc/frr/frr.conf</code> file to define <code>advertise-all-vni</code> before the RD or RT configuration within the l2vpn EVPN address family, then reload the FRR service with the <code>sudo systemctl reload frr</code> command. | 4.1.0-4.4.5 | |
| <a name="2548924"></a> [2548924](#2548924) <a name="2548924"></a> <br />CM-29146 | On the EdgeCore Minipack AS8000, storm control does not restrict unknown unicast, broadcast, or multicast traffic. | 4.1.1-4.4.5 | |
| <a name="2548657"></a> [2548657](#2548657) <a name="2548657"></a> <br />CM-29035 | When you upgrade Cumulus Linux on the EdgeCore AS7726-32X or AS7326-56X switch, you might see firmware errors similar to the following:<br /><pre><br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso5.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3.bin for module tg3<br /></pre><br />You can safely ignore these error messages. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548579"></a> [2548579](#2548579) <a name="2548579"></a> <br /> | The following security vulnerability has been announced:<br />CVE-2020-10531: An issue was discovered in International Components for Unicode (ICU) for C/C++ through 66.1. An integer overflow, leading to a heap-based buffer overflow, exists in the UnicodeString::doAppend() function in common/unistr.cpp. | 3.7.12, 4.0.0-4.4.5 | 3.7.13-3.7.16|
| <a name="2548315"></a> [2548315](#2548315) <a name="2548315"></a> <br />CM-28816 | The following security advisory has been announced for bash: <br />CVE-2019-18276 Qualys scan QID 372268 setuid vulnerability<br />When bash or bash scripts are run setuid, bash is supposed to drop privileges, but does so incorrectly, so that an attacker with command access to the shell can use <code>enable -f</code> for runtime loading of a new builtin that calls <code>setuid()</code> to regain dropped privileges.<br />To work around this issue, do not make bash or bash scripts <code>setuid</code>. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548310"></a> [2548310](#2548310) <a name="2548310"></a> <br />CM-28812 | When the system boots, we might see " cumulus systemd-udevd&#91;7566&#93;: Process '/usr/bin/hw-management-thermal-events.sh add thermal_zone /sys /devices/virtual/thermal/thermal_zone25 thermal_zone25' failed with exit code 1" errors. <br /><br />These errors are result of  user space acting on kernel events a bit slow. The mlxsw_minimal driver is added during kernel boot; An SDK reset causes the driver to be deleted and re-instantiated; User space handler for thermal zone add sees the add first; But the underlying device is deleted before it can act on it. This situation is rectified as the mlxsw_minimal driver is re-instantiated later; <br /> | 4.1.0-4.4.5 | |
| <a name="2548260"></a> [2548260](#2548260) <a name="2548260"></a> <br />CM-28770 | The <code>net add routing route-map <name> permit <seq> set community <comm></code> command does not add the set statement into the <code>/etc/frr/frr.conf</code> file. | 4.0.0-4.4.5 | |
| <a name="2548243"></a> [2548243](#2548243) <a name="2548243"></a> <br />CM-28754 | On switches with the Trident2+ ASIC, adding SPAN rules disables PBR rules. | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548117"></a> [2548117](#2548117) <a name="2548117"></a> <br />CM-28659 | In OVSDB traditional bridge mode, adding or removing a VLAN binding causes a traffic forwarding outage for around 20 seconds or more on adjacent VLAN bindings. Cumulus Linux does not support _traditional_ bridge mode with VMware NSX. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548062"></a> [2548062](#2548062) <a name="2548062"></a> <br />CM-28622 | When ports are split to 4x25G, RS FEC needs to explicitly configured on both ends (especially when interoperating with non-Mellanox switches). | 4.1.0-4.4.5 | |
| <a name="2548044"></a> [2548044](#2548044) <a name="2548044"></a> <br />CM-28608 | When a remote VTEP withdraws a type-3 EVPN route, Cumulus Linux purges all MAC address and neighbor entries installed in the corresponding layer 2 VNI through that remote VTEP from the local EVPN and kernel forwarding tables. This purge occurs even if the remote VTEP does not withdraw type-2 routes carrying the MAC address or neighbor entries. The entries stay missing from the local EVPN and kernel forwarding tables until BGP updates the MAC address and neighbor. | 3.7.12-3.7.15, 4.0.0-4.4.5 | 3.7.16|
| <a name="2547903"></a> [2547903](#2547903) <a name="2547903"></a> <br />CM-28506 | CVE-2019-19956: xmlParseBalancedChunkMemoryRecover in parser.c in libxml2 before 2.9.10 has a memory leak related to newDoc->oldNs<br />Vulnerable: 2.9.4+dfsg1-7Fixed: 2.9.4+dfsg1-7+deb10u1 | 4.0.0-4.4.5 | |
| <a name="2547890"></a> [2547890](#2547890) <a name="2547890"></a> <br />CM-28497 | QinQ across VXLAN on a traditional bridge does not work. | 4.1.0-4.4.5 | |
| <a name="2547782"></a> [2547782](#2547782) <a name="2547782"></a> <br />CM-28441 | If a LLDP neighbor advertises a <code>PortDescr</code> that contains commas, <code>ptmctl -d</code> splits the string on the commas and misplaces its components in other columns. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547706"></a> [2547706](#2547706) <a name="2547706"></a> <br />CM-28397 | When you configure ganged ports in the <code>ports.conf</code> file, the change does not take effect after you restart <code>switchd</code>. <br />To work around this issue, reboot the switch. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547405"></a> [2547405](#2547405) <a name="2547405"></a> <br />CM-28226 | When you restart the <code>hsflowd</code> service, you see a <code>systemd</code> warning message similar to the following:<br /><pre><br />Warning: The unit file, source configuration file or drop-ins of hsflowd&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload'.<br /></pre> | 4.0.0-4.4.5 | |
| <a name="2547120"></a> [2547120](#2547120) <a name="2547120"></a> <br />CM-28076 | After you hot swap a PSU, the <code>decode-syseeprom -t psuX</code> command shows the old PSU information (such as the serial number), until you run the <code>decode-syseeprom --init</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546991"></a> [2546991](#2546991) <a name="2546991"></a> <br />CM-28003 | The FRR service does not provide a way for automation to know if the configuration applied properly.<br />To work around this issue, execute the <code>vtysh -f <file></code> command in the automation file before starting the FRR service to validate the functional configuration and return an error code. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546895"></a> [2546895](#2546895) <a name="2546895"></a> <br />CM-27957 | If you have configured a higher number of ports and VLANs (ports x VLANs) or the switch is a lower-powered (CPU) platform, the <code>switchd</code> service might fail to send a <code>systemd keepalive</code> within the watchdog timeout value (2 minutes by default) and you see an error similar to the following:<pre>bq. systemd&#91;1&#93;: switchd.service watchdog timeout (limit 2min)!</pre>To workaround this issue, either reduce the number of configured interfaces and, or VLANs, or increase the <code>systemd</code> timeout for <code>switchd.service</code><br />To increase the <code>systemd</code> timeout:1.Edit the <code>/etc/systemd/system/switchd.service.d/override.conf</code> file and increase the <code>WatchdogSec</code> parameter<br />2.Restart the <code>switchd</code> service with the <code>sudo systemctl restart switchd.service</code> command<br /><code>systemd</code> attempts to restart the <code>switchd</code> service automatically (after the watchdog timeout). If the restart fails multiple times in a short time period, run the <code>sudo systemctl reset-failed</code> command followed by the <code>sudo systemctl restart switchd</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546874"></a> [2546874](#2546874) <a name="2546874"></a> <br />CM-27950 | On the Dell S5232F, S5248F, S5296F, and S3048 switch, using the <code>poweroff</code> or <code>halt</code> commands does not fully power off the switch. | 4.0.0-4.4.5 | |
| <a name="2546255"></a> [2546255](#2546255) <a name="2546255"></a> <br />CM-27637 | On the EdgeCore Minipack-AS8000 switch, a 100G DAC link does not come up when auto-negotiation is enabled on the neighbor. This switch does not support 100G DAC auto-negotiation at this time. | 4.0.0-4.4.5 | |
| <a name="2546225"></a> [2546225](#2546225) <a name="2546225"></a> <br />CM-27627 | When you execute the following command on the Delta AG6248C switch, the switch reboots and then comes right back into Cumulus Linux without installing the new image. The install image is still in <code>/var/lib/cumulus/installer</code>, which causes issues with cl-support. <br /> <pre> <br /> sudo onie-install -fai http://<path to image> <br /> sudo reboot <br /> </pre> <br /> To work around this issue, use the <code>onie-select</code> command to access ONIE, and then use the <code>nos-install</code> command in ONIE to install a new binary image.  | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546131"></a> [2546131](#2546131) <a name="2546131"></a> <br />CM-27581 | On the Delta AG-6248C PoE switch, when you run the <code>apt upgrade</code> command, the upgrade does not work. Cumulus Linux uses <code>uboot</code> directly instead of <code>grub</code> to boot the kernel. Uboot needs a special header to boot the kernel, which is not present. Without this header, when you use the <code>apt upgrade</code> command to upgrade Linux packages, <code>uboot</code> is unable to boot up the kernel. <br />To work around this issue, upgrade Cumulus Linux by installing the Cumulus Linux image. Run the <code>onie-select</code> command to go into ONIE, and then use the <code>nos-install</code> command in ONIE to install a new image.<br />This workaround only works when an out-of-band network is present. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2545837"></a> [2545837](#2545837) <a name="2545837"></a> <br />CM-27444 | If you use the NCLU commands to configure NTP and run the <code>net add time ntp source <interface></code> command before you run the <code>net add time ntp server <server> iburst</code> command, the <code>/etc/ntp.conf</code> file is misconfigured.<br />To work around this issue, run the <code>net add time ntp server <server> iburst</code> command before you run the <code>net add time ntp source <interface></code> command. | 3.7.10-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2545520"></a> [2545520](#2545520) <a name="2545520"></a> <br />CM-27243 | The length of the netlink message is not set properly for non-bridge family type messages. The same length is used for both bridge and non-bridge even though the bridge family type message has an extra attribute. This causes extra bytes to be left over in non-bridge family type netlink messages. | 3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2545233"></a> [2545233](#2545233) <a name="2545233"></a> <br />CM-27094 | On the Delta AG9032v1 switch, smonctl and sensors report inaccurate PSU current and power. | 4.0.0-4.4.5 | |
| <a name="2545125"></a> [2545125](#2545125) <a name="2545125"></a> <br />CM-27018 | If you configure more than one VRR interface on an SVI interface, deleting one of the VRR addresses does not remove the interface/address.  | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544978"></a> [2544978](#2544978) <a name="2544978"></a> <br />CM-26921 | If you delete an undefined bond, then add a bond slave, the <code>net commit</code> command fails. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544968"></a> [2544968](#2544968) <a name="2544968"></a> <br />CM-26913 | FRR configuration commands for an SVI interface might have the <code>\n</code> misplaced in the output.  For example:<br /><pre><br />sudo sh -c "printf 'interface 50\nvrf TEST description L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />should be:<br /><pre><br />sudo sh -c "printf 'interface 50 vrf TEST\ndescription L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />To work around this issue, configure the interface manually in the <code>/etc/frr/frr.conf</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544957"></a> [2544957](#2544957) <a name="2544957"></a> <br />CM-26907 | NCLU incorrectly allows you to apply port security configuration on layer 2 and layer 3 ports that are not part of a bridge. | 4.0.0-4.4.5 | |
| <a name="2544953"></a> [2544953](#2544953) <a name="2544953"></a> <br />CM-26905 | When you update the hostname of a switch with the NCLU <code>net add hostname <hostname></code> command, then run <code>net commit</code>, the <code>lldpd</code> service does not restart and other devices still see the old hostname.<br />To work around this issue, run the <code>sudo systemctl restart lldpd.service</code> command. | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544880"></a> [2544880](#2544880) <a name="2544880"></a> <br />CM-26860 | When you run the NCLU <code>net show commit last</code> or <code>net show commit <number></code> command, where <code><number></code> is the last commit, no output is shown.  | 4.0.0-4.4.5 | |
| <a name="2544723"></a> [2544723](#2544723) <a name="2544723"></a> <br />CM-26769 | Setting ProtoDown on ports populated with SFP modules providing RJ-45 1000BASE-T interfaces does not cause the carrier to be dropped. The kernel shows carrier down; however, the remote device still shows a link. | 3.7.6-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2544463"></a> [2544463](#2544463) <a name="2544463"></a> <br />CM-26599 | Auto-negotiation does not work with the QSFP28 cables and a remote system operating at 10G. Attempting to enable auto-negotiation with <code>ethtool -s swp<#> autoneg on</code> returns <code>Operation not supported</code>.<br />To work around this issue, do not use auto-negotiation and set the local port speed to 10G. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544456"></a> [2544456](#2544456) <a name="2544456"></a> <br />CM-26595 | The NCLU <code>net show lldp</code> command displays the speed of a ganged port group as the speed of one of the individual links, rather than the sum of their speeds. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544311"></a> [2544311](#2544311) <a name="2544311"></a> <br />CM-26516 | Applying a policy-based routing (PBR) rule for all traffic from a host might disrupt ARP refresh for that connected host. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544155"></a> [2544155](#2544155) <a name="2544155"></a> <br />CM-26423 | NCLU requires you to specify an interface with multiple <code>address-virtual</code> statements in ascending MAC address order. <br /><br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544113"></a> [2544113](#2544113) <a name="2544113"></a> <br />CM-26412 | Mac learning is not disabled by default on a double tagged peer link interface resulting in the MAC address changing between the MLAG bond and the peer link.<br />To work around this issue, disable MAC learning on QinQ VLANs by adding <code>bridge-learning off</code> to the VLAN stanza in the <code>etc/network/interfaces</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543937"></a> [2543937](#2543937) <a name="2543937"></a> <br />CM-26308 | An interface alias configured outside FRR using <code>iproute2</code> is imported into the FRR running configuration and overrides the internal description. After an FRR reload, this causes FRR to delete the interface alias in an inefficient way. Depending on how many interfaces with aliases you have configured, this can cause a FRR reload to time out.<br />To work around this issue, remove the interface alias description from <code>iproute2</code>. | 3.7.8-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | <code>systemctl</code> issues a warning similar to the following when you enable a service in the management VRF:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre> | 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2543900"></a> [2543900](#2543900) <a name="2543900"></a> <br />CM-26288 | On the Mellanox switch, static VXLAN tunnels incorrectly allow traffic from any remote tunnel IP address. | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543841"></a> [2543841](#2543841) <a name="2543841"></a> <br />CM-26256 | The <code>net show evpn vni detail json</code> command includes an extra empty dictionary at the end of the output. <br /> | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543816"></a> [2543816](#2543816) <a name="2543816"></a> <br />CM-26241 | On the Dell S5248F-ON switch, <code>smond</code> might generate syslog messages indicating that the fan input RPM is lower than the normal low speed of 2500 RPM. Speeds as low as 1700 RPM are acceptable in normal thermal environments; therefore, you can ignore these messages.<br /> | 3.7.6-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2543781"></a> [2543781](#2543781) <a name="2543781"></a> <br />CM-26217 | NCLU does not allow you to configure OSPF NSSAs. For example: <br /><pre><br />cumulus&#64;switch:~$ net add ospf area 0.0.0.1 nssa <br />ERROR: Command not found. <br />net add ospf area 0.0.0.1 nssa<br /></pre><br />To work around this issue, use FRR instead. For example: <br /><pre><br />switch# configure terminal <br />switch(config)# router ospf <br />switch(config-router)# area 0.0.0.1 nssa <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543724"></a> [2543724](#2543724) <a name="2543724"></a> <br />CM-26179 | If a hostname contains utf-8 characters, the NCLU <code>net show lldp</code> command outputs the following error: <br /><pre><br />ERROR: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128) <br />See /var/log/netd.log for more details.  <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543646"></a> [2543646](#2543646) <a name="2543646"></a> <br />CM-26136 | In an ebtables rule, ERSPAN (upper case) does not work. You need to specify erspan (lower case). | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543401"></a> [2543401](#2543401) <a name="2543401"></a> <br />CM-25986 | On the Mellanox Spectrum-2 switch, the time required to establish a link (from the time a link is set to <code>admin up</code> until the link becomes operationally up) can take up to 15 seconds on 40G interfaces and up to 30 seconds on 100G interfaces. <br />To work around this issue, wait up to 15 seconds on 40G interfaces and 30 seconds on 100G interfaces for the link to establish. | 4.0.0-4.4.5 | |
| <a name="2543211"></a> [2543211](#2543211) <a name="2543211"></a> <br />CM-25890 | In some cases, the <code>switchd</code> service might warn of excessive MAC moves from one switch port to itself (for example, from swp18 to swp18).<br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543164"></a> [2543164](#2543164) <a name="2543164"></a> <br />CM-25859 | The MTU of an SVI cannot be higher than the MTU on the bridge. Changing the MTU on the SVI with NCLU does not update the bridge MTU. The <code>net commit</code> command succeeds even though the MTU is not changed as expected.<br />To work around this issue, change the MTU on all SVIs and the bridge manually in the <code>/etc/network/interfaces</code> file, then apply the change with the <code>ifreload -a</code> command. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543096"></a> [2543096](#2543096) <a name="2543096"></a> <br />CM-25815 | When an SVI with a virtual MAC is configured with a layer 2 VNI in an EVPN environment, if you replace the <code>/etc/network/interfaces</code> file with a different file that does not have the SVI and layer 2 VNI configuration, the original virtual MAC is not populated through the EVPN route until FRR is restarted. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542945"></a> [2542945](#2542945) <a name="2542945"></a> <br />CM-25740 | On the Broadcom Maverick switch with a QinQ configuration, the packets coming into the CPU might be tagged incorrectly; for example, 802.1ad + 802.1q tags are expected in the packets but the packets have 802.1q + 802.1q tags. <br />To work around this issue, configure the bridge with <code>bridge-vlan-protocol 802.1ad</code>: <br /><pre><br />cumulus&#64;switch:~$ net add bridge mybridge vlan-protocol 802.1ad <br /></pre>  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542837"></a> [2542837](#2542837) <a name="2542837"></a> <br />CM-25674 | On Mellanox switches, policer iptables are not working as expected. For example, when using a policer with mode KB/MB/GB to rate-limit interfaces, the syntax is accepted but the data plane transfer speed is not affected by the rule.  | 3.7.6-3.7.8, 4.0.0-4.4.5 | 3.7.9-3.7.16|
| <a name="2542305"></a> [2542305](#2542305) <a name="2542305"></a> <br />CM-25400 | If an SVI exists in the configuration before you assign it an IP address, when you do assign the IP address with the NCLU command, the <code>vlan-id</code> and the raw-device bridge stanzas are not added automatically. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542301"></a> [2542301](#2542301) <a name="2542301"></a> <br />CM-25397 | When first creating a bond and enslaving an interface, NCLU hides some of the bridge command suggestions, although they are still accepted. <br /> | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541212"></a> [2541212](#2541212) <a name="2541212"></a> <br />CM-24894 | The <code>maximum-prefix</code> configuration under the IPv4 address family has an optional restart value, which you can configure. This configuration is ignored and, instead of restarting the sessions every x minutes, the peer constantly changes between established and idle due to the prefix count being exceeded.  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541029"></a> [2541029](#2541029) <a name="2541029"></a> <br />CM-24799 | On switches with the Trident2 ASIC, 802.1Q-encapsulated control plane traffic received on an interface with 802.1AD configured subinterfaces might be dropped. <br />This issue only affects QinQ configurations. <br />  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540753"></a> [2540753](#2540753) <a name="2540753"></a> <br />CM-24618 | If the interface alias contains a single or double quotation mark, or an apostrophe, the <code>net show configuration</code> commands fail with the following error: <br /><pre> <br />ERROR: No closing quotation <br />See /var/log/netd.log for more details. <br /></pre> <br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540444"></a> [2540444](#2540444) <a name="2540444"></a> <br />CM-24473 | SNMP incorrectly requires engine ID specification. <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540352"></a> [2540352](#2540352) <a name="2540352"></a> <br />CM-24435 | When you use NCLU to configure a route map, the parser allows for glob matching of interfaces for a _match interface_ condition when there can only be a single interface matched. The proper syntax is to use multiple route map clauses, each matching a single interface, instead of a single clause matching multiple interfaces. <br />For example, this command is incorrect: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9-10 <br /></pre> <br />These commands are correct: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9 <br />net add routing route-map Proxy-ARP permit 30 match interface swp10 <br /></pre> <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540340"></a> [2540340](#2540340) <a name="2540340"></a> <br />CM-24426 | NCLU allows for the configuration of addresses on VRF interfaces, but tab completion for the <code>net add vrf <name></code> command just displays <ENTER>. For example: <br /> <pre> <br /> cumulus&#64;switch:~$ net add vrf mgmt <br /> <ENTER> <br /> </pre> <br /> Tab completion for the <code>net add vrf <name> ip address <address></code> command works correctly.  | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540274"></a> [2540274](#2540274) <a name="2540274"></a> <br />CM-24379 | On the Maverick switch, CPU forwarded packets might be dropped when there is no route to a leaked host route. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540204"></a> [2540204](#2540204) <a name="2540204"></a> <br />CM-24350 | When links come up after FRR is started, VRF connected routes do not get redistributed. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540192"></a> [2540192](#2540192) <a name="2540192"></a> <br />CM-24343 | The <code>net del bridge bridge mcsnoop yes</code> command does not return the value to the default of disabled. <br />To work around this issue, use the <code>net add bridge bridge mcsnoop no</code> command to delete the <code>mcsnoop attribute</code> and return to the default value. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540155"></a> [2540155](#2540155) <a name="2540155"></a> <br />CM-24332 | On the Broadcom switch, when moving configuration from bridged to routed (or toggling from routed to bridged to routed), some traffic is not seen by the kernel. This can cause BGP to not establish on a transit node. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540042"></a> [2540042](#2540042) <a name="2540042"></a> <br />CM-24272 | When you try to configure the VRRP priority and advertisement-interval with NCLU on a traditional mode bridge, the <code>net commit</code> command fails. <br />To work around this issue, use the vtysh command (inside FRR) to change the VRRP priority or advertisement-interval on traditional bridges. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface br0.100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# vrrp 1 advertisement-interval <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540041"></a> [2540041](#2540041) <a name="2540041"></a> <br />CM-24271 | On SVIs in a VLAN-aware bridge, you cannot change the VRRP priority with NCLU. <br />To work around this issue, run the vtysh command inside FRR to change the default priority. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface vlan100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540040"></a> [2540040](#2540040) <a name="2540040"></a> <br />CM-24270 | Cumulus Linux uses VRRPv3 as the default version, and enables both preempt and accept mode by default. You cannot change these default values with NCLU. To work around this issue, run the vtysh commands (inside FRR) to change the default values. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface swp4 <br />switch(config-if)# vrrp 1 version 2 <br />switch(config-if)# no vrrp 1 preempt <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540031"></a> [2540031](#2540031) <a name="2540031"></a> <br />CM-24262 | NCLU does not honor <code>auto all</code> in the <code>/etc/network/interfaces</code> file and removes the existing configuration if no individual <code>auto <iface></code> lines exist. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539994"></a> [2539994](#2539994) <a name="2539994"></a> <br />CM-24241 | When you try to remove a BGP peer group configuration with NCLU, the command fails but no warning message is shown. For example: <br /><pre> <br />cumulus&#64;switch:~$ net del bgp neighbor fabric peer-group<br />'router bgp 65001' configuration does not have 'neighbor fabric peer-group' <br /></pre> <br />  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539962"></a> [2539962](#2539962) <a name="2539962"></a> <br />CM-24222 | When an LDAP user that does not have NCLU privileges (either in the <code>netshow</code> or <code>netedit</code> group, or in the <code>/etc/netd.conf</code> file) runs an NCLU command, a traceback occurs instead of a permissions error. <br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539670"></a> [2539670](#2539670) <a name="2539670"></a> <br />CM-24035 | On the Edgecore 4610-54P switch, automatic medium-dependent interface crossover (auto-MDIX) stops working on a 100M full duplex interface and does not detect the required cable connection type. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539124"></a> [2539124](#2539124) <a name="2539124"></a> <br />CM-23825 | The <code>net add interface <interface> ptm-enable</code> command adds <code>no ptm-enable</code> for that interface in the <code>frr.conf</code> file. <br />Running the <code>net add</code> or the <code>net del</code> command does not remove <code>no ptm-enable</code> from the <code>frr.conf</code> file. You have to remove it manually using vtysh. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538790"></a> [2538790](#2538790) <a name="2538790"></a> <br />CM-23665 | NCLU automatically adds the VLAN ID (for the layer 3 VNI/SVI) to the bridge when you run <code>net add vxlan <layer3-vni> bridge access <vlan></code>. This configuration breaks network connectivity in an EVPN symmetric routing configuration using MLAG. <br />To restore connectivity, remove the VLAN ID from the bridge.  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538590"></a> [2538590](#2538590) <a name="2538590"></a> <br />CM-23584 | When you configure a control plane ACL to define permit and deny rules destined to the local switch, NCLU programs the control plane ACL rules into the FORWARD chain. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538562"></a> [2538562](#2538562) <a name="2538562"></a> <br />CM-23570 | On an RMP/1G-T switch, when you remove <code>link-speed 100</code> with the NCLU command or by editing the <code>etc/network/interfaces</code> file to revert the 100M interface to the default (1G auto), the interface fails to recover and does not come back up.<br />After you remove the link-speed, <code>ethtool</code> shows the advertised link modes as not reported and Speed/Duplex as unknown.<br />To work around this issue and bring the interface back up, either restart <code>switchd</code> or use ethtool to configure the speed, advertised, duplex or MDI-X settings. <br />Note: The advertised link mode gets set incorrectly if you include 1000baseT/Half. The port will come up successfully at 1G. | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538294"></a> [2538294](#2538294) <a name="2538294"></a> <br />CM-23417 | If you use NCLU to create an iBGP peering across the peer link, running the <code>net add bgp l2vpn evpn neighbor peerlink.4094 activate</code> command creates a new eBGP neighborship when one has already been configured for iBGP. This is unexpected; the existing iBGP configuration is valid.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537699"></a> [2537699](#2537699) <a name="2537699"></a> <br />CM-23075 | There is a limitation on the number of SVI interfaces you can specify as DHCP relay interfaces in the <code>/etc/default/isc-dhcp-relay</code> file. For example, 1500 SVI interfaces causes the <code>dhcrelay</code> service to exit without a core file and logs similar to the following are generated for the interfaces: <br /><pre> <br />2018-11-10T23:35:30.992370-08:00 Dev dhcrelay: Listening on LPF/vlan.101/a0:00:00:00:00:51 <br />2018-11-10T23:35:30.993472-08:00 Dev dhcrelay: Sending on LPF/vlan.101/a0:00:00:00:00:51 <br /></pre> <br />Eventually the <code>dhcrelay</code> service stops. <br /> | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537544"></a> [2537544](#2537544) <a name="2537544"></a> <br />CM-23021 | When you run the <code>mstpctl</code> command, you might see the bridge-port state as blocking when it is actually disabled. You might see the same incorrect bridge-port state when other programs or tools use the output of <code>mstpctl</code>; for example, SNMP output from the BRIDGE-MIB. | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536576"></a> [2536576](#2536576) <a name="2536576"></a> <br />CM-22554 | If you try to bring down several members of a bond remotely at the same time, the link state of one of the interfaces might not transition correctly to the down state; however, all links show down in hardware. <br />  | 4.0.0-4.4.5 | |
| <a name="2536384"></a> [2536384](#2536384) <a name="2536384"></a> <br />CM-22386 | The BFD packet redirection logic used by OVSDB server high availability mode redirects BUM packets across the peer link. The iptables rule for redirection does differentiate between BFD and non-BFD VXLAN inner packets because the service node sends all frames with its own IP address as the tunnel source IP address. The VXLAN encapsulated BUM packets do not get forwarded to the CPU and do not go through the iptable redirection rule; only VXLAN encapsulated BFD packets get forwarded to the CPU due to the inner MAC DA lookup in hardware. <br />  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536256"></a> [2536256](#2536256) <a name="2536256"></a> <br />CM-22301 | For an unresolved address, the IPROUTER default policer rule has been modified to _not_ match on packets exiting a TUNNEL and headed to the CPU to resolve the address via ARP. As a result, the following default rule no longer matches TUNNEL ingress packets. <br /><pre> <br />A $INGRESS_CHAIN --in-interface $INGRESS_INTF -m addrtype --dst-type <br />IPROUTER -j POLICE --set-mode pkt --set-rate 400 --set-burst 100 <br /></pre> <br />These packets are now policed by catch all rules. <br />To work around this issue, the VPORT value on a TRIDENT switch must be changed from binary 011 to 100. <br /> | 4.0.0-4.4.5 | |
| <a name="2536242"></a> [2536242](#2536242) <a name="2536242"></a> <br />CM-22287 | On the EdgeCore AS7712 (Tomahawk) switch running in atomic mode, when a layer 3 ECMP path is brought down, traffic traversing the path stops working for about four seconds. When the switch is changed to non-atomic mode, the delay is less than one second. This issue is seen across OSPF and static ECMP routes.  | 4.0.0-4.4.5 | |
| <a name="2536179"></a> [2536179](#2536179) <a name="2536179"></a> <br />CM-22228 | On switches with the Trident 2+ ASIC, counters associated with VLANs and VRFs are not working. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535986"></a> [2535986](#2535986) <a name="2535986"></a> <br />CM-22041 | At a high CPU transmit traffic rate (for example, if there is unexpected CPU generated flooding or replication in software), when the ASIC packet driver cannot keep up with the transmit rate because there are no free DMA buffers, it can back pressure by suspending the switch port transmit queues. This can fill up the application socket buffers resulting in <code>No buffer space available</code> error messages on protocol sockets.<br />When the driver recovers, it automatically resumes the transmit queues. In most cases these error messages are transient. In rare cases, the hardware queues might get stuck, which you can recover with a <code>switchd</code> restart. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535965"></a> [2535965](#2535965) <a name="2535965"></a> <br />CM-22020 | On the Trident3 switch, static PIM with IIF based on a layer 2 bridge does not work reliably. PIM Join via signaling is required for IPMC to work properly.<br />To work around this issue, use dynamic signaling (joins) to manage IP multicast traffic. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535723"></a> [2535723](#2535723) <a name="2535723"></a> <br />CM-21785 | The source address of the ICMPv6 time exceeded message (traceroute hop) is sourced from the wrong VRF when the traceroute target resides on the same switch but in a different VRF. | 4.0.0-4.4.5 | |
| <a name="2535605"></a> [2535605](#2535605) <a name="2535605"></a> <br />CM-21667 | FRR does not add BGP <code>ttl-security</code> to either the running configuration or to the <code>/etc/frr/frr.conf</code> file when configured on a peer group instead of a specific neighbor. <br />To work around this issue, add <code>ttl-security</code> to individual neighbors instead of the peer group. | 4.0.0-4.4.5 | |
| <a name="2535209"></a> [2535209](#2535209) <a name="2535209"></a> <br />CM-21278 | The <code>net show lldp</code> command sometimes shows the port description in the <code>Remote Port</code> field. The <code>net show interface</code> command shows the correct value in the <code>Remote Host</code> field.<br />To work around this issue, use <code>net show interface</code> command for LLDP output when connected to Cisco equipment. | 3.7.5-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2534734"></a> [2534734](#2534734) <a name="2534734"></a> <br />CM-20813 | Span rules matching the out-interface as a bond do not mirror packets. | 4.0.0-4.4.5 | |
| <a name="2533691"></a> [2533691](#2533691) <a name="2533691"></a> <br />CM-19788 | If you configure a VLAN under a VLAN-aware bridge and create a subinterface of the same VLAN on one of the bridge ports, the bridge and interface compete for the same VLAN and if the interface is flapped, it stops working. Correcting the configuration and running the <code>ifreload</code> command does not resolve the conflict. <br />To work around this issue, correct the bridge VIDs and restart <code>switchd</code> or delete the subinterface.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2533625"></a> [2533625](#2533625) <a name="2533625"></a> <br />CM-19724 | PIM and MSDP entries are set to the internal COS value of 6 so they are grouped together with the bulk traffic priority group in the default <code>traffic.conf</code> file. However, PIM, IGMP, and MSDP are considered control-plane and should be set to the internal COS value of 7.  | 4.0.0-4.4.5 | |
| <a name="2533337"></a> [2533337](#2533337) <a name="2533337"></a> <br />CM-19454 | When you use NCLU to bring a bond admin down (<code>net add bond <bond> link down</code>), the bond interface goes into admin down state but the switch ports enslaved to the bond remain UP. If you are using bond-lacp-bypass-allow or balance-xor mode, the host might continue to send traffic. This traffic will be dropped because although the bond slaves are UP, they are not members of the bridge.<br />To work around this issue, use the <code>sudo ifdown <bondname></code> command. | 4.0.0-4.4.5 | |
| <a name="2531273"></a> [2531273](#2531273) <a name="2531273"></a> <br />CM-17494 | In certain cases, a peer device sends an ARP request from a source IP address that is not on the connected subnet and the switch creates a STALE neighbor entry. Eventually, the switch attempts to keep the entry fresh and sends ARP requests to the host. If the host responds, the switch has REACHABLE neighbor entries for hosts that are not on the connected subnet. <br />To work around this issue, change the value of <code>arp_ignore</code> to 2. See &#91;Address Resolution Protocol in the Cumulus Linux user guide\|https://docs.cumulusnetworks.com/cumulus-linux/Layer-3/Address-Resolution-Protocol-ARP/&#93; for more information. | 4.0.0-4.4.5 | |

### Fixed Issues in 4.4.2
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2999341"></a> [2999341](#2999341) <a name="2999341"></a> <br /> | CVE-2021-3570The ptp4l program in linuxptp, an implementation of the Precision Time Protocol (PTP), does not validate the messageLength field of incoming messages, allowing a remote attacker to cause a denial of service, information leak, or potentially remote code execution<br />Fixed: 1.9.2-1+deb10u1 | 4.2.1-4.4.1 | |
| <a name="2923458"></a> [2923458](#2923458) <a name="2923458"></a> <br /> | At high interface scale (around 100 or more combined SVI and VNI interfaces), the <code>sudo ifreload -a</code> command might report a buffer underrun event with the message <code>error: Buffer underrun</code>. | 4.4.0-4.4.1 | |
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1 | |
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.4.0 | |
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.4.0 | |
| <a name="2879712"></a> [2879712](#2879712) <a name="2879712"></a> <br /> | On CumulusLinux 4.4.0, attempting to install any tacplus or radius package from the CumulusLinux-4.4-latest distribution on apt.cumulusnetworks.com will fail due to incorrect package metadata (specifically a SHA512 checksum that will cause a hash sum mismatch) in the preinstalled cumulus-local-apt-archive package.  The workaround is to remove /var/lib/apt/lists/_var_lib_cumulus_cumulus-local-apt-archive_dists_cumulus-local-apt-archive_main_binary-amd64_Packages or uninstall the cumulus-local-apt-archive package on the affected switch. | 4.4.0-4.4.1 | |
| <a name="2877796"></a> [2877796](#2877796) <a name="2877796"></a> <br /> | CVE-2021-43527: The NSS package is vulnerable to a heap overflow when verifying DSA/RSA-PSS DER-encoded signatures<br />Vulnerable: <= 3.42.1-1+deb10u3Fixed: 3.42.1-1+deb10u4 | 4.4.0-4.4.1 | |
| <a name="2873322"></a> [2873322](#2873322) <a name="2873322"></a> <br /> | CVE-2020-21913: International Components for Unicode (ICU-20850) v66.1 was discovered to contain a use after free bug in the pkg_createWithAssemblyCode function in the file tools/pkgdata/pkgdata.cpp. | 4.4.0-4.4.1 | |
| <a name="2867156"></a> [2867156](#2867156) <a name="2867156"></a> <br /> | TACACS+ client package installation from the CumulusLinux-4.4-latest distribution on apt.cumulusnetworks.com fails because package metadata in the preinstalled <code>cumulus-local-apt-archive</code> package is incorrect, which causes a hash sum mismatch. | 4.4.0-4.4.1 | |
| <a name="2854785"></a> [2854785](#2854785) <a name="2854785"></a> <br /> | When you configure 199 VXLANs plus 199 VLANs, <code>clagd</code> crashes every few seconds.  | 3.7.15, 4.3.0, 4.4.0-4.4.1 | |
| <a name="2854784"></a> [2854784](#2854784) <a name="2854784"></a> <br /> | After building VLAN or VXLAN interfaces, MLAG becomes unstable. | 4.3.0-4.4.1 | |
| <a name="2848204"></a> [2848204](#2848204) <a name="2848204"></a> <br /> | FRR does not prevent EVPN routes from being imported into VNIs when they are not needed. For example, you can import a type-5 route into a layer 2 VNI if the configured import route target matches the route target on the type-5 route. When this occurs, the network address of the IP prefix carried within the type-5 route incorrectly shows as a remote VTEP for the layer 2 VNI in the <code>net show evpn vni <l2vni></code> command output. For example:<pre>router bgp 64100 <br />address-family l2vpn evpn<br /> vni 10 <br />  route-target import 9200:9204     <<<<<  l2vni import-rt<br /> exit-vnirouter bgp 6400 vrf RED <br />address-family l2vpn evpn<br /> advertise ipv4 unicast<br /> route-target import 9200:9204    <<<<<  l3vni import-rt<br />exit-address-family</pre>Imported Route:<pre>*  &#91;5&#93;:&#91;0&#93;:&#91;32&#93;:&#91;10.252.11.124&#93;<br />                   10.249.129.158                         0 4200858009 64810 64819 64895 64895 64890 64893 64894 i<br />                   RT:9200:9204 ET:8 Rmac:c0:d6:82:56:82:a1</pre><code>net show evpn vni 9204</code> snippet:<pre>VNI: 9204<br />Type: L2<br /> 10.252.11.124 flood: -</pre> | 4.4.0-4.4.1 | |
| <a name="2845537"></a> [2845537](#2845537) <a name="2845537"></a> <br /> | CVE-2020-19143: A flaw was discovered in tiff, a Tag Image File Format library, which may result in denial of service or the execution of arbitrary code if malformed image files are processed<br />Vulnerable: <= 4.1.0+git191117-2~deb10u2Fixed: 4.1.0+git191117-2~deb10u3 | 4.4.0-4.4.1 | |
| <a name="2840818"></a> [2840818](#2840818) <a name="2840818"></a> <br /> | CVE-2021-25219: The lame server cache in BIND, a DNS server implementation, can be abused by an attacker to significantly degrade resolver performance, resulting in denial of service (large delays for responses for client queries and DNS timeouts on client hosts). | 4.0.0-4.3.0 | |
| <a name="2802207"></a> [2802207](#2802207) <a name="2802207"></a> <br /> | The SDK process sx_core prints the messages shown below and the switch stops forwarding traffic<br /><pre>kernel: sx_core: Did not receive completion for SDQ dqn (1) idx (849) after 10 secondskernel: sx_core: __sx_core_post_send: Cannot send packet on dqn &#91;1&#93; sdq stuck</pre> | 4.4.0-4.4.1 | |
| <a name="2783611"></a> [2783611](#2783611) <a name="2783611"></a> <br /> | If you remove ports from a bridge and add IP addresses in one <code>ifreload</code>, connected routes are bound to the wrong routing information field. | 4.3.0-4.4.1 | |
| <a name="2782033"></a> [2782033](#2782033) <a name="2782033"></a> <br /> | The following vulnerabilities have been announced in the openssl packages:CVE-2021-3711: buffer overflow vulnerability in SM2 decryption<br />CVE-2021-3712: buffer overrun when processing ASN.1 strings in the X509_aux_print() function<br />More details at https://www.openssl.org/news/secadv/20210824.txt <br />Vulnerable: <= 1.1.1d-0+deb10u6Fixed: 1.1.1d-0+deb10u7 | 4.0.0-4.4.1 | |
| <a name="2771871"></a> [2771871](#2771871) <a name="2771871"></a> <br /> | IPv4 and IPv6 neighbor entries in a FAILED state are incorrectly programmed into hardware as FORWARD entries instead of TRAP entries. Traffic is forwarded to these neighbors with a destination MAC address of 00:00:00:00:00:00 instead of trapping them to the CPU to resolve the correct MAC address<br />This affects failed neighbor entries on routed interfaces that are not SVIs. | 4.3.0-4.4.1 | |
| <a name="2755614"></a> [2755614](#2755614) <a name="2755614"></a> <br /> | When <code>route_preferred_over_neigh</code> is set to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, host routes (/32 or /128) are used for forwarding in hardware instead of a local neighbor entry. | 4.0.0-4.3.0, 4.4.0-4.4.1 | |
| <a name="2754691"></a> [2754691](#2754691) <a name="2754691"></a> <br /> | CVE-2021-3672: in c-ares, a library that performs DNS requests and name resolution asynchronously, missing input validation of hostnames returned by DNS servers can lead to output of wrong hostnames (leading to Domain Hijacking)<br />Vulnerable: 1.14.0-1Fixed: 1.14.0-1+deb10u1 | 4.0.0-4.4.1 | |
| <a name="2754685"></a> [2754685](#2754685) <a name="2754685"></a> <br /> | CVE-2021-38165: lynx, a non-graphical (text-mode) web browser, does not properly handle the userinfo subcomponent of a URI, which can lead to leaking of credential in cleartext in SNI data<br />Vulnerable: 2.8.9rel.1-3Fixed: 2.8.9rel.1-3+deb10u1 | 4.0.0-4.4.1 | |
| <a name="2754679"></a> [2754679](#2754679) <a name="2754679"></a> <br /> | CVE-2020-26558 / CVE-2021-0129: Bluez does not properly check permissions during pairing operation, which could allow an attacker to impersonate the initiating device<br />CVE-2020-27153: a double free flaw in the disconnect_cb() routine in the gattool. A remote attacker can take advantage of this flaw during service discovery for denial of service, or potentially, execution of arbitrary code<br />Vulnerable: <= 5.50-1.2~deb10u1Fixed: 5.50-1.2~deb10u2 | 4.0.0-4.4.1 | |
| <a name="2749106"></a> [2749106](#2749106) <a name="2749106"></a> <br /> | Changing non-default BGP timers with NCLU or vtysh commands sets the hold time and keep alive interval to 0 seconds. | 4.4.0-4.4.1 | |
| <a name="2747605"></a> [2747605](#2747605) <a name="2747605"></a> <br /> | CVE-2021-3246: a buffer overflow in libsndfile, a libraryfor reading/writing audio files, which could result in denial of serviceor potentially the execution of arbitrary code when processing amalformed audio file<br />Vulnerable: 1.0.28-6Fixed: 1.0.28-6+deb10u1 | 4.0.0-4.4.1 | |
| <a name="2739690"></a> [2739690](#2739690) <a name="2739690"></a> <br /> | CVE-2021-22918: An out-of-bounds read was discovered in the uv__idna_to_ascii() function of Libuv, an asynchronous event notification library, which could result in denial of service or information disclosure<br />Vulnerable: 1.24.1-1Fixed: 1.24.1-1+deb 10u1 | 4.0.0-4.4.1 | |
| <a name="2739647"></a> [2739647](#2739647) <a name="2739647"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.1 | |
| <a name="2739639"></a> [2739639](#2739639) <a name="2739639"></a> <br /> | CVE-2021-36222: It was discovered that the Key Distribution Center (KDC) in krb5, the MIT implementation of Kerberos, is prone to a NULL pointer dereference flaw. An unauthenticated attacker can take advantage of this flaw to cause a denial of service (KDC crash) by sending a request containing a PA-ENCRYPTED-CHALLENGE padata element without using FAST<br />Vulnerable: <= 1.17-3+deb10u1Fixed: 1.17-3+deb10u2 | 4.0.0-4.4.1 | |
| <a name="2734122"></a> [2734122](#2734122) <a name="2734122"></a> <br /> | CVE-2021-33910: The Qualys Research Labs discovered that an attacker-controlled allocation using the alloca() function could result in memorycorruption, allowing to crash systemd and hence the entire operating system.  Details can be found at https://www.qualys.com/2021/07/20/cve-2021-33910/denial-of-service-systemd.txt <br />Vulnerable: <= 241-7~deb10u7Fixed: 241-7~deb10u8 | 4.0.0-4.4.1 | |
| <a name="2734107"></a> [2734107](#2734107) <a name="2734107"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-4.4.1 | |
| <a name="2728205"></a> [2728205](#2728205) <a name="2728205"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-4.4.1 | |
| <a name="2723603"></a> [2723603](#2723603) <a name="2723603"></a> <br /> | In a static VXLAN configuration, the <code>bridge-learning on</code> setting does not turn on <code>VXLAN-learning</code>.  | 4.4.0-4.4.1 | |
| <a name="2719356"></a> [2719356](#2719356) <a name="2719356"></a> <br /> | If you reduce the reserved VLAN range in the <code>/etc/cumulus/switchd.conf</code> file to below 32 and you make multiple VLAN or bridge configuration changes, the VLANs might not be created in hardware and you might see the log message <code>hal_mlx_l2.c:3045 ERR vlan create failed</code><br />The minimum supported size of the reserved VLAN range in the <code>/etc/cumulus/switchd.conf</code> file is 32 VLANs for single VLAN-aware bridge configurations. | 4.4.0-4.4.1 | |
| <a name="2706744"></a> [2706744](#2706744) <a name="2706744"></a> <br /> | In an EVPN multihoming configuration, the VTEP continues to advertise a stale route after an extended MAC mobility event. | 4.3.0-4.4.1 | |
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.4.0 | |

## 4.4.0 Release Notes
### Open Issues in 4.4.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3434315"></a> [3434315](#3434315) <a name="3434315"></a> <br /> | IPv6 BGP sessions in a VRF do not be establish with MD5 authentication. | 4.3.0-4.4.5 | |
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3419953"></a> [3419953](#3419953) <a name="3419953"></a> <br /> | If you remove a double tagged bridge port from a bridge when a different interface exists with the same port and virtual ID, you might see a segmentation fault and a <code>switchd</code> crash due to incorrect initialization when Cumulus Linux creates the second double-tagged interface. To work around this issue, make sure you remove the double-tagged interfaces from the bridge in the <code>/etc/network/interfaces</code> file. | 4.3.1-4.4.5 | |
| <a name="3413826"></a> [3413826](#3413826) <a name="3413826"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 4.2.1-4.4.5 | |
| <a name="3401121"></a> [3401121](#3401121) <a name="3401121"></a> <br /> | sFlow is not able to sample packets in the egress direction. To work around this issue, add the following to the <code>hsflowd.conf</code> file to enable egress sampling:<pre>samplingDirection=outpsample { group=1 }</pre> | 4.3.0-4.4.5 | |
| <a name="3389994"></a> [3389994](#3389994) <a name="3389994"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbor entries cannot synchronize between MLAG nodes. During this transitory upgrade state, neighbor entry resolution relies on data plane traffic being forwarded to the CPU so ARP can resolve the necessary neighbor entry before traffic can go through the fastpath. | 4.2.1-4.4.5 | |
| <a name="3387852"></a> [3387852](#3387852) <a name="3387852"></a> <br />None | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload because the <code>libyaml-0-2</code> and <code>python-yaml </code> packages are missing; these packages are required for <code>switchd</code> consistency checking. To work around this issue, reinstall the <code>libyaml-0-2</code> and <code>python-yaml </code>packages. | 4.4.0-4.4.5 | |
| <a name="3376798"></a> [3376798](#3376798) <a name="3376798"></a> <br /> | On Broadcom switches, Cumulus Linux does not create the hardware bridging domain for a traditional bridge with a VXLAN interface during <code>switchd</code> restart. The <code>/var/log/switchd.log</code> file includes the following exception logs shortly after <code>switchd</code> restarts:<pre>switchd&#91;30158&#93;: hal_bcm_l3.c:1617 find_egr_path_if_vxlan_overlay:vxlan overlay : nh PORT: port <#>, vlan <x>.<y> not yet ready</pre>MAC learning looks correct, but traffic does not flow as expected. | 3.7.0-3.7.16, 4.3.1-4.4.5 | |
| <a name="3366612"></a> [3366612](#3366612) <a name="3366612"></a> <br /> | The base version of the Linux kernel is updated to the v4.19.273 stable release, which includes fixes for several CVE issues. | 4.3.1-4.4.5 | |
| <a name="3364717"></a> [3364717](#3364717) <a name="3364717"></a> <br />None | On the Trident 2+ and Trident 3 switch when using VXLAN layer 2 VPNs and sending tunneled traffic where the inner IP header has a TTL of 1, the egress VTEP incorrectly forwards this traffic through the software path instead of the hardware data plane. This traffic is rate-limited to 100pps by default.  To work around this issue, ensure that the traffic traversing the layer 2 tunnel has an inner IP header TTL value that is more than 1.  If this workaround is not possible, contact Nvidia Support to determine other options. | 4.3.0-4.4.5 | |
| <a name="3358865"></a> [3358865](#3358865) <a name="3358865"></a> <br />None | When you reboot a Broadcom switch with a static default route configured, the route might be installed in hardware without a next hop. This results in forwarded traffic to the CPU and drops. To recover from this issue, remove the default route configuration and reapply it. To prevent this issue, before rebooting the switch, split the default route configuration into two routes as below:<pre>ip route 0.0.0.0/1 10.1.1.1ip route 128.0.0.0/1 10.1.1.1</pre> | 4.3.1-4.4.5 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-5.3.1 | 5.4.0-5.4.0|
| <a name="3334036"></a> [3334036](#3334036) <a name="3334036"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3334031"></a> [3334031](#3334031) <a name="3334031"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 4.3.0-4.4.5 | |
| <a name="3333064"></a> [3333064](#3333064) <a name="3333064"></a> <br />None | The traffic control rules that the EVPN multihoming configuration adds to an interface are deleted when the <code>hsflowd</code> service restarts. The <code>hsflowd</code> service deletes the EVPN multihoming traffic control filters after you stop <code>hsflowd</code>, then adds back the <code>match-all</code> filters with the <code>psample</code> action; however, <code>hsflowd</code> does not add back the EVPN multihoming traffic control rules. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3303105"></a> [3303105](#3303105) <a name="3303105"></a> <br />None | Clagd crash is observed with the following traceback in /var/log/clagd.log following a clag sync event which is typically driven by a peerlink up event:<br />unhandled exception:<br />    Traceback (most recent call last):<br />      File "/usr/sbin/clagd", line 1304, in PeerRecvT<br />        PeerRecv()<br />      File "/usr/sbin/clagd", line 513, in PeerRecv<br />        ParseProtoBufMessage(nlm, myPeerMsg)<br />      File "/usr/sbin/clagd", line 853, in ParseProtoBufMessage<br />        msgData = FdbSync.ParseProtoBufMessage(msgHdr)<br />      File "/usr/lib/python3/dist-packages/clag/fdbsync.py", line 892, in ParseProtoBufMessage<br />        msgData.ParseFromString(msgHdr.data)<br />    google.protobuf.message.DecodeError: Error parsing message | 4.4.0-4.4.4 | 4.4.5|
| <a name="3291548"></a> [3291548](#3291548) <a name="3291548"></a> <br />None | In EVPN deployments,  a buffer lockup for split or pre-split ports can occur on Spectrum-2 and Spectrum-3 switches. As result, traffic coming in on these ports is dropped in the RX buffer. To work around this issue, restart <code>switchd</code>. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="3288385"></a> [3288385](#3288385) <a name="3288385"></a> <br /> | On the EdgeCore AS7326-56X and AS7726-32X switch, the fan speed reports a minimum threshold in the logs. | 4.3.1-4.4.5 | |
| <a name="3269538"></a> [3269538](#3269538) <a name="3269538"></a> <br />None | The <code>cl-ecmpcalc</code> command prints the following error when the egress interface is a bond or SVI:<pre>ecmpcalc: will query hardwareTraceback (most recent call last):File “/usr/cumulus/bin/cl-ecmpcalc”, line 986, inisTrunkMbr, port = ecmp.getHdPort(hd_cmd)File “/usr/cumulus/bin/cl-ecmpcalc”, line 618, in getHdPortport = int(str4)ValueError: invalid literal for int() with base 10: ‘0t</pre> | 4.3.0-4.4.5 | |
| <a name="3269537"></a> [3269537](#3269537) <a name="3269537"></a> <br />None | When an FRR routing service (such as <code>bgpd</code>) becomes unresponsive, <code>watchfrr</code> might fail to stop and restart service. To work around this issue, restart FRR with the <code>systemctl restart frr</code> command. | 4.4.0-5.3.1 | 5.4.0-5.4.0|
| <a name="3267353"></a> [3267353](#3267353) <a name="3267353"></a> <br /> | In a QinQ configuration, if the VLAN priority is a non-zero value, double-tagged packets are translated to triple-tagged packets.  | 4.3.1-4.4.5 | |
| <a name="3244740"></a> [3244740](#3244740) <a name="3244740"></a> <br />None | If you have a lot of inbound route maps that match lists with many regex statements, a large number of updates from the peer can cause the system to run out of memory. To work around this issue, reduce the number of regex matches in inbound route maps. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3236365"></a> [3236365](#3236365) <a name="3236365"></a> <br />None | When you run docker commands, the command process might crash. The crash can occur during the <code>apt upgrade</code> process, where you can run docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running docker commands or   running <code>apt upgrade</code> to upgrade to Cumulus Linux 43.1. | 4.3.1-4.4.5 | |
| <a name="3236334"></a> [3236334](#3236334) <a name="3236334"></a> <br />None | Using ARP suppression with a very large number of interfaces might result in missing ARP entries on the local device or buffer underrun warnings in the <code>neighmgrd</code> log. | 4.3.0-4.4.5 | |
| <a name="3235956"></a> [3235956](#3235956) <a name="3235956"></a> <br /> | With certain triggers on Broadcom switches, such as adding or deleting a VNI or reloading the network, Cumulus Linux might consider the underlay routes as overlay routes. In this case, <code>switchd</code> allocates the overlay next hop, which is incorrect and might affect traffic forwarding. | 4.3.0-4.4.5 | |
| <a name="3234031"></a> [3234031](#3234031) <a name="3234031"></a> <br />None | If BGP <code>neighbor <name> allowas-in</code> is set, negating with no <code>no neighbor <name> allowas-in</code> does not disable the setting. To work around this issue and disable the setting, restart the FRR service. | 4.2.1-5.2.1 | 5.3.0-5.4.0|
| <a name="3221470"></a> [3221470](#3221470) <a name="3221470"></a> <br />None | Under heavy system load, when many forwarding resources (routes, neighbors, ECMP groups, and so on) are removed from hardware, subsequent attempts to configure additional forwarding resources might fail and you see the following log message:<pre>sx_sdk: EMAD_RX_THREAD: EMAD transaction FW error</pre> | 4.4.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3216921"></a> [3216921](#3216921) <a name="3216921"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-3.7.16, 4.3.0-4.4.5 | |
| <a name="3216759"></a> [3216759](#3216759) <a name="3216759"></a> <br />None | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-4.4.4 | 4.4.5|
| <a name="3209699"></a> [3209699](#3209699) <a name="3209699"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users)<br /> | 3.7.0-4.3.0, 4.4.0-5.2.1 | 4.3.1, 5.3.0-5.4.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3168564"></a> [3168564](#3168564) <a name="3168564"></a> <br /> | In a large scale VXLAN configuration (for example if you have more than 8500 VLANs across ports), <code>switchd</code> might crash when you restart <code>clagd</code> or when all bonds go operationally down, then up<br />On Trident3 switches running Cumulus Linux 4.3.1, NVIDIA validates the VLAN scale limit for VXLAN deployments with 8500 VLANs across ports with LACP bypass disabled. | 4.3.1-4.4.5 | |
| <a name="3163845"></a> [3163845](#3163845) <a name="3163845"></a> <br /> | If bond slaves listed in the <code>/etc/network/interfaces</code> file are not in alphabetical order, the bond interface MAC address can change when you run <code>ifreload</code>. For example, if the bond slaves in the <code>/etc/network/interfaces</code> file are listed as <code>swp32 swp31</code>, the switch initially uses the MAC address for swp32 as the bond MAC address. An another <code>ifreload</code> can cause this to change to use the MAC address for swp31 as the bond MAC address, which can cause protocol issues, such as IPv6 link-local address changes. | 4.3.1-4.4.5 | |
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.4.0|
| <a name="3135801"></a> [3135801](#3135801) <a name="3135801"></a> <br />None | Zebra rejects MAC IP updates from BGP when the MAC mobility sequence number that BGP sends is lower than the sequence number known to zebra<br />When the MAC mobility sequence that BGP knows legitimately lowers (due to narrow timing conditions during convergence or after rebooting an MLAG pair one VTEP at a time),  zebra rejects these updates and maintains a stale state. If the stale information that zebra uses points to the wrong VTEP address, traffic goes to the wrong VTEP and might drop. | 4.0.0-4.3.0, 4.4.0-4.4.5 | 3.7.16, 4.3.1|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3129819"></a> [3129819](#3129819) <a name="3129819"></a> <br /> | On the EdgeCore AS4610 switch, the <code>clagd</code> service loses communication after 198 days of uptime. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3107615"></a> [3107615](#3107615) <a name="3107615"></a> <br /> | Cumulus Linux installation fails with the error <code>Installation Problems, sub-task Installing Optional Packages</code>. This occurs because the web server hosting the Cumulus Linux image remaps a 404 for a non-existent file <code>image.optional_pkgs</code> into a web page, which it then incorrectly attempts to use as a list of optional packages<br />To work around this issue, on the web server hosting the image, create an empty file with the same name as the image with <code>.optional_pkgs</code> appended to the name. | 4.4.0-4.4.3 | 4.3.1, 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3098936"></a> [3098936](#3098936) <a name="3098936"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3093966"></a> [3093966](#3093966) <a name="3093966"></a> <br /> | On Broadcom switches, INPUT chain iptable rules filter IPv6 packets matching the rules.  | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3089165"></a> [3089165](#3089165) <a name="3089165"></a> <br /> | A slow memory leak might occur in <code>switchd</code>} if the route fails to install in hardware when hardware resources are exhausted. | 4.2.1-4.4.3 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3083265"></a> [3083265](#3083265) <a name="3083265"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 3.7.16-5.1.0 | 5.2.0-5.4.0|
| <a name="3073668"></a> [3073668](#3073668) <a name="3073668"></a> <br /> | On the EdgeCore AS4610 switch, when you change the speed of any of the SFP+ ports, the other SFP+ ports flap. | 3.7.12-3.7.16, 4.3.0-4.4.5 | |
| <a name="3073649"></a> [3073649](#3073649) <a name="3073649"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.4.0|
| <a name="3072613"></a> [3072613](#3072613) <a name="3072613"></a> <br /> | When  you delete a bond interface with NCLU, BGP peer group configuration is removed. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="3070672"></a> [3070672](#3070672) <a name="3070672"></a> <br /> | TACACS Command Authorization results in a traceback error and command is not executed | 4.4.0-4.4.5 | |
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.4.0|
| <a name="3041306"></a> [3041306](#3041306) <a name="3041306"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="3021879"></a> [3021879](#3021879) <a name="3021879"></a> <br />CM-33013 | Cumulus Linux learns remote MAC addresses as local entries on the bridge with the wrong remote VTEP IP address even when bridge learning is off on the VTEP and ARP suppression is enabled.  | 4.4.0-4.4.3 | 3.7.15-3.7.16, 4.4.4-4.4.5, 5.0.0-5.4.0|
| <a name="3021692"></a> [3021692](#3021692) <a name="3021692"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="3017180"></a> [3017180](#3017180) <a name="3017180"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.4.0, 5.2.0-5.4.0|
| <a name="2999341"></a> [2999341](#2999341) <a name="2999341"></a> <br /> | CVE-2021-3570The ptp4l program in linuxptp, an implementation of the Precision Time Protocol (PTP), does not validate the messageLength field of incoming messages, allowing a remote attacker to cause a denial of service, information leak, or potentially remote code execution<br />Fixed: 1.9.2-1+deb10u1 | 4.2.1-4.4.1 | 4.4.2-4.4.5|
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2 | 4.4.3-4.4.5, 5.1.0-5.4.0|
| <a name="2965759"></a> [2965759](#2965759) <a name="2965759"></a> <br /> | On the EdgeCore AS4610-54T switch, the fan speed reports a minimum threshold in the logs. | 3.7.15-3.7.16, 4.3.0-4.4.5 | |
| <a name="2961079"></a> [2961079](#2961079) <a name="2961079"></a> <br /> | CVE-2021-28965 CVE-2021-31799 CVE-2021-31810 CVE-2021-41817 CVE-2021-41819 CVE-2021-32066: Several vulnerabilities have been discovered in the interpreter for the Ruby language and the Rubygems included, which may result on result in XML roundtrip attacks, the execution of arbitrary code, information disclosure, StartTLS stripping in IMAP or denial of service<br />Vulnerable: <= 2.5.5-3+deb10u3Fixed: 2.5.5-3+deb10u4 | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2961008"></a> [2961008](#2961008) <a name="2961008"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.0.1 | 4.4.3-4.4.5, 5.1.0-5.4.0|
| <a name="2959575"></a> [2959575](#2959575) <a name="2959575"></a> <br /> | When a port flaps with PTP enabled, the switch firmware might become unresponsive and you see the following log message:<code>&#91;ptp4l.ERR&#93;: &#91;435345.036&#93; timed out while polling for tx timestamp</code>  | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br />None | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="2949513"></a> [2949513](#2949513) <a name="2949513"></a> <br /> | CVE-2022-22747: Incorrect parsing of pkcs7 sequences in nss, the Mozilla Network Security Service library, may result in denial of service<br />Vulnerable: <= 2:3.42.1-1+deb10u4Fixed: 2:3.42.1-1+deb10u5 | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2940051"></a> [2940051](#2940051) <a name="2940051"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16, 5.0.0-5.4.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2932085"></a> [2932085](#2932085) <a name="2932085"></a> <br /> | CVE-2021-45944 CVE-2021-45949: Multiple security issues were discovered in Ghostscript, the GPL PostScript/PDF interpreter, which could result in denial of service and potentially the execution of arbitrary code if malformed document filesare processed<br />Vulnerable: <= 9.27~dfsg-2+deb10u4Fixed: 9.27~dfsg-2+deb10u5 | 4.4.0-4.4.2 | 4.4.3-4.4.5|
| <a name="2923458"></a> [2923458](#2923458) <a name="2923458"></a> <br /> | At high interface scale (around 100 or more combined SVI and VNI interfaces), the <code>sudo ifreload -a</code> command might report a buffer underrun event with the message <code>error: Buffer underrun</code>. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2902013"></a> [2902013](#2902013) <a name="2902013"></a> <br /> | The NCLU commit  command adds a five second delay. | 4.2.1-4.4.5 | |
| <a name="2896450"></a> [2896450](#2896450) <a name="2896450"></a> <br />CM-31978 | On the Dell N3248PXE switch, fixed RJ45 interfaces with PoE neighbors can end up in <code>Paused</code> mode after a <code>switchd</code> restart, which blocks traffic on that interface. To work around this issue, restart <code>switchd</code> a second or third time until all interfaces are functioning correctly, or reboot the switch. | 4.3.0-4.4.5 | |
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.4.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.4.0 | 4.4.2-4.4.5|
| <a name="2879712"></a> [2879712](#2879712) <a name="2879712"></a> <br /> | On CumulusLinux 4.4.0, attempting to install any tacplus or radius package from the CumulusLinux-4.4-latest distribution on apt.cumulusnetworks.com will fail due to incorrect package metadata (specifically a SHA512 checksum that will cause a hash sum mismatch) in the preinstalled cumulus-local-apt-archive package.  The workaround is to remove /var/lib/apt/lists/_var_lib_cumulus_cumulus-local-apt-archive_dists_cumulus-local-apt-archive_main_binary-amd64_Packages or uninstall the cumulus-local-apt-archive package on the affected switch. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2877796"></a> [2877796](#2877796) <a name="2877796"></a> <br /> | CVE-2021-43527: The NSS package is vulnerable to a heap overflow when verifying DSA/RSA-PSS DER-encoded signatures<br />Vulnerable: <= 3.42.1-1+deb10u3Fixed: 3.42.1-1+deb10u4 | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.4.0|
| <a name="2873322"></a> [2873322](#2873322) <a name="2873322"></a> <br /> | CVE-2020-21913: International Components for Unicode (ICU-20850) v66.1 was discovered to contain a use after free bug in the pkg_createWithAssemblyCode function in the file tools/pkgdata/pkgdata.cpp. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2867156"></a> [2867156](#2867156) <a name="2867156"></a> <br /> | TACACS+ client package installation from the CumulusLinux-4.4-latest distribution on apt.cumulusnetworks.com fails because package metadata in the preinstalled <code>cumulus-local-apt-archive</code> package is incorrect, which causes a hash sum mismatch. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2866080"></a> [2866080](#2866080) <a name="2866080"></a> <br /> | On the Maverick S4148T switch with MLAG, Cumulus Linux drops LACP, ARP, LLDP and BGP traffic. | 4.3.0-4.4.5 | |
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2859177"></a> [2859177](#2859177) <a name="2859177"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.1 | 4.4.2-4.4.5|
| <a name="2854785"></a> [2854785](#2854785) <a name="2854785"></a> <br /> | When you configure 199 VXLANs plus 199 VLANs, <code>clagd</code> crashes every few seconds.  | 3.7.15, 4.3.0, 4.4.0-4.4.5 | 3.7.16, 4.3.1, 5.0.0-5.4.0|
| <a name="2854784"></a> [2854784](#2854784) <a name="2854784"></a> <br /> | After building VLAN or VXLAN interfaces, MLAG becomes unstable. | 4.3.0-4.4.1 | 4.4.2-4.4.5, 5.0.0-5.4.0|
| <a name="2853536"></a> [2853536](#2853536) <a name="2853536"></a> <br /> | MLAG between Cumulus Linux and Arista devices might result in some links being suspended by the Arista devices with the error <code>LACP partner validation failed</code><br />This happens when you use the same LACP port ID for more than one bond member on the Cumulus Linux switch<br />To work around this issue, run the <code>net add bond <name> bond mode balance-xor</code> command on the bond on the Cumulus Linux switch. For proper operation, you need to make the equivalent change on the device on the other side of the link. | 4.4.0-4.4.5 | |
| <a name="2848204"></a> [2848204](#2848204) <a name="2848204"></a> <br /> | FRR does not prevent EVPN routes from being imported into VNIs when they are not needed. For example, you can import a type-5 route into a layer 2 VNI if the configured import route target matches the route target on the type-5 route. When this occurs, the network address of the IP prefix carried within the type-5 route incorrectly shows as a remote VTEP for the layer 2 VNI in the <code>net show evpn vni <l2vni></code> command output. For example:<pre>router bgp 64100 <br />address-family l2vpn evpn<br /> vni 10 <br />  route-target import 9200:9204     <<<<<  l2vni import-rt<br /> exit-vnirouter bgp 6400 vrf RED <br />address-family l2vpn evpn<br /> advertise ipv4 unicast<br /> route-target import 9200:9204    <<<<<  l3vni import-rt<br />exit-address-family</pre>Imported Route:<pre>*  &#91;5&#93;:&#91;0&#93;:&#91;32&#93;:&#91;10.252.11.124&#93;<br />                   10.249.129.158                         0 4200858009 64810 64819 64895 64895 64890 64893 64894 i<br />                   RT:9200:9204 ET:8 Rmac:c0:d6:82:56:82:a1</pre><code>net show evpn vni 9204</code> snippet:<pre>VNI: 9204<br />Type: L2<br /> 10.252.11.124 flood: -</pre> | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2845537"></a> [2845537](#2845537) <a name="2845537"></a> <br /> | CVE-2020-19143: A flaw was discovered in tiff, a Tag Image File Format library, which may result in denial of service or the execution of arbitrary code if malformed image files are processed<br />Vulnerable: <= 4.1.0+git191117-2~deb10u2Fixed: 4.1.0+git191117-2~deb10u3 | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2838905"></a> [2838905](#2838905) <a name="2838905"></a> <br /> | On Broadcom ARM switches, the NTP clock slowly drifts to a very high offset (over 500ms) and the clock is not able to synchronize. To work around this issue, use the <code>chrony</code> implementation of NTP instead of <code>ntpd</code>.  <code>chrony</code> synchronizes the system clock faster and with better accuracy<br />Instructions for using <code>chrony</code> are here : https://docs.nvidia.com/networking-ethernet-software/knowledge-base/Network-Solutions/Chrony-on-Cumulus-Linux/ | 4.3.0-4.4.5 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.4.0|
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.5 | 5.0.0-5.4.0|
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2813563"></a> [2813563](#2813563) <a name="2813563"></a> <br /> | When you change the port speed with the NVUE <code>nv set interface <interface> link speed</code> command, then run <code>nv config apply</code>, the port is disabled. To work around this issue, run the <code>ifreload -a</code> command after you apply the port speed setting. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803428"></a> [2803428](#2803428) <a name="2803428"></a> <br /> | The <code>clagctl -v -j</code> and <code>net show clag verbose json</code> commands show incorrect output. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2803044"></a> [2803044](#2803044) <a name="2803044"></a> <br /> | In an EVPN configuration with IP or MAC mobility, higher MM EVPN routes do not remove the old ARP entries during VIP migration between VTEP racks. | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2802207"></a> [2802207](#2802207) <a name="2802207"></a> <br /> | The SDK process sx_core prints the messages shown below and the switch stops forwarding traffic<br /><pre>kernel: sx_core: Did not receive completion for SDQ dqn (1) idx (849) after 10 secondskernel: sx_core: __sx_core_post_send: Cannot send packet on dqn &#91;1&#93; sdq stuck</pre> | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2794766"></a> [2794766](#2794766) <a name="2794766"></a> <br /> | The Mellanox 3700C switch reports a slow memory leak in sx_sdk. Memory increases by about 240B/hour and does not free up. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2792750"></a> [2792750](#2792750) <a name="2792750"></a> <br /> | If you change the <code>clagd-vxlan-anycast-ip</code> setting on both MLAG peers at the same time, both peers use their unique VTEP address indefinitely. | 3.7.15-4.3.0, 4.4.0-4.4.5 | 4.3.1|
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2788780"></a> [2788780](#2788780) <a name="2788780"></a> <br /> | When you enable ARP and ND suppression and the switch forwards ARP and ND packets to the kernel, RX_DRP counters might increment but the packets are processed as normal. | 4.4.0-4.4.5 | |
| <a name="2783611"></a> [2783611](#2783611) <a name="2783611"></a> <br /> | If you remove ports from a bridge and add IP addresses in one <code>ifreload</code>, connected routes are bound to the wrong routing information field. | 4.3.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2782033"></a> [2782033](#2782033) <a name="2782033"></a> <br /> | The following vulnerabilities have been announced in the openssl packages:CVE-2021-3711: buffer overflow vulnerability in SM2 decryption<br />CVE-2021-3712: buffer overrun when processing ASN.1 strings in the X509_aux_print() function<br />More details at https://www.openssl.org/news/secadv/20210824.txt <br />Vulnerable: <= 1.1.1d-0+deb10u6Fixed: 1.1.1d-0+deb10u7 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2781537"></a> [2781537](#2781537) <a name="2781537"></a> <br /> | In Cumulus VX, the iptables FORWARD chain does not count hits. To work around this issue, use <code> -t mangle -A PREROUTING</code> instead of <code>FORWARD</code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2771871"></a> [2771871](#2771871) <a name="2771871"></a> <br /> | IPv4 and IPv6 neighbor entries in a FAILED state are incorrectly programmed into hardware as FORWARD entries instead of TRAP entries. Traffic is forwarded to these neighbors with a destination MAC address of 00:00:00:00:00:00 instead of trapping them to the CPU to resolve the correct MAC address<br />This affects failed neighbor entries on routed interfaces that are not SVIs. | 4.3.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2763819"></a> [2763819](#2763819) <a name="2763819"></a> <br /> | When  you enable LACP bypass on a bond, traffic to static MAC addresses configured on the bond might not work when LACP bypass is enforced. | 4.4.0-4.4.5 | |
| <a name="2755614"></a> [2755614](#2755614) <a name="2755614"></a> <br /> | When <code>route_preferred_over_neigh</code> is set to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, host routes (/32 or /128) are used for forwarding in hardware instead of a local neighbor entry. | 4.0.0-4.3.0, 4.4.0-4.4.5 | 4.3.1, 5.0.0-5.4.0|
| <a name="2754791"></a> [2754791](#2754791) <a name="2754791"></a> <br /> | Remote MAC addreses in zebra are out of sync with <code>bgpd</code>. The zebra MAC addresses point to an incorrect (old) VTEP IP  address and the sequence number is one higher than in BGP.  | 3.7.14.2-3.7.16, 4.3.0-4.4.5 | |
| <a name="2754691"></a> [2754691](#2754691) <a name="2754691"></a> <br /> | CVE-2021-3672: in c-ares, a library that performs DNS requests and name resolution asynchronously, missing input validation of hostnames returned by DNS servers can lead to output of wrong hostnames (leading to Domain Hijacking)<br />Vulnerable: 1.14.0-1Fixed: 1.14.0-1+deb10u1 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2754685"></a> [2754685](#2754685) <a name="2754685"></a> <br /> | CVE-2021-38165: lynx, a non-graphical (text-mode) web browser, does not properly handle the userinfo subcomponent of a URI, which can lead to leaking of credential in cleartext in SNI data<br />Vulnerable: 2.8.9rel.1-3Fixed: 2.8.9rel.1-3+deb10u1 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2754679"></a> [2754679](#2754679) <a name="2754679"></a> <br /> | CVE-2020-26558 / CVE-2021-0129: Bluez does not properly check permissions during pairing operation, which could allow an attacker to impersonate the initiating device<br />CVE-2020-27153: a double free flaw in the disconnect_cb() routine in the gattool. A remote attacker can take advantage of this flaw during service discovery for denial of service, or potentially, execution of arbitrary code<br />Vulnerable: <= 5.50-1.2~deb10u1Fixed: 5.50-1.2~deb10u2 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2753955"></a> [2753955](#2753955) <a name="2753955"></a> <br /> | On the Lenovo MSN3700 switch, if you try to configure an interface with a link speed of 200G, the configuration fails. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2749106"></a> [2749106](#2749106) <a name="2749106"></a> <br /> | Changing non-default BGP timers with NCLU or vtysh commands sets the hold time and keep alive interval to 0 seconds. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2747605"></a> [2747605](#2747605) <a name="2747605"></a> <br /> | CVE-2021-3246: a buffer overflow in libsndfile, a libraryfor reading/writing audio files, which could result in denial of serviceor potentially the execution of arbitrary code when processing amalformed audio file<br />Vulnerable: 1.0.28-6Fixed: 1.0.28-6+deb10u1 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.4.0|
| <a name="2739690"></a> [2739690](#2739690) <a name="2739690"></a> <br /> | CVE-2021-22918: An out-of-bounds read was discovered in the uv__idna_to_ascii() function of Libuv, an asynchronous event notification library, which could result in denial of service or information disclosure<br />Vulnerable: 1.24.1-1Fixed: 1.24.1-1+deb 10u1 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2739647"></a> [2739647](#2739647) <a name="2739647"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2739639"></a> [2739639](#2739639) <a name="2739639"></a> <br /> | CVE-2021-36222: It was discovered that the Key Distribution Center (KDC) in krb5, the MIT implementation of Kerberos, is prone to a NULL pointer dereference flaw. An unauthenticated attacker can take advantage of this flaw to cause a denial of service (KDC crash) by sending a request containing a PA-ENCRYPTED-CHALLENGE padata element without using FAST<br />Vulnerable: <= 1.17-3+deb10u1Fixed: 1.17-3+deb10u2 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2739398"></a> [2739398](#2739398) <a name="2739398"></a> <br /> | Cumulus Linux does not support a bond or bond member as a SPAN destination. | 4.4.0-4.4.5 | 4.3.1|
| <a name="2738040"></a> [2738040](#2738040) <a name="2738040"></a> <br /> | In an EVPN multihoming configuration, unicast ARP requests are not forwarded when the local Ethernet segment is down. | 4.4.0-4.4.5 | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2734122"></a> [2734122](#2734122) <a name="2734122"></a> <br /> | CVE-2021-33910: The Qualys Research Labs discovered that an attacker-controlled allocation using the alloca() function could result in memorycorruption, allowing to crash systemd and hence the entire operating system.  Details can be found at https://www.qualys.com/2021/07/20/cve-2021-33910/denial-of-service-systemd.txt <br />Vulnerable: <= 241-7~deb10u7Fixed: 241-7~deb10u8 | 4.0.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2734107"></a> [2734107](#2734107) <a name="2734107"></a> <br /> | When withdrawal and advertisement processing occurs in short succession, type-2 routes with an IP are not imported into layer 2 VNIs. | 3.7.12-4.4.1 | 4.4.2-4.4.5|
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.4.0|
| <a name="2732605"></a> [2732605](#2732605) <a name="2732605"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0, 4.4.0-4.4.5 | 4.3.1, 5.0.0-5.4.0|
| <a name="2728207"></a> [2728207](#2728207) <a name="2728207"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728206"></a> [2728206](#2728206) <a name="2728206"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2728205"></a> [2728205](#2728205) <a name="2728205"></a> <br /> | CVE-2021-3570: A flaw was found in the ptp4l program of the linuxptp package. A missing length check when forwarding a PTP message between ports allows a remote attacker to cause an information leak, crash, or potentially remote code execution. The highest threat from this vulnerability is to data confidentiality and integrity as well as system availability.  | 3.7.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2723603"></a> [2723603](#2723603) <a name="2723603"></a> <br /> | In a static VXLAN configuration, the <code>bridge-learning on</code> setting does not turn on <code>VXLAN-learning</code>.  | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2719356"></a> [2719356](#2719356) <a name="2719356"></a> <br /> | If you reduce the reserved VLAN range in the <code>/etc/cumulus/switchd.conf</code> file to below 32 and you make multiple VLAN or bridge configuration changes, the VLANs might not be created in hardware and you might see the log message <code>hal_mlx_l2.c:3045 ERR vlan create failed</code><br />The minimum supported size of the reserved VLAN range in the <code>/etc/cumulus/switchd.conf</code> file is 32 VLANs for single VLAN-aware bridge configurations. | 4.4.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.4.0|
| <a name="2711533"></a> [2711533](#2711533) <a name="2711533"></a> <br /> | On the AS7326-56X switch, the link lights for 25G ports configured to work at 1G do not illuminate. | 4.2.1-4.4.5 | |
| <a name="2710208"></a> [2710208](#2710208) <a name="2710208"></a> <br /> | The <code>net show bgp neighbor</code> command output shows the BFD status as UP even when the BGP neighbor is not established, such as when the interface is down. | 4.2.1-4.4.5 | |
| <a name="2706744"></a> [2706744](#2706744) <a name="2706744"></a> <br /> | In an EVPN multihoming configuration, the VTEP continues to advertise a stale route after an extended MAC mobility event. | 4.3.0-4.4.1 | 4.4.2-4.4.5|
| <a name="2700767"></a> [2700767](#2700767) <a name="2700767"></a> <br /> | Following an event that causes the peerlink bond MAC address to change, such as a slave port state change, MLAG interfaces might be suspended due to a peer IP mismatch. This behavior is seen when you use a MLAG peer IP linklocal configuration. | 3.7.12-3.7.15, 4.3.0-4.4.5 | 3.7.16|
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.4.0|
| <a name="2685036"></a> [2685036](#2685036) <a name="2685036"></a> <br /> | When the PIM RP configuration includes an anycast IP address and the route to that anycast IP address changes while joined to a multicast stream, you might receive the multicast stream from both the old and the new anycast source. | 4.4.0-4.4.5 | |
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2669858"></a> [2669858](#2669858) <a name="2669858"></a> <br />CM-32169 | OpenSSH is vulnerable to CVE-2020-14145, as described in https://www.fzi.de/fileadmin/user_upload/2020-06-26-FSA-2020-2.pdf.  <br />This is an information leak in algorithm negotiation that can allow man-in-the-middle attacks on initial connection attempts without a previously stored server host key on the client. If desired, mitigation using UpdateHostKeys and HostKeyAlgorithms is also given in that paper. | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2639303"></a> [2639303](#2639303) <a name="2639303"></a> <br /> | When you use NCLU to delete a bond, then add an interface, NCLU reports an error similar to the following:<pre>ERROR: 'NoneType' object has no attribute 'conf_key_value_multiple_values'See /var/log/netd.log for more details.</pre> | 4.3.0-4.4.5 | |
| <a name="2618227"></a> [2618227](#2618227) <a name="2618227"></a> <br /> | The NCLU <code>net show bridge macs</code> command displays permanent MAC addresses for trunked VLANs. | 4.3.0-4.4.5 | |
| <a name="2606326"></a> [2606326](#2606326) <a name="2606326"></a> <br /> | If the IGMP and MLD querier is configured on only one of the peer switches in an MLAG configuration, when IGMP packets are sent to the peer with no querier, IGMP leave messages have no effect.  | 4.4.0-4.4.5 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2596458"></a> [2596458](#2596458) <a name="2596458"></a> <br /> | When <code>bridge.unreg_v6_mcast_prune = TRUE</code> is configured in the <code>/etc/cumulus/switchd.conf</code> file, traffic destined to IPv6 link-local multicast addresses might not be flooded within the bridge<br />To work around this issue, disable pruning for IPv6 multicast by setting <code>bridge.unreg_v6_mcast_prune = FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file. | 4.4.0-4.4.5 | |
| <a name="2574368"></a> [2574368](#2574368) <a name="2574368"></a> <br /> | When you run the NCLU <code>net add bgp maximum-paths ibgp</code> command, FRR restarts unexpectedly<br />To work around this issue, either use the <code>vtysh</code> commands or edit the <code>/etc/frr/frr.conf</code> file directly, then run <code>systemctl reload frr</code>. | 4.1.1-4.4.5 | |
| <a name="2556772"></a> [2556772](#2556772) <a name="2556772"></a> <br />CM-33391 | The <code>net show clag verify-vlans</code> command fails with the following log: <br /><pre><br />WARNING: '/usr/bin/clagctl verifyvlans' failed due to:<br />Command '&#91;'/usr/bin/clagctl', 'verifyvlans'&#93;' returned non-zero exit status 1<br /></pre><br />To work around this issue, run the <code>/usr/bin/clagctl verifyvlans</code> command or the <code>net show clag verbose</code> command. | 4.2.1-4.4.5 | |
| <a name="2556369"></a> [2556369](#2556369) <a name="2556369"></a> <br />CM-33196 | If you use NCLU to configure an ACL for eth0, you can't designate it as an INPUT rule; the rule is automatically created as a FORWARD rule in the <code>/etc/cumulus/acl/policy.d/50_nclu_acl.rules</code> file.<br />To work around this issue, manually create an ACL in the <code>/etc/cumulus/acl/policy.d/</code> file with "-A INPUT -i eth0". | 4.2.1-4.4.5 | |
| <a name="2556082"></a> [2556082](#2556082) <a name="2556082"></a> <br />CM-33050 | The NCLU <code>net del vrf</code> command does not delete a numbered VRF. For example:<br /><pre><br />cumulus&#64;leaf01:~$ net del vrf 55<br />ERROR: Command not found<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2556081"></a> [2556081](#2556081) <a name="2556081"></a> <br />CM-33049 | You cannot set the time zone can with NCLU commands. | 4.1.1-4.4.5 | |
| <a name="2555981"></a> [2555981](#2555981) <a name="2555981"></a> <br />CM-32979 | In BGP, to enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | 5.0.0-5.4.0|
| <a name="2555873"></a> [2555873](#2555873) <a name="2555873"></a> <br />CM-32914 | On Mellanox switches, egress ACLs with VLAN keys do not filter layer 2 multicast or broadcast traffic. | 4.3.0-4.4.5 | |
| <a name="2555763"></a> [2555763](#2555763) <a name="2555763"></a> <br />CM-32861 | The NCLU <code>net del bgp neighbor</code> command does not delete the neighbor and displays an error similar to the following:<br /><pre><br />ERROR: --- /run/nclu/frr/frr.conf.scratchpad.baseline   2021-01-04 17:23:59.250463331 +0000<br />+++ /run/nclu/frr/frr.conf.scratchpad    2021-01-04 17:25:59.213673980 +0000<br /></pre><br />To work around this issue, use the FRR command to delete a neighbor. | 4.3.0-4.4.5 | |
| <a name="2555613"></a> [2555613](#2555613) <a name="2555613"></a> <br />CM-32786 | The <code>net show configuration commands</code> command incorrectly displays the NCLU syntax to disable IPv6 forwarding on interfaces. For example:<br /><pre><br /># net show configuration commands<br />net add vlan 1 ip6-forward off <br /></pre><br />The correct NCLU command to disable IPv6 forwarding is <code>net add vlan 1 ipv6 forward off</code> (without the hyphen). | 4.2.1-4.4.5 | |
| <a name="2555318"></a> [2555318](#2555318) <a name="2555318"></a> <br />CM-32612 | If you try to enable BGP graceful restart when it is already enabled, you see an error similar to the following in the <code>frr.log</code> file:<br /><pre><br />2020-12-07T19:20:26.004333+00:00 cumulus bgpd&#91;4954&#93;: VRF default: Handle GR command GLOBAL_GR_CMD, current GR state GLOBAL_GR, new GR state GLOBAL_INVALID<br /></pre><br />This error has no functional impact. | 4.3.0-4.4.5 | |
| <a name="2555175"></a> [2555175](#2555175) <a name="2555175"></a> <br />CM-32528 | Control Plane Traffic (example - BGP peering from Leaf to Spine) goes down on Leaf due to Hold Down Timer Expiration of peer following prolonged link flaps on downlinks when vxlan enabled vlans are carried on the flapping link. | 3.7.15-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554986"></a> [2554986](#2554986) <a name="2554986"></a> <br />CM-32416 | The <code>ethtool</code> utility doesn't contain the latest values, as a result the <code>Revision Compliance</code> field shows <code>Unallocated</code>.  | 4.2.1-4.4.5 | |
| <a name="2554812"></a> [2554812](#2554812) <a name="2554812"></a> <br />CM-32296 | If the RMAC of a layer 3 SVI changes, the <code>show vrf vni</code> command is not updated with the new value. However, the new RMAC is seen in the <code>show evpn vni</code> command and is present on self-originated EVPN routes. | 4.2.1-4.4.5 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.5 | 5.0.0-5.4.0|
| <a name="2554709"></a> [2554709](#2554709) <a name="2554709"></a> <br />CM-32217 | The IP address specified in the <code>ip pim use-source</code> command configured on the loopback interface should be inherited by unnumbered interfaces during their Primary IP address selection process.  If <code>ip pim use-source</code> is configured on the loopback after an unnumbered interface has already selected their Primary IP address, the unnumbered interface does not update its Primary IP address to be the new use-source value until after there is a netlink update for that interface.<br />To work around this issue, configure <code>ip pim use-source</code> on each unnumbered interface directly or ensure <code>ip pim use-source</code> is applied to the loopback before other unnumbered interfaces are enabled for PIM. | 3.7.13-3.7.16, 4.2.1-4.4.5 | |
| <a name="2554670"></a> [2554670](#2554670) <a name="2554670"></a> <br />CM-32194 | When you have a large number of ACLs, the <code>cl-acltool -L ip</code> and <code>cl-resource-query</code> commands take a long time to complete. | 4.3.0-4.4.5 | |
| <a name="2554582"></a> [2554582](#2554582) <a name="2554582"></a> <br />CM-32144 | On switches with the Maverick ASIC, control traffic is dropped due to receive buffering. | 4.2.0-4.4.5 | |
| <a name="2554533"></a> [2554533](#2554533) <a name="2554533"></a> <br />CM-32112 | On the ARM platform, NTP peer associations slowly increase to larger offsets (~500ms). | 4.0.0-4.4.5 | |
| <a name="2554466"></a> [2554466](#2554466) <a name="2554466"></a> <br />CM-32068 | Kernel routes added by <code>iproute2</code> are missing in FRR after an interface flap.<br />To work around this issue, configure a static route in FRR.<br /> | 4.2.1-4.4.5 | |
| <a name="2554222"></a> [2554222](#2554222) <a name="2554222"></a> <br />CM-31921 | The NCLU command to enable bridge learning fails.<br />As a work around, enable bridge learning in the <code>/etc/network/interface</code> file. For example:<br /><pre><br />auto vni-30<br />iface vni-30<br />    vxlan-id 30<br />    bridge-access 30<br />    bridge-arp-nd-suppress on<br />    bridge-learning on<br />    vxlan-local-tunnelip 10.10.10.1<br />    mstpctl-bpduguard yes<br />    mstpctl-portbpdufilter yes<br />    mtu 9166<br /></pre> | 4.2.1-4.4.5 | |
| <a name="2554218"></a> [2554218](#2554218) <a name="2554218"></a> <br />CM-31917 | MLAG packets received on the peer link are dropped instead of routed. | 4.2.0-4.4.5 | |
| <a name="2554202"></a> [2554202](#2554202) <a name="2554202"></a> <br />CM-31904 | The output of the <code>net show commit</code> command does not show the last commit or the specified commit number but is empty instead. | 4.2.1-4.4.5 | |
| <a name="2553989"></a> [2553989](#2553989) <a name="2553989"></a> <br />CM-31759 | Default policer configured for LACP as an INPUT chain rule in 00control_plane.rules is meant to protect CPU from an LACP storm. When LACP storm is originating out of a single bond or bond member interface in a switch with multiple bond interfaces, there is a possibility of other LACP bond interface(s) going down. | 4.2.1-4.4.5 | |
| <a name="2553887"></a> [2553887](#2553887) <a name="2553887"></a> <br />CM-31700 | When using TACACS+ configured with a DEFAULT user providing privilege level lower than 16, TACACS+ configured users with privilege level 16 access might not be able to run privilege level 16 NCLU commands, such as <code>net add</code> and <code>net del</code> and see an error similar to the following:<br /><pre><br />ERROR: You do not have permission to execute that command.<br /></pre><br />To work around this issue, remove the DEFAULT user from the TACACS+ server. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553677"></a> [2553677](#2553677) <a name="2553677"></a> <br />CM-31605 | When you configure an SNMPv3 user with the <code>net-snmp-config</code> configuration command from the <code>libsnmp-dev</code> package, you get an error message similar to the one below:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ sudo net-snmp-config --create-snmpv3-user -a shaauthpass -x aesprivpass -A SHA -X AES userSHAwithAES<br />adding the following line to /var/lib/snmp/snmpd.conf:           <br />   createUser userSHAwithAES SHA "shaauthpass" AES "aesprivpass"       <br />adding the following line to /snmp/snmpd.conf:                           <br />   rwuser userSHAwithAES                                           <br />touch: cannot touch ‘/snmp/snmpd.conf’: No such file or directory<br />/usr/bin/net-snmp-create-v3-user: 144: /usr/bin/net-snmp-create-v3-user: cannot create /snmp/snmpd.conf: Directory nonexistent<br /></pre><br />To work around this issue, use the NCLU command to configure SNMPv3 user parameters; for example:<br /><pre><br />cumulus&#64;switch:mgmt-vrf:~$ net add snmp-server username user999 auth-md5 user999password encrypt-des user999encryption<br /></pre><br />Alternatively, directly edit the <code>/etc/snmp/snmpd.conf</code> file as described in the documentation. | 3.7.13-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553237"></a> [2553237](#2553237) <a name="2553237"></a> <br />CM-31418 | The default NTP configuration is to use eth0 as the NTP source interface. In Cumulus Linux 4.0 and later, eth0 is in the management VRF by default; therefore the NTP service runs automatically in the management VRF. <br />NVIDIA does not recommend running NTP with a source interface other than eth0 as this can expose a security vulnerability. Changing the NTP source interface name with NCLU to a non-management VRF interface might result in NTP not functioning because the NTP service is still running in the management VRF.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2553116"></a> [2553116](#2553116) <a name="2553116"></a> <br />CM-31357 | When you manually set the link speed or duplex mode with ethtool to an unsupported value, then run a TDR check against the interface, you encounter a <code>switchd</code> service heartbeat failure.<br />To work around this issue, reboot the switch to clear the condition. Avoid setting the interface speed or duplex mode directly with ethtool. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2553015"></a> [2553015](#2553015) <a name="2553015"></a> <br />CM-31300 | If a neighbour contains a special character in PortID for LLDP, the <code>net show interface</code> command does not display the LLDP information or the command might fail. | 3.7.10-3.7.16, 4.2.0-4.4.5 | |
| <a name="2552691"></a> [2552691](#2552691) <a name="2552691"></a> <br />CM-31111 | On the EdgeCore AS4610 switch, the eth0 interface remains down when physically connected to a 1G interface.<br />To work around this issue, configure the link speed to 1000 and set auto-negotiation on for the eth0 interface, then flap eth0 with the <code>ip link set eth0 down/up</code> command to bring up the port. | 4.2.0-4.4.5 | |
| <a name="2552453"></a> [2552453](#2552453) <a name="2552453"></a> <br />CM-30987 | On the Mellanox switch, RoCE with PFC configuration is not applied to all ports in hardware when a range is used in the <code>traffic.conf</code> file.<br />To work around this issue, use NCLU to configure RoCE with PFC or list individual ports in the <code>traffic.conf</code> file. | 4.2.0-4.4.5 | |
| <a name="2552309"></a> [2552309](#2552309) <a name="2552309"></a> <br />CM-30889 | The following messages are seen on an Edgecord Minipack-AS8000 running Cumulus Linux 4.2.0:<br /><br /><pre><br />Hal_bcm_console.c:294 MMU config profile 0 prigroup 0: Service Pool 0 has no space and cannot be assigned<br />Hal_bcm_console.c:294 MMU config port 0 idx 0: Pool 0 has no space and cannot be assigned<br /></pre><br /><br />These messages are for internal validation purposes only and can be safely ignored.<br /><br /> | 4.2.0-4.4.5 | |
| <a name="2552294"></a> [2552294](#2552294) <a name="2552294"></a> <br />CM-30879 | NCLU restarts FRR when removing a BGP VRF IPv4 aggregate-address command.<br />  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2552266"></a> [2552266](#2552266) <a name="2552266"></a> <br />CM-30863 | OpenSSH scp is vulnerable to CVE-2020-15778, where clients that have authorized access to the SSH server can execute commands on the server by copying maliciously named files.<br />The two scenarios where an exploit may be useful to an attacker:<br />-The user is authorized to <code>scp</code> but not <code>ssh</code> (based on the <code>command</code> option in the <code>authorized_keys</code> file), so this vulnerability can allow executing a remote command on the target computer when not authorized to do so.<br />-An attacker plants a maliciously named file in a directory tree that someone later uses <code>scp -r</code> to copy over to the target computer.<br />Be aware that restricting users to <code>scp</code> by using the <code>command</code> option in the <code>authorized_keys</code> file is not effective in preventing those users from executing arbitrary commands on the server.<br />If you want to use <code>scp -r</code> to copy directory trees, avoid copying directory trees to which attackers may have added maliciously-named files. Archiving the directory tree with <code>tar</code>, <code>zip</code>, or a similar program, then copying the archive over to be extracted on the server avoids having to use <code>scp -r</code> altogether. In addition, OpenSSH provides <code>sftp</code>, which you can use instead of <code>scp</code> to copy files.<br />To disable scp completely, use <code>/bin/chmod 0 /usr/bin/scp</code> . | 3.7.14-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551666"></a> [2551666](#2551666) <a name="2551666"></a> <br />CM-30473 | If you modify an interface name, then reuse the previous interface name for a different VLAN, the <code>ifreload -a</code> command generates an error similar to the following:<br /><pre><br />warning: <interface-name>: interface not recognized - please check interface configuration<br /></pre><br /> | 4.1.0-4.4.5 | |
| <a name="2551578"></a> [2551578](#2551578) <a name="2551578"></a> <br />CM-30422 | When you configure a bridge in the <code>/etc/network/interfaces</code> file, then try to reconfigure the bridge to be a VRF interface with the same name, <code>ifreload</code>/<code>ifup</code> commands fail with an <code>invalid table id</code> or <code>unable to get vrf table id</code> error. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2551565"></a> [2551565](#2551565) <a name="2551565"></a> <br />CM-30414 | If you toggle VRRP priority values between VRRP routers, then restart <code>switchd</code>, a few IPv6 VRRP instances might not converge. As a result, both the VRRP routers act as master routers for the impacted IPv6 VRRP instances. IPv4 VRRP instances are not affected<br />To work around this issue, remove, then add back the VRRP configuration with NCLU or vtysh commands. | 3.7.13-3.7.16, 4.2.0-4.4.5 | |
| <a name="2551335"></a> [2551335](#2551335) <a name="2551335"></a> <br />CM-30312 | When TACACS+ is configured and the management VRF is enabled, users with privilege level 13 are prevented from running <code>ip</code> and <code>cat</code> commands. | 4.0.0-4.4.5 | |
| <a name="2551305"></a> [2551305](#2551305) <a name="2551305"></a> <br />CM-30296 | The <code>net show configuration</code> command provides the wrong <code>net add</code> command for ACL under the VLAN interface.<br /><br /> | 3.7.12-3.7.16, 4.1.0-4.4.5 | |
| <a name="2551273"></a> [2551273](#2551273) <a name="2551273"></a> <br />CM-30280 | On a Mellanox SN2010 switch, the Locator LED is on after you upgrade Cumulus Linux. | 4.1.0-4.4.5 | |
| <a name="2551221"></a> [2551221](#2551221) <a name="2551221"></a> <br />CM-30255 | When span-to-cpu is enabled on L3 swp interface with an IP address configured, packets with destination IP as switchport's IP address don't reach switchport. To capture packets directed towards switcport's IP, disable span-to-cpu and use tcpdump on swichport instead. | 4.2.0-4.4.5 | |
| <a name="2551111"></a> [2551111](#2551111) <a name="2551111"></a> <br />CM-30230 | If a remote EVPN Sticky MAC &#91;Static MAC address&#93; is unexpectedly learned dynamically on a local interface, the selected entries in zebra and BGP are in an inconsistent state.<br />zebra increments the local MAC mobility sequence number and considers the MAC address to be local, but BGP maintains the remote Sticky MAC as the best path selected. This results in zebra installing the local MAC address and BGP not updating the route for the MAC address. | 4.0.0-4.4.5 | |
| <a name="2550974"></a> [2550974](#2550974) <a name="2550974"></a> <br />CM-30195 | On the Dell S3000 switch, after installing the Cumulus Linux 4.1.1 disk image without a license, the switch sends a link beat if a remote host port is configured. | 3.7.11-3.7.16, 4.1.1-4.4.5 | |
| <a name="2550793"></a> [2550793](#2550793) <a name="2550793"></a> <br />CM-30101 | The NCLU <code>net show bridge spanning-tree</code> command displays the aging timer incorrectly.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550713"></a> [2550713](#2550713) <a name="2550713"></a> <br />CM-30052 | Configuring the subinterface of a VXLAN uplink under another traditional bridge, which also has the VXLAN VNI enslaved, causes <code>switchd</code> to use high CPU due to very frequent VXLAN tunnel sync events.<br />To work around this issue, do not enslave the subinterface of a VXLAN layer 3 uplink under a traditional bridge in a VXLAN configuration. | 4.1.1-4.4.5 | |
| <a name="2550642"></a> [2550642](#2550642) <a name="2550642"></a> <br />CM-30006 | ACLs with SPAN target and in-interface as bond member are not supported on Spectrum-based switches  | 4.2.0-4.4.5 | |
| <a name="2550444"></a> [2550444](#2550444) <a name="2550444"></a> <br />CM-29872 | Tab completion for the <code>net show rollback description</code> command returns information about a snapshot instead of context help.<br />To work around this issue, run the <code>net show commit history</code> command to find descriptions instead of the <code>net show rollback description</code> command. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550443"></a> [2550443](#2550443) <a name="2550443"></a> <br />CM-29871 | The <code>net show rollback description <string></code> command returns an error even if the string matches a commit description.<br />To work around this issue, look for your string in the output of the <code>net show commit history</code> command (or grep for it there) instead. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550243"></a> [2550243](#2550243) <a name="2550243"></a> <br />CM-29759 | When you use <code>nginx</code> and <code>restserver</code> in management VRF to provide a REST API for the switch, <code>nginx</code> starts but <code>restserver</code> fails to start.<br />To work around this issue, comment out the <code>Requires=</code> line in the <code>/lib/systemd/system/restserver.service</code>. For example:<br /><pre><br />#Requires=nginx.service restserver.socket<br /></pre> | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2550056"></a> [2550056](#2550056) <a name="2550056"></a> <br />CM-29652 | The ACCTON-DIAG option under the Cumulus Linux GRUB menu does not work. When you select this option, you see the following error:<br /><pre><br />error: invalid signature.<br />Press any key to continue...<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549925"></a> [2549925](#2549925) <a name="2549925"></a> <br />CM-29594 | When you run an Ansible script to replace the <code>/etc/network/interfaces</code> file, then run the <code>ifreload -a</code> command, you see errors similar to the following:<br /><pre><br />error: swp1s1.2: netlink: cannot set link swp1s1.2 up: operation failed with 'Network is down' (100)<br />warning: cmd '/bin/ip addr del 10.0.0.1/24 dev eth0' failed: returned 2 (RTNETLINK answers: Cannot assign requested address<br /></pre><br />To work around this issue,  run the <code>ifreload -a</code> command a second time. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549872"></a> [2549872](#2549872) <a name="2549872"></a> <br />CM-29562 | If you have an SVI with multiple VRR IP addresses and try to delete one of the VRR configurations, <code>net commit</code> or <code>ifreload -a</code> returns an error. | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549782"></a> [2549782](#2549782) <a name="2549782"></a> <br />CM-29519 | The JSON format output of the <code>net show bgp l2vpn evpn summary</code> command shows the incorrect neighbour state.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2549731"></a> [2549731](#2549731) <a name="2549731"></a> <br />CM-29492 | When you create SPAN or ERSPAN rules in ebtables, the action fails to install if it is not in lowercase. Make sure that the SPAN or ERSPAN action is all lowercase; for example:<br /><pre><br />&#91;ebtables&#93;<br />-A FORWARD --in-interface swp10 -j span --dport swp1<br /></pre> | 3.7.12-3.7.16, 4.1.1-4.4.5 | |
| <a name="2549392"></a> [2549392](#2549392) <a name="2549392"></a> <br />CM-29319 | When you configure an RD or RT with NCLU, you see duplicate VNI stanzas in the <code>/etc/frr/frr.conf</code> file. <br />To work around this issue, manually edit the <code>etc/frr/frr.conf</code> file to define <code>advertise-all-vni</code> before the RD or RT configuration within the l2vpn EVPN address family, then reload the FRR service with the <code>sudo systemctl reload frr</code> command. | 4.1.0-4.4.5 | |
| <a name="2548924"></a> [2548924](#2548924) <a name="2548924"></a> <br />CM-29146 | On the EdgeCore Minipack AS8000, storm control does not restrict unknown unicast, broadcast, or multicast traffic. | 4.1.1-4.4.5 | |
| <a name="2548657"></a> [2548657](#2548657) <a name="2548657"></a> <br />CM-29035 | When you upgrade Cumulus Linux on the EdgeCore AS7726-32X or AS7326-56X switch, you might see firmware errors similar to the following:<br /><pre><br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso5.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3_tso.bin for module tg3<br />W: Possible missing firmware /lib/firmware/tigon/tg3.bin for module tg3<br /></pre><br />You can safely ignore these error messages. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548579"></a> [2548579](#2548579) <a name="2548579"></a> <br /> | The following security vulnerability has been announced:<br />CVE-2020-10531: An issue was discovered in International Components for Unicode (ICU) for C/C++ through 66.1. An integer overflow, leading to a heap-based buffer overflow, exists in the UnicodeString::doAppend() function in common/unistr.cpp. | 3.7.12, 4.0.0-4.4.5 | 3.7.13-3.7.16|
| <a name="2548315"></a> [2548315](#2548315) <a name="2548315"></a> <br />CM-28816 | The following security advisory has been announced for bash: <br />CVE-2019-18276 Qualys scan QID 372268 setuid vulnerability<br />When bash or bash scripts are run setuid, bash is supposed to drop privileges, but does so incorrectly, so that an attacker with command access to the shell can use <code>enable -f</code> for runtime loading of a new builtin that calls <code>setuid()</code> to regain dropped privileges.<br />To work around this issue, do not make bash or bash scripts <code>setuid</code>. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548310"></a> [2548310](#2548310) <a name="2548310"></a> <br />CM-28812 | When the system boots, we might see " cumulus systemd-udevd&#91;7566&#93;: Process '/usr/bin/hw-management-thermal-events.sh add thermal_zone /sys /devices/virtual/thermal/thermal_zone25 thermal_zone25' failed with exit code 1" errors. <br /><br />These errors are result of  user space acting on kernel events a bit slow. The mlxsw_minimal driver is added during kernel boot; An SDK reset causes the driver to be deleted and re-instantiated; User space handler for thermal zone add sees the add first; But the underlying device is deleted before it can act on it. This situation is rectified as the mlxsw_minimal driver is re-instantiated later; <br /> | 4.1.0-4.4.5 | |
| <a name="2548260"></a> [2548260](#2548260) <a name="2548260"></a> <br />CM-28770 | The <code>net add routing route-map <name> permit <seq> set community <comm></code> command does not add the set statement into the <code>/etc/frr/frr.conf</code> file. | 4.0.0-4.4.5 | |
| <a name="2548243"></a> [2548243](#2548243) <a name="2548243"></a> <br />CM-28754 | On switches with the Trident2+ ASIC, adding SPAN rules disables PBR rules. | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548117"></a> [2548117](#2548117) <a name="2548117"></a> <br />CM-28659 | In OVSDB traditional bridge mode, adding or removing a VLAN binding causes a traffic forwarding outage for around 20 seconds or more on adjacent VLAN bindings. Cumulus Linux does not support _traditional_ bridge mode with VMware NSX. | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2548062"></a> [2548062](#2548062) <a name="2548062"></a> <br />CM-28622 | When ports are split to 4x25G, RS FEC needs to explicitly configured on both ends (especially when interoperating with non-Mellanox switches). | 4.1.0-4.4.5 | |
| <a name="2548044"></a> [2548044](#2548044) <a name="2548044"></a> <br />CM-28608 | When a remote VTEP withdraws a type-3 EVPN route, Cumulus Linux purges all MAC address and neighbor entries installed in the corresponding layer 2 VNI through that remote VTEP from the local EVPN and kernel forwarding tables. This purge occurs even if the remote VTEP does not withdraw type-2 routes carrying the MAC address or neighbor entries. The entries stay missing from the local EVPN and kernel forwarding tables until BGP updates the MAC address and neighbor. | 3.7.12-3.7.15, 4.0.0-4.4.5 | 3.7.16|
| <a name="2547903"></a> [2547903](#2547903) <a name="2547903"></a> <br />CM-28506 | CVE-2019-19956: xmlParseBalancedChunkMemoryRecover in parser.c in libxml2 before 2.9.10 has a memory leak related to newDoc->oldNs<br />Vulnerable: 2.9.4+dfsg1-7Fixed: 2.9.4+dfsg1-7+deb10u1 | 4.0.0-4.4.5 | |
| <a name="2547890"></a> [2547890](#2547890) <a name="2547890"></a> <br />CM-28497 | QinQ across VXLAN on a traditional bridge does not work. | 4.1.0-4.4.5 | |
| <a name="2547782"></a> [2547782](#2547782) <a name="2547782"></a> <br />CM-28441 | If a LLDP neighbor advertises a <code>PortDescr</code> that contains commas, <code>ptmctl -d</code> splits the string on the commas and misplaces its components in other columns. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547706"></a> [2547706](#2547706) <a name="2547706"></a> <br />CM-28397 | When you configure ganged ports in the <code>ports.conf</code> file, the change does not take effect after you restart <code>switchd</code>. <br />To work around this issue, reboot the switch. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2547405"></a> [2547405](#2547405) <a name="2547405"></a> <br />CM-28226 | When you restart the <code>hsflowd</code> service, you see a <code>systemd</code> warning message similar to the following:<br /><pre><br />Warning: The unit file, source configuration file or drop-ins of hsflowd&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload'.<br /></pre> | 4.0.0-4.4.5 | |
| <a name="2547120"></a> [2547120](#2547120) <a name="2547120"></a> <br />CM-28076 | After you hot swap a PSU, the <code>decode-syseeprom -t psuX</code> command shows the old PSU information (such as the serial number), until you run the <code>decode-syseeprom --init</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546991"></a> [2546991](#2546991) <a name="2546991"></a> <br />CM-28003 | The FRR service does not provide a way for automation to know if the configuration applied properly.<br />To work around this issue, execute the <code>vtysh -f <file></code> command in the automation file before starting the FRR service to validate the functional configuration and return an error code. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546895"></a> [2546895](#2546895) <a name="2546895"></a> <br />CM-27957 | If you have configured a higher number of ports and VLANs (ports x VLANs) or the switch is a lower-powered (CPU) platform, the <code>switchd</code> service might fail to send a <code>systemd keepalive</code> within the watchdog timeout value (2 minutes by default) and you see an error similar to the following:<pre>bq. systemd&#91;1&#93;: switchd.service watchdog timeout (limit 2min)!</pre>To workaround this issue, either reduce the number of configured interfaces and, or VLANs, or increase the <code>systemd</code> timeout for <code>switchd.service</code><br />To increase the <code>systemd</code> timeout:1.Edit the <code>/etc/systemd/system/switchd.service.d/override.conf</code> file and increase the <code>WatchdogSec</code> parameter<br />2.Restart the <code>switchd</code> service with the <code>sudo systemctl restart switchd.service</code> command<br /><code>systemd</code> attempts to restart the <code>switchd</code> service automatically (after the watchdog timeout). If the restart fails multiple times in a short time period, run the <code>sudo systemctl reset-failed</code> command followed by the <code>sudo systemctl restart switchd</code> command. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546874"></a> [2546874](#2546874) <a name="2546874"></a> <br />CM-27950 | On the Dell S5232F, S5248F, S5296F, and S3048 switch, using the <code>poweroff</code> or <code>halt</code> commands does not fully power off the switch. | 4.0.0-4.4.5 | |
| <a name="2546255"></a> [2546255](#2546255) <a name="2546255"></a> <br />CM-27637 | On the EdgeCore Minipack-AS8000 switch, a 100G DAC link does not come up when auto-negotiation is enabled on the neighbor. This switch does not support 100G DAC auto-negotiation at this time. | 4.0.0-4.4.5 | |
| <a name="2546225"></a> [2546225](#2546225) <a name="2546225"></a> <br />CM-27627 | When you execute the following command on the Delta AG6248C switch, the switch reboots and then comes right back into Cumulus Linux without installing the new image. The install image is still in <code>/var/lib/cumulus/installer</code>, which causes issues with cl-support. <br /> <pre> <br /> sudo onie-install -fai http://<path to image> <br /> sudo reboot <br /> </pre> <br /> To work around this issue, use the <code>onie-select</code> command to access ONIE, and then use the <code>nos-install</code> command in ONIE to install a new binary image.  | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2546131"></a> [2546131](#2546131) <a name="2546131"></a> <br />CM-27581 | On the Delta AG-6248C PoE switch, when you run the <code>apt upgrade</code> command, the upgrade does not work. Cumulus Linux uses <code>uboot</code> directly instead of <code>grub</code> to boot the kernel. Uboot needs a special header to boot the kernel, which is not present. Without this header, when you use the <code>apt upgrade</code> command to upgrade Linux packages, <code>uboot</code> is unable to boot up the kernel. <br />To work around this issue, upgrade Cumulus Linux by installing the Cumulus Linux image. Run the <code>onie-select</code> command to go into ONIE, and then use the <code>nos-install</code> command in ONIE to install a new image.<br />This workaround only works when an out-of-band network is present. | 3.7.11-3.7.16, 4.0.0-4.4.5 | |
| <a name="2545837"></a> [2545837](#2545837) <a name="2545837"></a> <br />CM-27444 | If you use the NCLU commands to configure NTP and run the <code>net add time ntp source <interface></code> command before you run the <code>net add time ntp server <server> iburst</code> command, the <code>/etc/ntp.conf</code> file is misconfigured.<br />To work around this issue, run the <code>net add time ntp server <server> iburst</code> command before you run the <code>net add time ntp source <interface></code> command. | 3.7.10-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2545520"></a> [2545520](#2545520) <a name="2545520"></a> <br />CM-27243 | The length of the netlink message is not set properly for non-bridge family type messages. The same length is used for both bridge and non-bridge even though the bridge family type message has an extra attribute. This causes extra bytes to be left over in non-bridge family type netlink messages. | 3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2545233"></a> [2545233](#2545233) <a name="2545233"></a> <br />CM-27094 | On the Delta AG9032v1 switch, smonctl and sensors report inaccurate PSU current and power. | 4.0.0-4.4.5 | |
| <a name="2545125"></a> [2545125](#2545125) <a name="2545125"></a> <br />CM-27018 | If you configure more than one VRR interface on an SVI interface, deleting one of the VRR addresses does not remove the interface/address.  | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544978"></a> [2544978](#2544978) <a name="2544978"></a> <br />CM-26921 | If you delete an undefined bond, then add a bond slave, the <code>net commit</code> command fails. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544968"></a> [2544968](#2544968) <a name="2544968"></a> <br />CM-26913 | FRR configuration commands for an SVI interface might have the <code>\n</code> misplaced in the output.  For example:<br /><pre><br />sudo sh -c "printf 'interface 50\nvrf TEST description L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />should be:<br /><pre><br />sudo sh -c "printf 'interface 50 vrf TEST\ndescription L3 routing interface\n' >> /etc/frr/frr.conf"<br /></pre><br />To work around this issue, configure the interface manually in the <code>/etc/frr/frr.conf</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544957"></a> [2544957](#2544957) <a name="2544957"></a> <br />CM-26907 | NCLU incorrectly allows you to apply port security configuration on layer 2 and layer 3 ports that are not part of a bridge. | 4.0.0-4.4.5 | |
| <a name="2544953"></a> [2544953](#2544953) <a name="2544953"></a> <br />CM-26905 | When you update the hostname of a switch with the NCLU <code>net add hostname <hostname></code> command, then run <code>net commit</code>, the <code>lldpd</code> service does not restart and other devices still see the old hostname.<br />To work around this issue, run the <code>sudo systemctl restart lldpd.service</code> command. | 3.7.10-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544880"></a> [2544880](#2544880) <a name="2544880"></a> <br />CM-26860 | When you run the NCLU <code>net show commit last</code> or <code>net show commit <number></code> command, where <code><number></code> is the last commit, no output is shown.  | 4.0.0-4.4.5 | |
| <a name="2544723"></a> [2544723](#2544723) <a name="2544723"></a> <br />CM-26769 | Setting ProtoDown on ports populated with SFP modules providing RJ-45 1000BASE-T interfaces does not cause the carrier to be dropped. The kernel shows carrier down; however, the remote device still shows a link. | 3.7.6-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2544463"></a> [2544463](#2544463) <a name="2544463"></a> <br />CM-26599 | Auto-negotiation does not work with the QSFP28 cables and a remote system operating at 10G. Attempting to enable auto-negotiation with <code>ethtool -s swp<#> autoneg on</code> returns <code>Operation not supported</code>.<br />To work around this issue, do not use auto-negotiation and set the local port speed to 10G. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544456"></a> [2544456](#2544456) <a name="2544456"></a> <br />CM-26595 | The NCLU <code>net show lldp</code> command displays the speed of a ganged port group as the speed of one of the individual links, rather than the sum of their speeds. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544311"></a> [2544311](#2544311) <a name="2544311"></a> <br />CM-26516 | Applying a policy-based routing (PBR) rule for all traffic from a host might disrupt ARP refresh for that connected host. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544155"></a> [2544155](#2544155) <a name="2544155"></a> <br />CM-26423 | NCLU requires you to specify an interface with multiple <code>address-virtual</code> statements in ascending MAC address order. <br /><br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2544113"></a> [2544113](#2544113) <a name="2544113"></a> <br />CM-26412 | Mac learning is not disabled by default on a double tagged peer link interface resulting in the MAC address changing between the MLAG bond and the peer link.<br />To work around this issue, disable MAC learning on QinQ VLANs by adding <code>bridge-learning off</code> to the VLAN stanza in the <code>etc/network/interfaces</code> file. | 3.7.9-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543937"></a> [2543937](#2543937) <a name="2543937"></a> <br />CM-26308 | An interface alias configured outside FRR using <code>iproute2</code> is imported into the FRR running configuration and overrides the internal description. After an FRR reload, this causes FRR to delete the interface alias in an inefficient way. Depending on how many interfaces with aliases you have configured, this can cause a FRR reload to time out.<br />To work around this issue, remove the interface alias description from <code>iproute2</code>. | 3.7.8-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | <code>systemctl</code> issues a warning similar to the following when you enable a service in the management VRF:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre> | 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2543900"></a> [2543900](#2543900) <a name="2543900"></a> <br />CM-26288 | On the Mellanox switch, static VXLAN tunnels incorrectly allow traffic from any remote tunnel IP address. | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543841"></a> [2543841](#2543841) <a name="2543841"></a> <br />CM-26256 | The <code>net show evpn vni detail json</code> command includes an extra empty dictionary at the end of the output. <br /> | 3.7.8-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543816"></a> [2543816](#2543816) <a name="2543816"></a> <br />CM-26241 | On the Dell S5248F-ON switch, <code>smond</code> might generate syslog messages indicating that the fan input RPM is lower than the normal low speed of 2500 RPM. Speeds as low as 1700 RPM are acceptable in normal thermal environments; therefore, you can ignore these messages.<br /> | 3.7.6-3.7.11, 4.0.0-4.4.5 | 3.7.12-3.7.16|
| <a name="2543781"></a> [2543781](#2543781) <a name="2543781"></a> <br />CM-26217 | NCLU does not allow you to configure OSPF NSSAs. For example: <br /><pre><br />cumulus&#64;switch:~$ net add ospf area 0.0.0.1 nssa <br />ERROR: Command not found. <br />net add ospf area 0.0.0.1 nssa<br /></pre><br />To work around this issue, use FRR instead. For example: <br /><pre><br />switch# configure terminal <br />switch(config)# router ospf <br />switch(config-router)# area 0.0.0.1 nssa <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543724"></a> [2543724](#2543724) <a name="2543724"></a> <br />CM-26179 | If a hostname contains utf-8 characters, the NCLU <code>net show lldp</code> command outputs the following error: <br /><pre><br />ERROR: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128) <br />See /var/log/netd.log for more details.  <br /></pre> | 3.7.7-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2543646"></a> [2543646](#2543646) <a name="2543646"></a> <br />CM-26136 | In an ebtables rule, ERSPAN (upper case) does not work. You need to specify erspan (lower case). | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543401"></a> [2543401](#2543401) <a name="2543401"></a> <br />CM-25986 | On the Mellanox Spectrum-2 switch, the time required to establish a link (from the time a link is set to <code>admin up</code> until the link becomes operationally up) can take up to 15 seconds on 40G interfaces and up to 30 seconds on 100G interfaces. <br />To work around this issue, wait up to 15 seconds on 40G interfaces and 30 seconds on 100G interfaces for the link to establish. | 4.0.0-4.4.5 | |
| <a name="2543211"></a> [2543211](#2543211) <a name="2543211"></a> <br />CM-25890 | In some cases, the <code>switchd</code> service might warn of excessive MAC moves from one switch port to itself (for example, from swp18 to swp18).<br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543164"></a> [2543164](#2543164) <a name="2543164"></a> <br />CM-25859 | The MTU of an SVI cannot be higher than the MTU on the bridge. Changing the MTU on the SVI with NCLU does not update the bridge MTU. The <code>net commit</code> command succeeds even though the MTU is not changed as expected.<br />To work around this issue, change the MTU on all SVIs and the bridge manually in the <code>/etc/network/interfaces</code> file, then apply the change with the <code>ifreload -a</code> command. | 3.7.7-3.7.16, 4.0.0-4.4.5 | |
| <a name="2543096"></a> [2543096](#2543096) <a name="2543096"></a> <br />CM-25815 | When an SVI with a virtual MAC is configured with a layer 2 VNI in an EVPN environment, if you replace the <code>/etc/network/interfaces</code> file with a different file that does not have the SVI and layer 2 VNI configuration, the original virtual MAC is not populated through the EVPN route until FRR is restarted. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542945"></a> [2542945](#2542945) <a name="2542945"></a> <br />CM-25740 | On the Broadcom Maverick switch with a QinQ configuration, the packets coming into the CPU might be tagged incorrectly; for example, 802.1ad + 802.1q tags are expected in the packets but the packets have 802.1q + 802.1q tags. <br />To work around this issue, configure the bridge with <code>bridge-vlan-protocol 802.1ad</code>: <br /><pre><br />cumulus&#64;switch:~$ net add bridge mybridge vlan-protocol 802.1ad <br /></pre>  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542837"></a> [2542837](#2542837) <a name="2542837"></a> <br />CM-25674 | On Mellanox switches, policer iptables are not working as expected. For example, when using a policer with mode KB/MB/GB to rate-limit interfaces, the syntax is accepted but the data plane transfer speed is not affected by the rule.  | 3.7.6-3.7.8, 4.0.0-4.4.5 | 3.7.9-3.7.16|
| <a name="2542305"></a> [2542305](#2542305) <a name="2542305"></a> <br />CM-25400 | If an SVI exists in the configuration before you assign it an IP address, when you do assign the IP address with the NCLU command, the <code>vlan-id</code> and the raw-device bridge stanzas are not added automatically. <br />  | 3.7.6-3.7.16, 4.0.0-4.4.5 | |
| <a name="2542301"></a> [2542301](#2542301) <a name="2542301"></a> <br />CM-25397 | When first creating a bond and enslaving an interface, NCLU hides some of the bridge command suggestions, although they are still accepted. <br /> | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541212"></a> [2541212](#2541212) <a name="2541212"></a> <br />CM-24894 | The <code>maximum-prefix</code> configuration under the IPv4 address family has an optional restart value, which you can configure. This configuration is ignored and, instead of restarting the sessions every x minutes, the peer constantly changes between established and idle due to the prefix count being exceeded.  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2541029"></a> [2541029](#2541029) <a name="2541029"></a> <br />CM-24799 | On switches with the Trident2 ASIC, 802.1Q-encapsulated control plane traffic received on an interface with 802.1AD configured subinterfaces might be dropped. <br />This issue only affects QinQ configurations. <br />  | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540753"></a> [2540753](#2540753) <a name="2540753"></a> <br />CM-24618 | If the interface alias contains a single or double quotation mark, or an apostrophe, the <code>net show configuration</code> commands fail with the following error: <br /><pre> <br />ERROR: No closing quotation <br />See /var/log/netd.log for more details. <br /></pre> <br /> | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540444"></a> [2540444](#2540444) <a name="2540444"></a> <br />CM-24473 | SNMP incorrectly requires engine ID specification. <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540352"></a> [2540352](#2540352) <a name="2540352"></a> <br />CM-24435 | When you use NCLU to configure a route map, the parser allows for glob matching of interfaces for a _match interface_ condition when there can only be a single interface matched. The proper syntax is to use multiple route map clauses, each matching a single interface, instead of a single clause matching multiple interfaces. <br />For example, this command is incorrect: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9-10 <br /></pre> <br />These commands are correct: <br /><pre> <br />net add routing route-map Proxy-ARP permit 25 match interface swp9 <br />net add routing route-map Proxy-ARP permit 30 match interface swp10 <br /></pre> <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540340"></a> [2540340](#2540340) <a name="2540340"></a> <br />CM-24426 | NCLU allows for the configuration of addresses on VRF interfaces, but tab completion for the <code>net add vrf <name></code> command just displays <ENTER>. For example: <br /> <pre> <br /> cumulus&#64;switch:~$ net add vrf mgmt <br /> <ENTER> <br /> </pre> <br /> Tab completion for the <code>net add vrf <name> ip address <address></code> command works correctly.  | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540274"></a> [2540274](#2540274) <a name="2540274"></a> <br />CM-24379 | On the Maverick switch, CPU forwarded packets might be dropped when there is no route to a leaked host route. | 3.7.5-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540204"></a> [2540204](#2540204) <a name="2540204"></a> <br />CM-24350 | When links come up after FRR is started, VRF connected routes do not get redistributed. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540192"></a> [2540192](#2540192) <a name="2540192"></a> <br />CM-24343 | The <code>net del bridge bridge mcsnoop yes</code> command does not return the value to the default of disabled. <br />To work around this issue, use the <code>net add bridge bridge mcsnoop no</code> command to delete the <code>mcsnoop attribute</code> and return to the default value. | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540155"></a> [2540155](#2540155) <a name="2540155"></a> <br />CM-24332 | On the Broadcom switch, when moving configuration from bridged to routed (or toggling from routed to bridged to routed), some traffic is not seen by the kernel. This can cause BGP to not establish on a transit node. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540042"></a> [2540042](#2540042) <a name="2540042"></a> <br />CM-24272 | When you try to configure the VRRP priority and advertisement-interval with NCLU on a traditional mode bridge, the <code>net commit</code> command fails. <br />To work around this issue, use the vtysh command (inside FRR) to change the VRRP priority or advertisement-interval on traditional bridges. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface br0.100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# vrrp 1 advertisement-interval <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540041"></a> [2540041](#2540041) <a name="2540041"></a> <br />CM-24271 | On SVIs in a VLAN-aware bridge, you cannot change the VRRP priority with NCLU. <br />To work around this issue, run the vtysh command inside FRR to change the default priority. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface vlan100 <br />switch(config-if)# vrrp 1 priority 110 <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540040"></a> [2540040](#2540040) <a name="2540040"></a> <br />CM-24270 | Cumulus Linux uses VRRPv3 as the default version, and enables both preempt and accept mode by default. You cannot change these default values with NCLU. To work around this issue, run the vtysh commands (inside FRR) to change the default values. For example: <br /><pre> <br />cumulus&#64;switch:~$ sudo vtysh <br />switch# configure terminal <br />switch(config)# interface swp4 <br />switch(config-if)# vrrp 1 version 2 <br />switch(config-if)# no vrrp 1 preempt <br />switch(config-if)# end <br />switch# write memory <br />switch# exit <br />cumulus&#64;switch:~ <br /></pre> <br /> | 3.7.4-3.7.16, 4.0.0-4.4.5 | |
| <a name="2540031"></a> [2540031](#2540031) <a name="2540031"></a> <br />CM-24262 | NCLU does not honor <code>auto all</code> in the <code>/etc/network/interfaces</code> file and removes the existing configuration if no individual <code>auto <iface></code> lines exist. <br />  | 3.7.3-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539994"></a> [2539994](#2539994) <a name="2539994"></a> <br />CM-24241 | When you try to remove a BGP peer group configuration with NCLU, the command fails but no warning message is shown. For example: <br /><pre> <br />cumulus&#64;switch:~$ net del bgp neighbor fabric peer-group<br />'router bgp 65001' configuration does not have 'neighbor fabric peer-group' <br /></pre> <br />  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539962"></a> [2539962](#2539962) <a name="2539962"></a> <br />CM-24222 | When an LDAP user that does not have NCLU privileges (either in the <code>netshow</code> or <code>netedit</code> group, or in the <code>/etc/netd.conf</code> file) runs an NCLU command, a traceback occurs instead of a permissions error. <br /> | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539670"></a> [2539670](#2539670) <a name="2539670"></a> <br />CM-24035 | On the Edgecore 4610-54P switch, automatic medium-dependent interface crossover (auto-MDIX) stops working on a 100M full duplex interface and does not detect the required cable connection type. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2539124"></a> [2539124](#2539124) <a name="2539124"></a> <br />CM-23825 | The <code>net add interface <interface> ptm-enable</code> command adds <code>no ptm-enable</code> for that interface in the <code>frr.conf</code> file. <br />Running the <code>net add</code> or the <code>net del</code> command does not remove <code>no ptm-enable</code> from the <code>frr.conf</code> file. You have to remove it manually using vtysh. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538790"></a> [2538790](#2538790) <a name="2538790"></a> <br />CM-23665 | NCLU automatically adds the VLAN ID (for the layer 3 VNI/SVI) to the bridge when you run <code>net add vxlan <layer3-vni> bridge access <vlan></code>. This configuration breaks network connectivity in an EVPN symmetric routing configuration using MLAG. <br />To restore connectivity, remove the VLAN ID from the bridge.  | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538590"></a> [2538590](#2538590) <a name="2538590"></a> <br />CM-23584 | When you configure a control plane ACL to define permit and deny rules destined to the local switch, NCLU programs the control plane ACL rules into the FORWARD chain. <br /> | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538562"></a> [2538562](#2538562) <a name="2538562"></a> <br />CM-23570 | On an RMP/1G-T switch, when you remove <code>link-speed 100</code> with the NCLU command or by editing the <code>etc/network/interfaces</code> file to revert the 100M interface to the default (1G auto), the interface fails to recover and does not come back up.<br />After you remove the link-speed, <code>ethtool</code> shows the advertised link modes as not reported and Speed/Duplex as unknown.<br />To work around this issue and bring the interface back up, either restart <code>switchd</code> or use ethtool to configure the speed, advertised, duplex or MDI-X settings. <br />Note: The advertised link mode gets set incorrectly if you include 1000baseT/Half. The port will come up successfully at 1G. | 3.7.2-3.7.16, 4.0.0-4.4.5 | |
| <a name="2538294"></a> [2538294](#2538294) <a name="2538294"></a> <br />CM-23417 | If you use NCLU to create an iBGP peering across the peer link, running the <code>net add bgp l2vpn evpn neighbor peerlink.4094 activate</code> command creates a new eBGP neighborship when one has already been configured for iBGP. This is unexpected; the existing iBGP configuration is valid.  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537699"></a> [2537699](#2537699) <a name="2537699"></a> <br />CM-23075 | There is a limitation on the number of SVI interfaces you can specify as DHCP relay interfaces in the <code>/etc/default/isc-dhcp-relay</code> file. For example, 1500 SVI interfaces causes the <code>dhcrelay</code> service to exit without a core file and logs similar to the following are generated for the interfaces: <br /><pre> <br />2018-11-10T23:35:30.992370-08:00 Dev dhcrelay: Listening on LPF/vlan.101/a0:00:00:00:00:51 <br />2018-11-10T23:35:30.993472-08:00 Dev dhcrelay: Sending on LPF/vlan.101/a0:00:00:00:00:51 <br /></pre> <br />Eventually the <code>dhcrelay</code> service stops. <br /> | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2537544"></a> [2537544](#2537544) <a name="2537544"></a> <br />CM-23021 | When you run the <code>mstpctl</code> command, you might see the bridge-port state as blocking when it is actually disabled. You might see the same incorrect bridge-port state when other programs or tools use the output of <code>mstpctl</code>; for example, SNMP output from the BRIDGE-MIB. | 3.7.1-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536576"></a> [2536576](#2536576) <a name="2536576"></a> <br />CM-22554 | If you try to bring down several members of a bond remotely at the same time, the link state of one of the interfaces might not transition correctly to the down state; however, all links show down in hardware. <br />  | 4.0.0-4.4.5 | |
| <a name="2536384"></a> [2536384](#2536384) <a name="2536384"></a> <br />CM-22386 | The BFD packet redirection logic used by OVSDB server high availability mode redirects BUM packets across the peer link. The iptables rule for redirection does differentiate between BFD and non-BFD VXLAN inner packets because the service node sends all frames with its own IP address as the tunnel source IP address. The VXLAN encapsulated BUM packets do not get forwarded to the CPU and do not go through the iptable redirection rule; only VXLAN encapsulated BFD packets get forwarded to the CPU due to the inner MAC DA lookup in hardware. <br />  | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2536256"></a> [2536256](#2536256) <a name="2536256"></a> <br />CM-22301 | For an unresolved address, the IPROUTER default policer rule has been modified to _not_ match on packets exiting a TUNNEL and headed to the CPU to resolve the address via ARP. As a result, the following default rule no longer matches TUNNEL ingress packets. <br /><pre> <br />A $INGRESS_CHAIN --in-interface $INGRESS_INTF -m addrtype --dst-type <br />IPROUTER -j POLICE --set-mode pkt --set-rate 400 --set-burst 100 <br /></pre> <br />These packets are now policed by catch all rules. <br />To work around this issue, the VPORT value on a TRIDENT switch must be changed from binary 011 to 100. <br /> | 4.0.0-4.4.5 | |
| <a name="2536242"></a> [2536242](#2536242) <a name="2536242"></a> <br />CM-22287 | On the EdgeCore AS7712 (Tomahawk) switch running in atomic mode, when a layer 3 ECMP path is brought down, traffic traversing the path stops working for about four seconds. When the switch is changed to non-atomic mode, the delay is less than one second. This issue is seen across OSPF and static ECMP routes.  | 4.0.0-4.4.5 | |
| <a name="2536179"></a> [2536179](#2536179) <a name="2536179"></a> <br />CM-22228 | On switches with the Trident 2+ ASIC, counters associated with VLANs and VRFs are not working. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535986"></a> [2535986](#2535986) <a name="2535986"></a> <br />CM-22041 | At a high CPU transmit traffic rate (for example, if there is unexpected CPU generated flooding or replication in software), when the ASIC packet driver cannot keep up with the transmit rate because there are no free DMA buffers, it can back pressure by suspending the switch port transmit queues. This can fill up the application socket buffers resulting in <code>No buffer space available</code> error messages on protocol sockets.<br />When the driver recovers, it automatically resumes the transmit queues. In most cases these error messages are transient. In rare cases, the hardware queues might get stuck, which you can recover with a <code>switchd</code> restart. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535965"></a> [2535965](#2535965) <a name="2535965"></a> <br />CM-22020 | On the Trident3 switch, static PIM with IIF based on a layer 2 bridge does not work reliably. PIM Join via signaling is required for IPMC to work properly.<br />To work around this issue, use dynamic signaling (joins) to manage IP multicast traffic. | 3.7.0-3.7.16, 4.0.0-4.4.5 | |
| <a name="2535723"></a> [2535723](#2535723) <a name="2535723"></a> <br />CM-21785 | The source address of the ICMPv6 time exceeded message (traceroute hop) is sourced from the wrong VRF when the traceroute target resides on the same switch but in a different VRF. | 4.0.0-4.4.5 | |
| <a name="2535605"></a> [2535605](#2535605) <a name="2535605"></a> <br />CM-21667 | FRR does not add BGP <code>ttl-security</code> to either the running configuration or to the <code>/etc/frr/frr.conf</code> file when configured on a peer group instead of a specific neighbor. <br />To work around this issue, add <code>ttl-security</code> to individual neighbors instead of the peer group. | 4.0.0-4.4.5 | |
| <a name="2535209"></a> [2535209](#2535209) <a name="2535209"></a> <br />CM-21278 | The <code>net show lldp</code> command sometimes shows the port description in the <code>Remote Port</code> field. The <code>net show interface</code> command shows the correct value in the <code>Remote Host</code> field.<br />To work around this issue, use <code>net show interface</code> command for LLDP output when connected to Cisco equipment. | 3.7.5-3.7.10, 4.0.0-4.4.5 | 3.7.11-3.7.16|
| <a name="2534734"></a> [2534734](#2534734) <a name="2534734"></a> <br />CM-20813 | Span rules matching the out-interface as a bond do not mirror packets. | 4.0.0-4.4.5 | |
| <a name="2533691"></a> [2533691](#2533691) <a name="2533691"></a> <br />CM-19788 | If you configure a VLAN under a VLAN-aware bridge and create a subinterface of the same VLAN on one of the bridge ports, the bridge and interface compete for the same VLAN and if the interface is flapped, it stops working. Correcting the configuration and running the <code>ifreload</code> command does not resolve the conflict. <br />To work around this issue, correct the bridge VIDs and restart <code>switchd</code> or delete the subinterface.  | 3.7.12-3.7.16, 4.0.0-4.4.5 | |
| <a name="2533625"></a> [2533625](#2533625) <a name="2533625"></a> <br />CM-19724 | PIM and MSDP entries are set to the internal COS value of 6 so they are grouped together with the bulk traffic priority group in the default <code>traffic.conf</code> file. However, PIM, IGMP, and MSDP are considered control-plane and should be set to the internal COS value of 7.  | 4.0.0-4.4.5 | |
| <a name="2533337"></a> [2533337](#2533337) <a name="2533337"></a> <br />CM-19454 | When you use NCLU to bring a bond admin down (<code>net add bond <bond> link down</code>), the bond interface goes into admin down state but the switch ports enslaved to the bond remain UP. If you are using bond-lacp-bypass-allow or balance-xor mode, the host might continue to send traffic. This traffic will be dropped because although the bond slaves are UP, they are not members of the bridge.<br />To work around this issue, use the <code>sudo ifdown <bondname></code> command. | 4.0.0-4.4.5 | |
| <a name="2531273"></a> [2531273](#2531273) <a name="2531273"></a> <br />CM-17494 | In certain cases, a peer device sends an ARP request from a source IP address that is not on the connected subnet and the switch creates a STALE neighbor entry. Eventually, the switch attempts to keep the entry fresh and sends ARP requests to the host. If the host responds, the switch has REACHABLE neighbor entries for hosts that are not on the connected subnet. <br />To work around this issue, change the value of <code>arp_ignore</code> to 2. See &#91;Address Resolution Protocol in the Cumulus Linux user guide\|https://docs.cumulusnetworks.com/cumulus-linux/Layer-3/Address-Resolution-Protocol-ARP/&#93; for more information. | 4.0.0-4.4.5 | |

### Fixed Issues in 4.4.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2828927"></a> [2828927](#2828927) <a name="2828927"></a> <br /> | An unexpected software system shutdown can occur due to a thermal zones issue in the <code>hw-management</code> package. The following message might appear in <code>/var/log/syslog</code> before the shutdown:<pre>thermal thermal_zoneX: critical temperature reached (33 C), shutting down</pre> | 4.3.0-4.3.1 | |
| <a name="2734173"></a> [2734173](#2734173) <a name="2734173"></a> <br /> | The Mellanox 100G transceiver MMA1L30-CM Rev A3 is not recognized on the SN4600 switch even though the link is up. The <code>ethtool</code> output shows the error <code>Cannot get Module EEPROM data: Invalid argument</code>. |  | |
| <a name="2728138"></a> [2728138](#2728138) <a name="2728138"></a> <br />CM-33237 | CVE-2020-36221, CVE-2020-36222, CVE-2020-36223, CVE-2020-36224, CVE-2020-36225, CVE-2020-36226, CVE-2020-36227, CVE-2020-36228, CVE-2020-36229, CVE-2020-36230:  Several vulnerabilities were discovered in OpenLDAP, a free implementation of the Lightweight Directory Access Protocol. An unauthenticated remote attacker can take advantage of these flaws to cause a denial of service (slapd daemon crash, infinite loops) via specially crafted packets.<br />Vulnerable: <= 2.4.47+dfsg-3+deb10u4<br />Fixed: 2.4.47+dfsg-3+deb10u5 | 4.0.0-4.3.0 | |
| <a name="2728134"></a> [2728134](#2728134) <a name="2728134"></a> <br /> | CVE-2021-27212: A vulnerability in the Certificate List Exact Assertion validation was discovered in OpenLDAP, a free implementation of the Lightweight Directory Access Protocol. An unauthenticated remote attacker can take advantage of this flaw to cause a denial of service (slapd daemon crash) via specially crafted packets.<br />Vulnerable: <= 2.4.47+dfsg-3+deb10u5<br />Fixed: 2.4.47+dfsg-3+deb10u6 | 4.0.0-4.3.1 | |
| <a name="2695526"></a> [2695526](#2695526) <a name="2695526"></a> <br /> | CVE-2021-3580 CVE-2021-20305: Multiple vulnerabilities were discovered in nettle, a low level cryptographic library, which could result in denial of service (remote crash in RSA decryption via specially crafted ciphertext, crash on ECDSA signature verification) or incorrect verification of ECDSA signatures<br />Vulnerable: 3.4.1-1Fixed: 3.4.1-1+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2691506"></a> [2691506](#2691506) <a name="2691506"></a> <br /> | In a VRRP configuration, BGP unnumbered sessions for VRFs fail to establish after a networking restart. | 4.3.0 | |
| <a name="2690017"></a> [2690017](#2690017) <a name="2690017"></a> <br /> | When you remove a bond member, then re-add it, you might see a <code>Parameter Error</code> failure in <code>{syslog</code> and <code>switchd.log</code>:<pre>sx_sdk: LAG: Can't add port (0x00012400) to lag. Port has vports configured for it (Parameter Error)<br />switchd&#91;4529&#93;: hal_mlx_bond.c:582 ERR bond32 member swp32 add failed: Parameter Error</pre>To work around this issue, restart <code>switchd</code>. | 4.3.0-4.3.1 | |
| <a name="2687159"></a> [2687159](#2687159) <a name="2687159"></a> <br /> | CVE-2018-25009 CVE-2018-25010 CVE-2018-25011 CVE-2018-25012 CVE-2018-25013 CVE-2018-25014 CVE-2020-36328 CVE-2020-36329 CVE-2020-36330 CVE-2020-36331 CVE-2020-36332: Multiple vulnerabilities were discovered in libwebp, the implementation of the WebP image format, which could result in denial of service, memory disclosure or potentially the execution of arbitrary code if malformed images are processed<br />Vulnerable: 0.6.1-2Fixed: 0.6.1-2+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2684418"></a> [2684418](#2684418) <a name="2684418"></a> <br /> | If you configure items in a VRF that has been created, deleted, then re-created, <code>staticd</code> crashes. | 4.3.0 | |
| <a name="2682971"></a> [2682971](#2682971) <a name="2682971"></a> <br /> | CVE-2020-12762: integer overflow in the json-c JSON library, which could result in denial of service or potentially the execution of arbitrary code if large malformed JSON files are processed<br />Vulnerable: 0.12.2+cl4u1Fixed: 0.12.2+cl4.4.0u1 | 4.0.0-4.3.1 | |
| <a name="2682780"></a> [2682780](#2682780) <a name="2682780"></a> <br /> | Adding a route map configuration after a MAC access list configuration line causes the route map configuration to be applied incorrectly<br />To work around this issue, add the MAC access list configuration to the end of the <code>/etc/frr/frr.conf</code> file. | 4.2.0-4.3.1 | |
| <a name="2679948"></a> [2679948](#2679948) <a name="2679948"></a> <br /> | CVE-2021-25217: parsing of stored leases by dhclient or dhcpd has an incorrect length check that may cause a crash<br />Vulnerable: <= 4.3.1-6-cl3.7.14u1Fixed: 4.3.1-6-cl3.7.16u1 | 3.7.0-3.7.15, 4.0.0-4.3.1 | |
| <a name="2679936"></a> [2679936](#2679936) <a name="2679936"></a> <br /> | Following an event that causes the peer link bond MAC address to change, such as a slave port state change, MLAG interfaces might be suspended due to a <code>peer-ip-mismatch</code>.  This behavior is seen when you use a <code>clagd-peer-ip linklocal</code> configuration. | 4.3.0 | |
| <a name="2677049"></a> [2677049](#2677049) <a name="2677049"></a> <br />CM-33247 | CVE-2020-25681 CVE-2020-25682 CVE-2020-25683 CVE-2020-25684 CVE-2020-25685 CVE-2020-25686 CVE-2020-25687: Several vulnerabilities in dnsmasq, a small caching DNS proxy and DHCP/TFTP server, could result in denial of service, cache poisoning or the execution of arbitrary code. | 4.0.0-4.3.0 | |
| <a name="2671667"></a> [2671667](#2671667) <a name="2671667"></a> <br /> | CVE-2021-23017: off-by-one in Nginx, a high-performance web and reverse proxy server, which couldresult in denial of service and potentially the execution of arbitrary code<br />Vulnerable: <= 1.14.2-2+deb10u3Fixed: 1.14.2-2+deb10u4 | 4.0.0-4.3.1 | |
| <a name="2669873"></a> [2669873](#2669873) <a name="2669873"></a> <br /> | In an EVPN multihoming configuration, ARP/ND traffic coming in one switch is being sent back out the originating bond on the other switches in the ES on remote PE switches. Normally Split Horizon filtering prevents this kind of traffic at the remote PE.  | 4.3.0-4.3.1 | |
| <a name="2669073"></a> [2669073](#2669073) <a name="2669073"></a> <br /> | On Spectrum, Spectrum-2, and Spectrum-3 switches, the <code>l1-show</code> command shows the wrong data when the MST service is stopped<br />To work around this issue, start the MST service with the <code>sudo mst start</code> command. | 4.3.0-4.3.1 | |
| <a name="2666838"></a> [2666838](#2666838) <a name="2666838"></a> <br /> | CVE-2021-31535: missing length validation in various functions provided by libx11, the X11 client-side library, allow to inject X11 protocol commands on X clients, leading to authentication bypass, denial of service or potentially the execution of arbitrary code<br />Vulnerable: <= 1.6.7-1+deb10u1Fixed: 1.6.7-1+deb10u2 | 4.0.0-4.3.1 | |
| <a name="2663479"></a> [2663479](#2663479) <a name="2663479"></a> <br /> | CVE-2021-3520: integer overflow flaw in lz4, a fast LZ compression algorithm library, resulting in memory corruption<br />Vulnerable: 1.8.3-1Fixed: 1.8.3-1+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2656527"></a> [2656527](#2656527) <a name="2656527"></a> <br /> | CVE-2020-18032: A buffer overflow was discovered in Graphviz, which could potentially result in the execution of arbitrary code when processing a malformed file<br />Vulnerable: 2.40.1-6Fixed: 2.40.1-6+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2648658"></a> [2648658](#2648658) <a name="2648658"></a> <br /> | If you try to use more than one percent of <code>max-ecmp-nexthops</code>, you get an error indicating a failure. | 3.7.15-4.3.1 | |
| <a name="2648587"></a> [2648587](#2648587) <a name="2648587"></a> <br />CM-29978 | The received PVST BPDU for a VLAN is flooded even though the ingress port doesn't have the VLAN tagged. | 3.7.8-3.7.14.2, 4.0.0-4.3.0 | |
| <a name="2644072"></a> [2644072](#2644072) <a name="2644072"></a> <br /> | When you stop <code>clagd</code> on the MLAG primary switch (for example, when you reboot the switch), in rare conditions the MLAG secondary switch might fail to properly assert itself as the MLAG primary switch. To work around this issue, change the primary designation by configuring the <code>clagd</code> priorities to ensure that you only reboot a switch that is in the MLAG secondary role. | 3.7.15, 4.3.0 | |
| <a name="2644053"></a> [2644053](#2644053) <a name="2644053"></a> <br /> | The following vulnerabilities have been announced in BIND:CVE-2021-25214: a malformed incoming IXFR transfer could trigger an assertion failure in named, resulting in denial of service<br />CVE-2021-25215: named could crash when a DNAME record placed in the ANSWER section during DNAME chasing turned out to be the final answer to a client query<br />CVE-2021-25216: the SPNEGO implementation used by BIND is prone to a buffer overflow vulnerability. This update switches to use the SPNEGO implementation from the Kerberos libraries<br />Vulnerable: <= 9.11.5.P4+dfsg-5.1+deb10u4Fixed: 9.11.5.P4+dfsg-5.1+deb10u5 | 4.0.0-4.3.1 | |
| <a name="2643822"></a> [2643822](#2643822) <a name="2643822"></a> <br />None | On a Mellanox Spectrum-2 switch, after running the <code>systemctl restart networking service</code> command on the MLAG primary switch, the secondary switch also closes its ports. To work around this issue, run the <code>ifreload -a</code> command to restart networking. | 4.2.1-4.3.0 | |
| <a name="2638106"></a> [2638106](#2638106) <a name="2638106"></a> <br />None | The NCLU <code>net show route vrf <VRF> summary</code> and vtysh <code>show &#91;ip\|ipv6&#93; route vrf <VRF> summary</code> commands do not return any output. | 4.3.0 | |
| <a name="2637554"></a> [2637554](#2637554) <a name="2637554"></a> <br />None | The <code>cl-acltool</code> takes a significant amount of time to run, which can slow down automation scripts. | 4.2.0-4.3.0 | |
| <a name="2633061"></a> [2633061](#2633061) <a name="2633061"></a> <br /> | The following vulnerability affects the libgstreamer-plugins-base1.0-0 package.  There is no CVE yet; the Debian advisory number is DSA-4903-1<br />Multiple vulnerabilities were discovered in plugins for the GStreamer media framework, which may result in denial of service or potentially the execution of arbitrary code if a malformed media file is opened<br />Vulnerable: 1.14.4-2Fixed: 1.14.4-2+deb10u1 | 4.0.0-4.3.0 | |
| <a name="2632379"></a> [2632379](#2632379) <a name="2632379"></a> <br /> | When you upgrade the switch with <code>apt-get upgrade</code>, the <code>kexec-tools</code> package is not installed, which causes the Smart System Manager fast restart mode to work incorrectly. | 4.3.0-4.3.1 | |
| <a name="2628693"></a> [2628693](#2628693) <a name="2628693"></a> <br /> | After an apt upgrade, the OPTIONS configuration line in <code>/etc/default/isc-dhcp-relay</code> might be removed. To work around this issue, reconfigure the desired options in the file after the upgrade completes. | 3.7.12-3.7.15, 4.2.1-4.3.0 | |
| <a name="2628588"></a> [2628588](#2628588) <a name="2628588"></a> <br /> | After rebooting a switch with PFC configurations, non-PFC enabled ports might not send or receive traffic correctly. |  | |
| <a name="2628513"></a> [2628513](#2628513) <a name="2628513"></a> <br /> | CVE-2020-12695: hostapd does not properly handle UPnP subscribe messages under certain conditions, allowing an attacker to cause a denial of service<br />Vulnerable: <= 2.8.0-cl3.7.15u2Fixed: 2.8.0-cl3.7.15u3 | 3.7.14-3.7.14.2, 4.3.0-4.3.1 | |
| <a name="2617000"></a> [2617000](#2617000) <a name="2617000"></a> <br /> | CVE-2021-26933 CVE-2021-27379Multiple vulnerabilities have been discovered in the Xen hypervisor, which could result in denial of service, privilege escalation or memory disclosure<br />Vulnerable: < 4.11.4+99-g8bce4698f6-1Fixed: 4.11.4+99-g8bce4698f6-1 | 4.0.0-4.3.1 | |
| <a name="2616998"></a> [2616998](#2616998) <a name="2616998"></a> <br /> | CVE-2021-23358: missing input sanitising in the template() function of the Underscore JavaScript library could result in the execution of arbitrary code<br />Vulnerable: 1.9.1~dfsg-1Fixed: 1.9.1~dfsg-1+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2616987"></a> [2616987](#2616987) <a name="2616987"></a> <br /> | CVE-2020-6851 CVE-2020-8112 CVE-2020-15389 CVE-2020-27814 CVE-2020-27823 CVE-2020-27824 CVE-2020-27841 CVE-2020-27842 CVE-2020-27843 CVE-2020-27845: Multiple vulnerabilities have been discovered in openjpeg2, the open-source JPEG 2000 codec, which could result in denial of service or the execution of arbitrary code when opening a malformed image<br />Vulnerable: <= 2.3.0-2+deb10u1Fixed: 2.3.0-2+deb10u2 | 4.0.0-4.3.1 | |
| <a name="2616976"></a> [2616976](#2616976) <a name="2616976"></a> <br /> | Multiple vulnerabilities were discovered in cURL, an URL transfer library:CVE-2020-8169: partial password leak to DNS servers<br />CVE-2020-8177: malicious server could cause curl -J -i to overwrite a local file<br />CVE-2020-8231: libcurl with CURLOPT_CONNECT_ONLY information leak due to wrong connection<br />CVE-2020-8284: PASV response could trick curl into connecting back to an arbitrary IP address and port<br />CVE-2020-8285: libcurl could run out of stack space using FTP wildcard matching (CURLOPT_CHUNK_BGN_FUNCTION)<br />CVE-2020-8286: failure to verify that OSCP response matches intended certificate<br />CVE-2021-22876: libcurl did not strip user credentials from URL when populating Referer HTTP request header<br />CVE-2021-22890: libcurl using HTTPS proxy with TLS1.3 could use the wrong session ticket and bypass server TLS certificate check<br />Vulnerable: <= 7.64.0-4+deb10u1Fixed: 7.64.0-4+deb10u2 | 4.0.0-4.3.1 | |
| <a name="2616967"></a> [2616967](#2616967) <a name="2616967"></a> <br /> | CVE-2021-28957: lxml, a Python binding for the libxml2 and libxslt libraries, did not properly sanitize its input. This would allow a malicious user to mount a cross-site scripting attack<br />Vulnerable: <= 4.3.2-1+deb10u2Fixed: 4.3.2-1+deb10u3 | 4.0.0-4.3.1 | |
| <a name="2616964"></a> [2616964](#2616964) <a name="2616964"></a> <br /> | CVE-2021-27291: Pygments, a syntax highlighting package written in Python 3, used regular expressions which could result in denial of service<br />Vulnerable: <= 2.3.1+dfsg-1+deb10u1Fixed: 2.3.1+dfsg-1+deb10u2 | 4.0.0-4.3.1 | |
| <a name="2616954"></a> [2616954](#2616954) <a name="2616954"></a> <br /> | CVE-2021-3449: A NULL pointer dereference was found in the signature_algorithms processing in OpenSSL, a Secure Sockets Layer toolkit, which could result in denial of service<br />Vulnerable: <= 1.1.1d-0+deb10u5Fixed: 1.1.1d-0+deb10u6 | 4.0.0-4.3.1 | |
| <a name="2614016"></a> [2614016](#2614016) <a name="2614016"></a> <br /> | The switch firmware incorrectly identifies Lenovo LR4 transceivers (part number 00YD278) and does not set the laser levels properly, which can prevent the link from coming up or might cause the transceiver to be identified as a 1G module. | 4.2.0-4.3.1 | |
| <a name="2582639"></a> [2582639](#2582639) <a name="2582639"></a> <br /> | On NVIDIA Spectrum switches, BUM traffic might be dropped during VXLAN decapsulation in an EVPN multihoming environment after multiple PIM uplink interfaces flap. | 4.3.0-4.3.1 | |
| <a name="2578872"></a> [2578872](#2578872) <a name="2578872"></a> <br /> | CVE-2021-20270: It was discovered that Pygments, a syntax highlighting package written in Python, could be forced into an infinite loop, resulting in denial of service<br />Vulnerable: 2.3.1+dfsg-1Fixed: 2.3.1+dfsg-1+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2578870"></a> [2578870](#2578870) <a name="2578870"></a> <br /> | CVE-2020-35523 CVE-2020-35524: Two vulnerabilities have been discovered in the libtiff library and the included tools, which may result in denial of service or the execution of arbitrary code if malformed image files are processed<br />Vulnerable: <= 4.1.0+git191117-2~deb10u1Fixed: 4.1.0+git191117-2~deb10u2 | 4.0.0-4.3.1 | |
| <a name="2578845"></a> [2578845](#2578845) <a name="2578845"></a> <br />CM-30832 | The Mellanox SN2700 and SN2410 switch intermittently reports PSU fan state changes with <code>Unable to read from device/fan1_input/pwm1</code> syslog messages. | 3.7.11-3.7.14, 4.1.1-4.3.0 | |
| <a name="2577499"></a> [2577499](#2577499) <a name="2577499"></a> <br /> | QSFP+ 40G optics do not work on Spectrum platforms. | 4.3.0-4.3.1 | |
| <a name="2566878"></a> [2566878](#2566878) <a name="2566878"></a> <br /> | CVE-2021-27803: A vulnerability was discovered in how p2p/p2p_pd.c in wpa_supplicant before 2.10 processes P2P (Wi-Fi Direct) provision discovery requests. It could result in denial of service or other impact (potentially execution of arbitrary code), for an attacker within radio range. | 3.7.14-3.7.14.2, 4.0.0-4.3.1 | |
| <a name="2564534"></a> [2564534](#2564534) <a name="2564534"></a> <br /> | Several vulnerabilities have been discovered in the GRUB2 bootloader<br />CVE-2020-14372: It was discovered that the acpi command allows a privileged user to load crafted ACPI tables when Secure Boot is enabled<br />CVE-2020-25632: A use-after-free vulnerability was found in the rmmod command<br />CVE-2020-25647: An out-of-bound write vulnerability was found in the grub_usb_device_initialize() function, which is called to handle USB device initialization<br />CVE-2020-27749: A stack buffer overflow flaw was found in grub_parser_split_cmdline<br />CVE-2020-27779: It was discovered that the cutmem command allows a privileged user to remove memory regions when Secure Boot is enabled<br />CVE-2021-20225: A heap out-of-bounds write vulnerability was found in the short form option parser<br />CVE-2021-2023: A heap out-of-bound write flaw was found caused by mis-calculation of space required for quoting in the menu rendering. | 4.0.0-4.3.1 | |
| <a name="2556814"></a> [2556814](#2556814) <a name="2556814"></a> <br />CM-33419 | When ARP suppression is enabled, RARP packets sometimes get dropped and are not flooded by the local VTEP. <br />To work around this issue, disable ARP suppression. | 3.7.14-3.7.14.2, 4.3.0 | |
| <a name="2556781"></a> [2556781](#2556781) <a name="2556781"></a> <br />CM-33398 | CVE-2021-0326: An issue has been found in wpa, a set of tools to support WPA and WPA2 (IEEE 802.11i). Missing validation of data can result in a buffer over-write, which might lead to a DoS of the wpa_supplicant process or potentially arbitrary code execution.<br />Vulnerable: <= 2.8.0-cl3.7.14u1, <= 2.8.0-cl4.2.1u1 | 3.7.14-3.7.14.2, 4.0.0-4.3.1 | |
| <a name="2556777"></a> [2556777](#2556777) <a name="2556777"></a> <br />CM-33395 | CVE-2021-26937: A  flaw in the handling of combining characters in screen, a terminal multiplexer with VT100/ANSI terminal emulation can result in denial of service, or potentially the execution of arbitrary code via a specially crafted UTF-8 character sequence.<br />Vulnerable: 4.6.2-3<br />Fixed: 4.6.2-3+deb10u1 | 4.0.0-4.3.1 | |
| <a name="2556774"></a> [2556774](#2556774) <a name="2556774"></a> <br />CM-33393 | DSA-4859-1 (no CVE): zstd, a compression utility, was vulnerable to a race condition: it temporarily exposed, during a very short timeframe, a world-readable version of its input even if the original file had restrictive permissions.<br />Vulnerable: <= 1.3.8+dfsg-3+deb10u1<br />Fixed: 1.3.8+dfsg-3+deb10u2 | 4.0.0-4.3.0 | |
| <a name="2556762"></a> [2556762](#2556762) <a name="2556762"></a> <br />CM-33385 | In a configuration with both traditional and vlan-aware bridges, the VLAN membership check on a vlan-aware switch does not drop PVST BPBUs that come from a traditional bridge. | 3.7.14-3.7.14.2, 4.0.0-4.3.0 | |
| <a name="2556730"></a> [2556730](#2556730) <a name="2556730"></a> <br />CM-33359 | CVE-2020-8625: A buffer overflow vulnerability was discovered in the SPNEGO implementation affecting the GSSAPI security policy negotiation in BIND, a DNS server implementation, which could result in denial of service (daemon crash), or potentially the execution of arbitrary code.<br />Vulnerable: <= 9.11.5.P4+dfsg-5.1+deb10u2<br />Fixed: 9.11.5.P4+dfsg-5.1+deb10u3 | 4.0.0-4.3.1 | |
| <a name="2556690"></a> [2556690](#2556690) <a name="2556690"></a> <br />CM-33334 | The following vulnerabilities have been announced in the openssl packages:<br />CVE-2021-23840: Calls to EVP_CipherUpdate, EVP_EncryptUpdate and EVP_DecryptUpdate may overflow the output length argument in some cases where the input length is close to the maximum permissable length for an integer on the platform. In such cases the return value from the function call will be 1 (indicating success), but the output length value will be negative. This could cause applications to behave incorrectly or crash.<br />CVE-2021-23841: The OpenSSL public API function X509_issuer_and_serial_hash() attempts to create a unique hash value based on the issuer and serial number data contained<br />within an X509 certificate. However it fails to correctly handle any errors that may occur while parsing the issuer field (which might occur if the issuer field is maliciously constructed). This may subsequently result in a NULL pointer deref and a crash leading to a potential denial of service attack.<br />CVE-2019-1551: There is an overflow bug in the x64_64 Montgomery squaring procedure used in exponentiation with 512-bit moduli. No EC algorithms are affected. Analysis suggests that attacks against 2-prime RSA1024, 3-prime RSA1536, and DSA1024 as a result of this defect would be very difficult to perform and are not believed likely. Attacks against DH512 are considered just feasible. However, for an attack the target would have to re-use the DH512 private key, which is not recommended anyway. Also applications directly using the low level API BN_mod_exp may be affected if they use BN_FLG_CONSTTIME.<br />Vulnerable: <= 1.1.1d-0+deb10u4<br />Fixed: 1.1.1d-0+deb10u5 | 4.0.0-4.3.0 | |
| <a name="2556658"></a> [2556658](#2556658) <a name="2556658"></a> <br />CM-33315 | CVE-2020-35498: A vulnerability was found in openvswitch. A limitation in the implementation of userspace packet parsing can allow a malicious user to send a specially crafted packet causing the resulting megaflow in the kernel to be too wide, potentially causing a denial of service. The highest threat from this vulnerability is to system availability<br />Vulnerable: <= 2.8.90-1-cl4u5Fixed: 2.8.90-1-cl4u6, 2.8.90-1-cl4.4.0u1, 2.8.90-1-cl5.0.0u8 | 4.0.0-4.3.1 | |
| <a name="2556568"></a> [2556568](#2556568) <a name="2556568"></a> <br />CM-33283 | DSA-4850-1 (no CVE): libzstd adds read permissions to files while being compressed or uncompressed.<br />Vulnerable: 1.3.8+dfsg-3<br />Fixed: 1.3.8+dfsg-3+deb10u1 | 4.0.0-4.3.0 | |
| <a name="2556499"></a> [2556499](#2556499) <a name="2556499"></a> <br />CM-33258 | Cumulus Linux does not support bond members at 200G or greater. | 4.0.0-4.3.0 | |
| <a name="2554797"></a> [2554797](#2554797) <a name="2554797"></a> <br />CM-32286 | On the Mellanox SN3700C switch, PIM multicast packets are duplicated at the egress VTEP. | 4.2.0-4.3.0 | |
| <a name="2554299"></a> [2554299](#2554299) <a name="2554299"></a> <br />CM-31962 | In a VRRP configuration, BGP unnumbered sessions for VRFs fail to establish after a networking restart. | 4.2.0-4.3.1 | |
| <a name="2550704"></a> [2550704](#2550704) <a name="2550704"></a> <br /> | On the Mellanox SN3420 switch, 25G SR optics only link up in force mode. | 4.3.0-4.3.1 | |
| <a name="2549371"></a> [2549371](#2549371) <a name="2549371"></a> <br />CM-29309 | When Optimized Multicast Flooding (OMF) is enabled with the <code>bridge.optimized_mcast_flood = TRUE</code> setting in the <code>/etc/cumulus/switchd.conf</code> file, the switch continues to flood IPv6 multicast traffic to all slave ports when there is no MLD join receive. | 3.7.11-4.3.1 | |
| <a name="2545239"></a> [2545239](#2545239) <a name="2545239"></a> <br />CM-27099 | On the Mellanox switch with the Spectrum-2 ASIC, Precision Time Protocol (PTP) is not currently supported.  | 4.0.0-4.3.1 | |

