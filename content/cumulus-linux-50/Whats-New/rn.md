---
title: Cumulus Linux 5.0 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "5.0"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-50" >}}
## 5.0.1 Release Notes
### Open Issues in 5.0.1

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3647426"></a> [3647426](#3647426) <a name="3647426"></a> <br />None | If BGP <code>remote-as</code> is set to an integer and you try to configure the <code>local-as</code> for a BGP instance, you see the following error:<pre>% AS specified for local as is the same as the remote as and this is not allowed<br /></pre>This configuration is not allowed; it is considered to be eBGP and local preference is not advertised. | 5.0.0-5.5.1 | 4.3.2-4.4.5, 5.6.0|
| <a name="3585467"></a> [3585467](#3585467) <a name="3585467"></a> <br /> | NVUE and <code>ip link</code> show traditional bridge VLAN subinterface counts incorrectly. The ingress (Rx) count increments correctly but the egress (Tx) count does not increment. This issues occurs because the hardware does not support transmit counters for a VLAN subinterface; therefore, no statistics from the hardware are updated. Statistics for software forwarded packets show correctly. | 5.0.0-5.6.0 | |
| <a name="3560622"></a> [3560622](#3560622) <a name="3560622"></a> <br /> | When you configure a route distinguisher (RD) or a route target (RT) manually for layer 2 VNIs, type-1 routes are not properly updated, type-1 EVI routes with the old RD are not properly withdrawn, and type-1 ES routes do not have the corresponding layer 2 VNI route target updated. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3554231"></a> [3554231](#3554231) <a name="3554231"></a> <br />None | CVE-2023-38408: The PKCS#11 feature in ssh-agent in OpenSSH before 9.3p2 has an insufficiently trustworthy search path, leading to remote code execution if an agent is forwarded to an attacker-controlled system. (Code in /usr/lib is not necessarily safe for loading into ssh-agent.) NOTE: this issue exists because of an incomplete fix for CVE-2016-10009<br />Mitigation: Do not use ssh-agent forwarding (the man page for ssh_config says that "agent forwarding should be enabled with caution"), or start the ssh-agent program with the -P option to allow only specific PKCS#11 libraries (or none with -P '')<br />For Cumulus Linux 4.3.2, the /usr/bin/ssh-agent program has all permissions turned off (chmod 0) to prevent its execution if a vulnerable version is detected. | 4.0.0-4.3.1, 5.0.0-5.6.0 | 4.3.2-4.4.5|
| <a name="3491259"></a> [3491259](#3491259) <a name="3491259"></a> <br /> | When BGP receives an EVPN type-5 route with a gateway IP overlay attribute, the gateway IP overlay attribute in the <code>attr memory</code> (which is already inserted in the attribute hash) might change. As a result, the modified <code>attr memory</code> might match with another <code>attr</code> in the attribute hash, which produces duplicate entries in the hash table. As a result, BGP might crash when deleting one of the duplicate <code>attr</code> structures.  | 5.0.0-5.5.1 | 5.6.0|
| <a name="3488136"></a> [3488136](#3488136) <a name="3488136"></a> <br /> | When zebra receives route updates that include both a route with a recursive next hop and the route used to resolve that next hop, zebra might mark the route with the recursive next hop as inactive. To work around this issue, reprocess the route updates by running the appropriate clear command for the protocol in use. For example, for BGP, clear inbound routes from the relevant neighbor using the <code>nv action clear vrf <vrf> router bgp neighbor <neighbor> address-family <address-family> in</code> command. | 4.2.1-5.5.1 | 5.6.0|
| <a name="3474391"></a> [3474391](#3474391) <a name="3474391"></a> <br /> | The SNMP MIB definition file <code>/usr/share/snmp/mibs/Cumulus-BGPVRF-MIB.txt</code> does not  define the INDEX of the <code>bgpPeerEntry</code> correctly. This issue does not impact SNMP functionality for this MIB. | 4.3.1-5.5.1 | 5.6.0|
| <a name="3445841"></a> [3445841](#3445841) <a name="3445841"></a> <br /> | FRR does not apply Type-0 ESI configuration for EVPN multihoming bonds consistently after an FRR service reload. This issue occurs because the system MAC address value (<code>es-sys-mac</code>) is only compatible with a 3-byte Ethernet segment ID (<code>es-id</code>) for Type-3 ESIs, but still renders even when the Ethernet segment ID is 10 bytes for Type-0 ESIs. To work around this issue, configure EVPN multihoming bonds with a Type-3 ESI (<code>es-sys-mac</code> plus a 3-byte <code>es-id</code>). | 5.0.0-5.6.0 | |
| <a name="3432897"></a> [3432897](#3432897) <a name="3432897"></a> <br /> | When you remove the restriction from a TACACS+ mapped user to remove per command authorization, the <code>tacplus-restrict -R</code> command does not restore ownership of restored files correctly. As a result, some commands might fail due to permission errors in the files or directories under the home directory. To work around this issue, run the <code>sudo chown</code> command  to correct the ownership of the affected files and directories. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-5.4.0 | 5.5.0-5.6.0|
| <a name="3424967"></a> [3424967](#3424967) <a name="3424967"></a> <br /> | <code>sudo</code> for TACACS+ users with privilege level 15 does not work when the TACACS+ server is to be reached through the <code>default</code> VRF (with <code>vrf=default</code> set in the <code>/etc/tacplus_servers</code> file). To work around this issue, specify the interface name that the <code>default</code> VRF uses in the <code>vrf=</code> setting of the <code>/etc/tacplus_servers</code> file or run the NVUE <code>nv set system aaa tacacs vrf</code> command. If you don't run either command, a TACACS+ user with privilege level 15 can run <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.6.0 | |
| <a name="3413827"></a> [3413827](#3413827) <a name="3413827"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 5.0.0-5.4.0 | 4.3.2-4.4.5, 5.5.0-5.6.0|
| <a name="3413785"></a> [3413785](#3413785) <a name="3413785"></a> <br /> | To reach the TACACS+ server through the default VRF, you must specify the egress interface you use in the default VRF. Either run the NVUE <code>nv set system aaa tacacs vrf <interface></code> command (for example, <code>nv set system aaa tacacs vrf swp51</code>) or set the <code>vrf=<interface></code> option in the <code>/etc/tacplus_servers</code> file (for example, <code>vrf=swp51</code>). A similar issue might prevent TACACS+ users with privilege level 15 from using <code>sudo</code> if the TACACS+ server is reachable only on the <code>default</code> VRF.  If this occurs, and you do not run the above configuration workaround, the TACACS+ user with privilege level 15 can use <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3402935"></a> [3402935](#3402935) <a name="3402935"></a> <br />None | For layer 3 interfaces configured on the switch, certain triggers, such as port flaps and subinterface flaps, or when configuring the ports to and from layer 2 and layer 3, cause the dummy internal VLAN to not free up, which can result in exhaustion of the dummy internal VLANs designated for the layer 3 interfaces. When this occurs, you see the following <code>switchd</code> log messages:<pre>ERR dummy internal vlans exhaustedERR cannot allocate vlan for sub-interface</pre> | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-4.3.1, 4.4.0-5.3.1 | 4.3.2, 5.4.0-5.6.0|
| <a name="3350789"></a> [3350789](#3350789) <a name="3350789"></a> <br /> | NVUE deprecated the port split command options (2x10G, 2x25G, 2x40G, 2x50G, 2x100G, 2x200G, 4x10G, 4x25G, 4x50G, 4x100G, 8x50G) with no backwards compatibility. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might not match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3301988"></a> [3301988](#3301988) <a name="3301988"></a> <br /> | Some EVPN multihoming show commands might cause BGP to crash if you use the <code>json</code> flag and attempt to reference the default VRF by name. For example, <code>show bgp l2vpn evpn es-vrf json</code>. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3270988"></a> [3270988](#3270988) <a name="3270988"></a> <br /> | After restarting <code>switchd</code> on the NVIDIA SN2100 switch, the FAN speeds are at one hundred percent. To work around this issue, restart the <code>hw-management</code> service. | 4.4.5-5.2.0 | 5.2.1-5.6.0|
| <a name="3235368"></a> [3235368](#3235368) <a name="3235368"></a> <br /> | When you try to configure VRF route leaking between many VRFs using multiple NCLU commands before running the <code>net commit</code> command, the commit fails. To work around this issue, configure VRF leaking one command at a time and run <code>net commit</code> after each command. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3228899"></a> [3228899](#3228899) <a name="3228899"></a> <br />None | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.0.1 | 4.4.3-4.4.5, 5.1.0-5.6.0|
| <a name="3227677"></a> [3227677](#3227677) <a name="3227677"></a> <br /> | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3218207"></a> [3218207](#3218207) <a name="3218207"></a> <br />None | Certain routes on tenant VRFs have missing next hop entries because the router MAC address is missing in the bridge forwarding database table that corresponds to the remote VTEP. As a result, traffic forwarding is affected for these routes. | 4.3.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3217675"></a> [3217675](#3217675) <a name="3217675"></a> <br /> | When you run the NVUE <code>nv set bridge domain br_default multicast snooping enable off</code> command to disable multicast snooping, the bridge still shows that multicast snooping is enabled. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3217674"></a> [3217674](#3217674) <a name="3217674"></a> <br /> | Multicast PTP over UDP traffic does not forward to data ports when the PTP service is disabled. To work around this issue, change the <code>ptp.timestamping</code> setting to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, then restart <code>switchd</code>. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3211359"></a> [3211359](#3211359) <a name="3211359"></a> <br /> | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-5.0.1 | 5.1.0-5.6.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU – Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3202991"></a> [3202991](#3202991) <a name="3202991"></a> <br /> | Locally generated multicast traffic including IGMPv2 GSQs do not transmit to local clients when using PIM. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3200373"></a> [3200373](#3200373) <a name="3200373"></a> <br /> | After rebooting the switch, the IPv6 link local address for an SVI that belongs to non-default VRF is missing, and doesn't show on the switch. To resolve this issue, run the <code>ifreload -a</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3195345"></a> [3195345](#3195345) <a name="3195345"></a> <br /> | Communication between single-connected MLAG hosts on different switches fails because packets received by single-connected MLAG hosts are not forwarded over the peer link. To work around this issue, when adding a switch to an MLAG pair, enable all the interfaces. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-4.3.1, 4.4.0-5.2.1 | 4.3.2, 5.3.0-5.6.0|
| <a name="3157240"></a> [3157240](#3157240) <a name="3157240"></a> <br /> | When you try to query REDECN counters with the <code>mlxcmd</code> utility on a bond member port with the following commands, syslog reports an error<br /><pre>sudo /usr/lib/cumulus/mlxcmd roce counters --port <swp>sudo /usr/lib/cumulus/mlxcmd qos counters --clear --port <swp></pre> | 4.4.4-5.1.0 | 5.2.0-5.6.0|
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3142615"></a> [3142615](#3142615) <a name="3142615"></a> <br /> | The <code>BGP4-MIB.txt</code> file is missing from Net-SNMP agent. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3141826"></a> [3141826](#3141826) <a name="3141826"></a> <br /> | A slow memory leak (~5KB over 24 hour period at a 60 second polling interval) might occur in SNMP when you walk the following system MIB objects (1.3.6.1.2.1)<br />1.3.6.1.2.1.47 --> Entity MIB<br />1.3.6.1.2.1.99 --> Entity Sensor MIB<br />1.3.6.1.2.1.23 --> rip2<br />1.3.6.1.2.1.2 --> interface/interfaces<br />1.3.6.1.2.1.31 --> ifMIB<br />1.3.6.1.2.1.4 --> IP<br />1.3.6.1.2.1.25 --> hostResource | 5.0.1-5.6.0 | |
| <a name="3141818"></a> [3141818](#3141818) <a name="3141818"></a> <br /> | If there is extensive and continuous next-hop group (NHG) churn when routes keep moving from one NHG to another NHG repeatedly, <code>switchd</code> increases in memory allocation until memory is exhausted. Other processes might be affected as they try to acquire memory which is unavailable. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3139364"></a> [3139364](#3139364) <a name="3139364"></a> <br /> | When Cumulus Linux updates the ECMP container with a new next hop list, it allocates the flow counters for the new next hop list without deallocating the counters bound to the old next hop list. This results in resource exhaustion and you see the following error messages in the <code>/var/log/switchd.log</code> file:<pre>hal_mlx_stat.c:3215 ERR Failed to allocate counter(s) for ecmp &#91;71025:0&#93; status: Internal Errorhal_mlx_stat.c:3196 ERR Counter set for ecmp &#91;71025:0&#93; idx 0 failed: Internal Errorhal_mlx_sdk_nexthop_wrap.c:1076 ERR Counter 0 alloc for ecmp next hop failed: Internal Errorhal_mlx_sdk_counter_wrap.c:54 ERR Counter alloc failed: No More Resources</pre>This issue does not have any functional impact to forwarding. Even without the flow counters attached to the ECMP group, packet forwarding works without any issues<br />To avoid allocating next hop counters for any new ECMP next hop list update, set <code>mlx.stats.ecmp.enable</code> to FALSE in the <code>/etc/mlx/datapath/stats.conf</code> file, then restart <code>switchd</code> with the <code>sudo systemctl reload switchd</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3136983"></a> [3136983](#3136983) <a name="3136983"></a> <br /> | When a layer 3 neighbor entry resolves to a bridge FDB entry that does not exist in the kernel, <code>switchd</code> might contribute to high CPU load while it continues to try to sync and resolve the neighbor entry. This results in many <code>sync_l3_nexthop</code> messages printed to <code>/var/log/switchd.log</code>. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3136905"></a> [3136905](#3136905) <a name="3136905"></a> <br /> | When you upgrade from Cumulus Linux 5.0.1 to Cumulus Linux 5.1.0, the upgrade adds <code>KexAlgorithms</code> and <code>MACs</code> configuration to  the <code>/etc/ssh/sshd_config</code> file without prompting for confirmation.  This might cause the <code>/etc/ssh/sshd_config</code> file to be incorrect if there is a <code>Match</code> section; <code>KexAlgorithms</code> and <code>MACs</code> must come before <code>Match</code>. To work around this issue, move the lines that start with <code>KexAlgorithms</code> and <code>MACs</code> before <code>Match</code> or remove them, then restart the SSH service with the <code>sudo systemctl restart ssh</code> command. If you have already specified <code>KexAlgorithms</code> or <code>MACs</code>, you can remove the newly added lines after upgrade. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.6.0|
| <a name="3119673"></a> [3119673](#3119673) <a name="3119673"></a> <br /> | If the switch receives an EVPN route with multiple RTs that match the import policy for a local VNI, the <code>bgpd</code> service crashes. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.6.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3115415"></a> [3115415](#3115415) <a name="3115415"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTime</code> OID does not correctly report the time since a BGP session goes down.  | 4.4.4-5.1.0 | 5.2.0-5.6.0|
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR (for example: <code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>), then make subsequent VRF or route configuration changes, FRR might crash. To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-5.1.0 | 5.2.0-5.6.0|
| <a name="3112938"></a> [3112938](#3112938) <a name="3112938"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTransitions</code> OID always reports a value of 0. | 4.4.4-5.1.0 | 5.2.0-5.6.0|
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | The default QOS traffic shaping configuration does not restore after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up. To work around this issue, disable, then enable the port. | 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.6.0|
| <a name="3077736"></a> [3077736](#3077736) <a name="3077736"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails.<br /><pre><br />cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400<br />cumulus&#64;switch:~$ nv config apply<br />2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr.<br /></pre> | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3077547"></a> [3077547](#3077547) <a name="3077547"></a> <br /> | When you configure multiple multicast RPs with groups matched by prefix lists, Cumulus Linux selects only one of the RPs and this selection is incorrect. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3077513"></a> [3077513](#3077513) <a name="3077513"></a> <br /> | When a MAC address is moved to a new VTEP in an EVPN MAC mobility scenario using traditional bridges, there might be up to 30 seconds of convergence delay. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3074390"></a> [3074390](#3074390) <a name="3074390"></a> <br /> | You can not apply NVUE configurations when TACACS is enabled for user authentication. To work around this issue, add the <code>nvue</code> account to the <code>exclude_users</code> line in <code>/etc/tacplus_nss.conf</code>:<pre>exclude_users=root,daemon,nobody,cron,radius_user,radius_priv_user,sshd,cumulus,quagga,frr,nvue,snmp,www-data,ntp,man,_lldpd,*</pre> | 5.0.1-5.3.1 | 5.4.0-5.6.0|
| <a name="3066664"></a> [3066664](#3066664) <a name="3066664"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3061445"></a> [3061445](#3061445) <a name="3061445"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails<br /><pre>cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400cumulus&#64;switch:~$ nv config apply2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr<br /></pre> | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3059566"></a> [3059566](#3059566) <a name="3059566"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isn’t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.6.0 | 4.4.4-4.4.5|
| <a name="3059380"></a> [3059380](#3059380) <a name="3059380"></a> <br /> | When you configure VRF leaking from the default VRF to a non-default VRF, SSH sessions originating from the switch CLI in the default VRF do not connect to devices in the non-default VRF. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3055255"></a> [3055255](#3055255) <a name="3055255"></a> <br /> | When you run the NVUE <code>nv show interface</code> command, a watchdog timeout might occur and the <code>nvued</code> service fails. | 5.0.1 | 5.1.0-5.6.0|
| <a name="3054869"></a> [3054869](#3054869) <a name="3054869"></a> <br /> | When you run NVUE commands as part of ZTP scripts, the commands fail with errors that indicate a missing $HOME environment variable. The issue has been fixed where the ZTP module initializes the $HOME environment variable before launching the ZTP scripts. However, if you are running older releases, before you use any NVUE commands in the ZTP script, add a section and define the <code>HOME</code> environment variable. Populate the variable with the default expected <code>root</code> user home directory value (/root), then export the <code>HOME</code> variable so it is available globally for NVUE to use<br /><pre>HOME=/rootexport HOME</pre> | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3044596"></a> [3044596](#3044596) <a name="3044596"></a> <br /> | In the non-default VRF, BFD goes down after port flap. | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3041425"></a> [3041425](#3041425) <a name="3041425"></a> <br /> | When you add or remove PortAutoEdge on a bond with the NVUE <code>nv set interface <bond> bridge domain br_default stp auto-edge</code> command, the command fails with the following error and then attempts to enable or disable PortAutoEdge on any interface also fail<br /><pre>cumulus&#64;switch:~$ nv set interface swp1 bridge domain br_default stp auto-edge offcumulus&#64;switch:~$ nv config applyUnable to reload-or-restart services (switchd,ifreload-nvue.service):&#91;sudo&#93; password for nvue: Job for ifreload-nvue.service failed because the control process exited with error code<br />Failure during apply. Ignore? &#91;y/N&#93;</pre> | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3041307"></a> [3041307](#3041307) <a name="3041307"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0, 4.4.0-4.4.3, 5.0.0-5.0.1 | 3.7.16, 4.3.1, 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3040080"></a> [3040080](#3040080) <a name="3040080"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3037824"></a> [3037824](#3037824) <a name="3037824"></a> <br /> | The NVUE <code>nv show interface <interface-id> link state</code> command shows an empty table instead of showing the port link state. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3035855"></a> [3035855](#3035855) <a name="3035855"></a> <br /> | When you configure ACLs on the switch, you might see a <code>switchd</code> segmentation fault. | 5.0.1 | 5.1.0-5.6.0|
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-5.4.0 | 5.5.0-5.6.0|
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 4.4.2-5.0.1 | 5.1.0-5.6.0|
| <a name="3021897"></a> [3021897](#3021897) <a name="3021897"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0-5.6.0|
| <a name="3021696"></a> [3021696](#3021696) <a name="3021696"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3021693"></a> [3021693](#3021693) <a name="3021693"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.3.1, 4.4.4-4.4.5, 5.2.0-5.6.0|
| <a name="3017127"></a> [3017127](#3017127) <a name="3017127"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards<br />To work around this issue, restart <code>switchd</code> with the <code>sudo systemctl restart switchd.service</code> command. | 4.4.2-4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3016882"></a> [3016882](#3016882) <a name="3016882"></a> <br /> | In certain cases, when you power cycle the switch, the NVUE configuration might become corrupted, which prevents NVUE from running. You see a critical error in the log file similar to:<pre>CRITICAL: cue_versions_v1.repo: The NVUE internal data store is corrupted or has been initialized incorrectly. The is an unrecoverable error<br /></pre>To work around this issue, remove the <code>/var/lib/nvue/config</code> and <code>/var/lib/nvue/meta</code> directories, then restart the <code>nvued</code> service with the <code>sudo systemctl start nvued</code> command. If possible, NVUE recovers user configuration and saves it in the <code>/etc/nvue.d</code> directory. The recovered configuration will be saved as YAML files, which are named as <code>nvue-recovery-<timestamp>.yaml</code>. You can reapply the recovered configuration with the <code>nv config patch nvue-recovery-<timestamp>.yaml</code> followed by <code>nv config apply</code> commands.  | 5.0.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3014664"></a> [3014664](#3014664) <a name="3014664"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0-5.6.0|
| <a name="3007020"></a> [3007020](#3007020) <a name="3007020"></a> <br /> | The <code>sudo smonctl</code> command output shows an error for the ASIC temperature sensor (temp6). | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="3003167"></a> [3003167](#3003167) <a name="3003167"></a> <br /> | Updating an existing tunnel configuration with NVUE or directly in the <code>/etc/network/interfaces</code> file causes traffic loss. The original tunnel is destroyed and then recreated (with a new ifindex)<br />The new behavior will make sure to apply the configuration delta without disrupting any traffic as much as possible. Note that a tunnel mode change can't be applied without causing traffic loss.  | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2999253"></a> [2999253](#2999253) <a name="2999253"></a> <br /> | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload. This occurs because removing NGINX also removes the libyaml-0-2 and python-yaml packages, which are required for the <code>switchd</code> consistency check. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2999243"></a> [2999243](#2999243) <a name="2999243"></a> <br /> | sFlow fails to send flow samples. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0-5.6.0|
| <a name="2993719"></a> [2993719](#2993719) <a name="2993719"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.6.0|
| <a name="2978165"></a> [2978165](#2978165) <a name="2978165"></a> <br /> | When you use NVUE to configure an ACL rule with a <code>set cos</code> action, the <code>nv config apply</code> command fails with the following error message:{nofromat}$ cumulus&#64;switch:~$ nv config applyFailed to prepare to applyUnrecoverable internal error{nofromat} | 5.0.1 | 5.1.0-5.6.0|
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.6.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.6.0 | 3.7.16|
| <a name="2957968"></a> [2957968](#2957968) <a name="2957968"></a> <br /> | After you install the RADIUS <code>libnss-mapuser</code> package, the <code>nvued</code> service fails to start. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.6.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.6.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2940005"></a> [2940005](#2940005) <a name="2940005"></a> <br /> | If you reboot the switch when using WJH, you need to start the <code>what-just-happened</code> service even if the service is enabled. | 5.0.1 | 5.1.0-5.6.0|
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2914835"></a> [2914835](#2914835) <a name="2914835"></a> <br /> | NVUE flexible snippets create invalid YAML files. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2910017"></a> [2910017](#2910017) <a name="2910017"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.6.0 | 4.4.3-4.4.5|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2903374"></a> [2903374](#2903374) <a name="2903374"></a> <br /> | The <code>nv show interfaces</code> command returns a 500 error and syslog shows a python error, triggered by third party devices (non CL) missing LLDP fields<br />To work around this issue, disable LLDP on a single interface. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2898044"></a> [2898044](#2898044) <a name="2898044"></a> <br /> | NVUE commands including the <code>nv config apply</code> command might fail with the following error because the <code>/etc/resolv.conf</code> file is missing<br /><pre>Failed to prepare to applyUnrecoverable internal error</pre> | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2886488"></a> [2886488](#2886488) <a name="2886488"></a> <br /> | NVUE commands fail to configure port mirroring. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2886476"></a> [2886476](#2886476) <a name="2886476"></a> <br /> | If you enable or disable the advertise primary IP address setting when originating EVPN default type-5 routes, the default route or prefix originated from one of the MLAG peers sends a null layer 3 VNI, which prevents the remote VTEP from installing the default route. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2885287"></a> [2885287](#2885287) <a name="2885287"></a> <br /> | When you change the port breakout configuration, you must restart <code>switchd</code> to clean up any previously-associated port states and reinitialize the ports. Reloading <code>switchd</code> does not work. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.6.0|
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the NVIDIA SN4600 switch to another NVIDIA Spectrum switch, you must use auto-negotiation mode (not force mode); otherwise the switch might use the wrong Tx configuration. | 5.0.0-5.6.0 | |
| <a name="2861989"></a> [2861989](#2861989) <a name="2861989"></a> <br /> | Incomplete or unnecessary configuration in FRR results in FRR restarting instead of rejecting the configuration with an error. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional or single VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2855908"></a> [2855908](#2855908) <a name="2855908"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send. To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15-4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.6.0 | |
| <a name="2831968"></a> [2831968](#2831968) <a name="2831968"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-4.4.5, 5.0.0-5.6.0 | 4.3.1|
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.6.0 | |
| <a name="2821929"></a> [2821929](#2821929) <a name="2821929"></a> <br /> | FRR restarts even when the NVUE configuration overwrite mode is set. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.6.0|
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.6.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.6.0|
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2701000"></a> [2701000](#2701000) <a name="2701000"></a> <br /> | A default route learned from DHCP on eth0 in the management VRF might install in the default VRF if eth0 is disconnected and the original next hop is reachable in the default VRF. To work around this issue, delete the DHCP lease file for eth0 with the <code>sudo rm /var/lib/dhcp/dhclient.eth0.leases</code> command. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | When you enable a service in the management VRF, <code>systemctl</code> issues a warning similar to the following:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre>You can safely ignore this warning. | 4.0.0-4.4.5, 5.0.0-5.6.0 | |

### Fixed Issues in 5.0.1
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2908541"></a> [2908541](#2908541) <a name="2908541"></a> <br /> | Running <code>apt dist-upgrade</code> causes <code>switchd</code> to stop and never start again.  Do not use <code>apt dist-upgrade</code>; use <code>apt upgrade</code> instead. Cumulus Linux does not support <code>apt dist-upgrade</code><br />To work around this issue, if you run <code>apt dist-upgrade</code> and <code>switchd</code> no longer works, run the <code>apt install sx-sdk-eth-dev</code> command (and run the command for any other removed package) or reinstall the Cumulus Linux image. | 5.0.0 | |

## 5.0.0 Release Notes
### Open Issues in 5.0.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3647426"></a> [3647426](#3647426) <a name="3647426"></a> <br />None | If BGP <code>remote-as</code> is set to an integer and you try to configure the <code>local-as</code> for a BGP instance, you see the following error:<pre>% AS specified for local as is the same as the remote as and this is not allowed<br /></pre>This configuration is not allowed; it is considered to be eBGP and local preference is not advertised. | 5.0.0-5.5.1 | 4.3.2-4.4.5, 5.6.0|
| <a name="3585467"></a> [3585467](#3585467) <a name="3585467"></a> <br /> | NVUE and <code>ip link</code> show traditional bridge VLAN subinterface counts incorrectly. The ingress (Rx) count increments correctly but the egress (Tx) count does not increment. This issues occurs because the hardware does not support transmit counters for a VLAN subinterface; therefore, no statistics from the hardware are updated. Statistics for software forwarded packets show correctly. | 5.0.0-5.6.0 | |
| <a name="3560622"></a> [3560622](#3560622) <a name="3560622"></a> <br /> | When you configure a route distinguisher (RD) or a route target (RT) manually for layer 2 VNIs, type-1 routes are not properly updated, type-1 EVI routes with the old RD are not properly withdrawn, and type-1 ES routes do not have the corresponding layer 2 VNI route target updated. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3554231"></a> [3554231](#3554231) <a name="3554231"></a> <br />None | CVE-2023-38408: The PKCS#11 feature in ssh-agent in OpenSSH before 9.3p2 has an insufficiently trustworthy search path, leading to remote code execution if an agent is forwarded to an attacker-controlled system. (Code in /usr/lib is not necessarily safe for loading into ssh-agent.) NOTE: this issue exists because of an incomplete fix for CVE-2016-10009<br />Mitigation: Do not use ssh-agent forwarding (the man page for ssh_config says that "agent forwarding should be enabled with caution"), or start the ssh-agent program with the -P option to allow only specific PKCS#11 libraries (or none with -P '')<br />For Cumulus Linux 4.3.2, the /usr/bin/ssh-agent program has all permissions turned off (chmod 0) to prevent its execution if a vulnerable version is detected. | 4.0.0-4.3.1, 5.0.0-5.6.0 | 4.3.2-4.4.5|
| <a name="3491259"></a> [3491259](#3491259) <a name="3491259"></a> <br /> | When BGP receives an EVPN type-5 route with a gateway IP overlay attribute, the gateway IP overlay attribute in the <code>attr memory</code> (which is already inserted in the attribute hash) might change. As a result, the modified <code>attr memory</code> might match with another <code>attr</code> in the attribute hash, which produces duplicate entries in the hash table. As a result, BGP might crash when deleting one of the duplicate <code>attr</code> structures.  | 5.0.0-5.5.1 | 5.6.0|
| <a name="3488136"></a> [3488136](#3488136) <a name="3488136"></a> <br /> | When zebra receives route updates that include both a route with a recursive next hop and the route used to resolve that next hop, zebra might mark the route with the recursive next hop as inactive. To work around this issue, reprocess the route updates by running the appropriate clear command for the protocol in use. For example, for BGP, clear inbound routes from the relevant neighbor using the <code>nv action clear vrf <vrf> router bgp neighbor <neighbor> address-family <address-family> in</code> command. | 4.2.1-5.5.1 | 5.6.0|
| <a name="3474391"></a> [3474391](#3474391) <a name="3474391"></a> <br /> | The SNMP MIB definition file <code>/usr/share/snmp/mibs/Cumulus-BGPVRF-MIB.txt</code> does not  define the INDEX of the <code>bgpPeerEntry</code> correctly. This issue does not impact SNMP functionality for this MIB. | 4.3.1-5.5.1 | 5.6.0|
| <a name="3445841"></a> [3445841](#3445841) <a name="3445841"></a> <br /> | FRR does not apply Type-0 ESI configuration for EVPN multihoming bonds consistently after an FRR service reload. This issue occurs because the system MAC address value (<code>es-sys-mac</code>) is only compatible with a 3-byte Ethernet segment ID (<code>es-id</code>) for Type-3 ESIs, but still renders even when the Ethernet segment ID is 10 bytes for Type-0 ESIs. To work around this issue, configure EVPN multihoming bonds with a Type-3 ESI (<code>es-sys-mac</code> plus a 3-byte <code>es-id</code>). | 5.0.0-5.6.0 | |
| <a name="3432897"></a> [3432897](#3432897) <a name="3432897"></a> <br /> | When you remove the restriction from a TACACS+ mapped user to remove per command authorization, the <code>tacplus-restrict -R</code> command does not restore ownership of restored files correctly. As a result, some commands might fail due to permission errors in the files or directories under the home directory. To work around this issue, run the <code>sudo chown</code> command  to correct the ownership of the affected files and directories. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-5.4.0 | 5.5.0-5.6.0|
| <a name="3424967"></a> [3424967](#3424967) <a name="3424967"></a> <br /> | <code>sudo</code> for TACACS+ users with privilege level 15 does not work when the TACACS+ server is to be reached through the <code>default</code> VRF (with <code>vrf=default</code> set in the <code>/etc/tacplus_servers</code> file). To work around this issue, specify the interface name that the <code>default</code> VRF uses in the <code>vrf=</code> setting of the <code>/etc/tacplus_servers</code> file or run the NVUE <code>nv set system aaa tacacs vrf</code> command. If you don't run either command, a TACACS+ user with privilege level 15 can run <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.6.0 | |
| <a name="3413827"></a> [3413827](#3413827) <a name="3413827"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 5.0.0-5.4.0 | 4.3.2-4.4.5, 5.5.0-5.6.0|
| <a name="3413785"></a> [3413785](#3413785) <a name="3413785"></a> <br /> | To reach the TACACS+ server through the default VRF, you must specify the egress interface you use in the default VRF. Either run the NVUE <code>nv set system aaa tacacs vrf <interface></code> command (for example, <code>nv set system aaa tacacs vrf swp51</code>) or set the <code>vrf=<interface></code> option in the <code>/etc/tacplus_servers</code> file (for example, <code>vrf=swp51</code>). A similar issue might prevent TACACS+ users with privilege level 15 from using <code>sudo</code> if the TACACS+ server is reachable only on the <code>default</code> VRF.  If this occurs, and you do not run the above configuration workaround, the TACACS+ user with privilege level 15 can use <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3402935"></a> [3402935](#3402935) <a name="3402935"></a> <br />None | For layer 3 interfaces configured on the switch, certain triggers, such as port flaps and subinterface flaps, or when configuring the ports to and from layer 2 and layer 3, cause the dummy internal VLAN to not free up, which can result in exhaustion of the dummy internal VLANs designated for the layer 3 interfaces. When this occurs, you see the following <code>switchd</code> log messages:<pre>ERR dummy internal vlans exhaustedERR cannot allocate vlan for sub-interface</pre> | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-4.3.1, 4.4.0-5.3.1 | 4.3.2, 5.4.0-5.6.0|
| <a name="3350789"></a> [3350789](#3350789) <a name="3350789"></a> <br /> | NVUE deprecated the port split command options (2x10G, 2x25G, 2x40G, 2x50G, 2x100G, 2x200G, 4x10G, 4x25G, 4x50G, 4x100G, 8x50G) with no backwards compatibility. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might not match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3301988"></a> [3301988](#3301988) <a name="3301988"></a> <br /> | Some EVPN multihoming show commands might cause BGP to crash if you use the <code>json</code> flag and attempt to reference the default VRF by name. For example, <code>show bgp l2vpn evpn es-vrf json</code>. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3270988"></a> [3270988](#3270988) <a name="3270988"></a> <br /> | After restarting <code>switchd</code> on the NVIDIA SN2100 switch, the FAN speeds are at one hundred percent. To work around this issue, restart the <code>hw-management</code> service. | 4.4.5-5.2.0 | 5.2.1-5.6.0|
| <a name="3235368"></a> [3235368](#3235368) <a name="3235368"></a> <br /> | When you try to configure VRF route leaking between many VRFs using multiple NCLU commands before running the <code>net commit</code> command, the commit fails. To work around this issue, configure VRF leaking one command at a time and run <code>net commit</code> after each command. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3228899"></a> [3228899](#3228899) <a name="3228899"></a> <br />None | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.0.1 | 4.4.3-4.4.5, 5.1.0-5.6.0|
| <a name="3227677"></a> [3227677](#3227677) <a name="3227677"></a> <br /> | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3218207"></a> [3218207](#3218207) <a name="3218207"></a> <br />None | Certain routes on tenant VRFs have missing next hop entries because the router MAC address is missing in the bridge forwarding database table that corresponds to the remote VTEP. As a result, traffic forwarding is affected for these routes. | 4.3.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3211359"></a> [3211359](#3211359) <a name="3211359"></a> <br /> | The <code>net show interface <interface> detail</code> command output shows <code>Type=Unknown</code> for the specified interface. | 4.4.3-5.0.1 | 5.1.0-5.6.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU – Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3200373"></a> [3200373](#3200373) <a name="3200373"></a> <br /> | After rebooting the switch, the IPv6 link local address for an SVI that belongs to non-default VRF is missing, and doesn't show on the switch. To resolve this issue, run the <code>ifreload -a</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3195345"></a> [3195345](#3195345) <a name="3195345"></a> <br /> | Communication between single-connected MLAG hosts on different switches fails because packets received by single-connected MLAG hosts are not forwarded over the peer link. To work around this issue, when adding a switch to an MLAG pair, enable all the interfaces. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-4.3.1, 4.4.0-5.2.1 | 4.3.2, 5.3.0-5.6.0|
| <a name="3157240"></a> [3157240](#3157240) <a name="3157240"></a> <br /> | When you try to query REDECN counters with the <code>mlxcmd</code> utility on a bond member port with the following commands, syslog reports an error<br /><pre>sudo /usr/lib/cumulus/mlxcmd roce counters --port <swp>sudo /usr/lib/cumulus/mlxcmd qos counters --clear --port <swp></pre> | 4.4.4-5.1.0 | 5.2.0-5.6.0|
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3142615"></a> [3142615](#3142615) <a name="3142615"></a> <br /> | The <code>BGP4-MIB.txt</code> file is missing from Net-SNMP agent. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3139364"></a> [3139364](#3139364) <a name="3139364"></a> <br /> | When Cumulus Linux updates the ECMP container with a new next hop list, it allocates the flow counters for the new next hop list without deallocating the counters bound to the old next hop list. This results in resource exhaustion and you see the following error messages in the <code>/var/log/switchd.log</code> file:<pre>hal_mlx_stat.c:3215 ERR Failed to allocate counter(s) for ecmp &#91;71025:0&#93; status: Internal Errorhal_mlx_stat.c:3196 ERR Counter set for ecmp &#91;71025:0&#93; idx 0 failed: Internal Errorhal_mlx_sdk_nexthop_wrap.c:1076 ERR Counter 0 alloc for ecmp next hop failed: Internal Errorhal_mlx_sdk_counter_wrap.c:54 ERR Counter alloc failed: No More Resources</pre>This issue does not have any functional impact to forwarding. Even without the flow counters attached to the ECMP group, packet forwarding works without any issues<br />To avoid allocating next hop counters for any new ECMP next hop list update, set <code>mlx.stats.ecmp.enable</code> to FALSE in the <code>/etc/mlx/datapath/stats.conf</code> file, then restart <code>switchd</code> with the <code>sudo systemctl reload switchd</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | 4.3.1, 5.2.0-5.6.0|
| <a name="3119673"></a> [3119673](#3119673) <a name="3119673"></a> <br /> | If the switch receives an EVPN route with multiple RTs that match the import policy for a local VNI, the <code>bgpd</code> service crashes. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | 5.2.0-5.6.0|
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3115415"></a> [3115415](#3115415) <a name="3115415"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTime</code> OID does not correctly report the time since a BGP session goes down.  | 4.4.4-5.1.0 | 5.2.0-5.6.0|
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR (for example: <code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>), then make subsequent VRF or route configuration changes, FRR might crash. To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-5.1.0 | 5.2.0-5.6.0|
| <a name="3112938"></a> [3112938](#3112938) <a name="3112938"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTransitions</code> OID always reports a value of 0. | 4.4.4-5.1.0 | 5.2.0-5.6.0|
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | The default QOS traffic shaping configuration does not restore after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up. To work around this issue, disable, then enable the port. | 5.0.0-5.1.0 | 4.4.4-4.4.5, 5.2.0-5.6.0|
| <a name="3066664"></a> [3066664](#3066664) <a name="3066664"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3054869"></a> [3054869](#3054869) <a name="3054869"></a> <br /> | When you run NVUE commands as part of ZTP scripts, the commands fail with errors that indicate a missing $HOME environment variable. The issue has been fixed where the ZTP module initializes the $HOME environment variable before launching the ZTP scripts. However, if you are running older releases, before you use any NVUE commands in the ZTP script, add a section and define the <code>HOME</code> environment variable. Populate the variable with the default expected <code>root</code> user home directory value (/root), then export the <code>HOME</code> variable so it is available globally for NVUE to use<br /><pre>HOME=/rootexport HOME</pre> | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | 5.2.0-5.6.0|
| <a name="3041307"></a> [3041307](#3041307) <a name="3041307"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0, 4.4.0-4.4.3, 5.0.0-5.0.1 | 3.7.16, 4.3.1, 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3040080"></a> [3040080](#3040080) <a name="3040080"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3037824"></a> [3037824](#3037824) <a name="3037824"></a> <br /> | The NVUE <code>nv show interface <interface-id> link state</code> command shows an empty table instead of showing the port link state. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-5.4.0 | 5.5.0-5.6.0|
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 4.4.2-5.0.1 | 5.1.0-5.6.0|
| <a name="3021897"></a> [3021897](#3021897) <a name="3021897"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0-5.6.0|
| <a name="3021696"></a> [3021696](#3021696) <a name="3021696"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-4.4.3, 5.0.0-5.0.1 | 4.4.4-4.4.5, 5.1.0-5.6.0|
| <a name="3021693"></a> [3021693](#3021693) <a name="3021693"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.3.1, 4.4.4-4.4.5, 5.2.0-5.6.0|
| <a name="3017127"></a> [3017127](#3017127) <a name="3017127"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards<br />To work around this issue, restart <code>switchd</code> with the <code>sudo systemctl restart switchd.service</code> command. | 4.4.2-4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3014664"></a> [3014664](#3014664) <a name="3014664"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0-5.6.0|
| <a name="3007020"></a> [3007020](#3007020) <a name="3007020"></a> <br /> | The <code>sudo smonctl</code> command output shows an error for the ASIC temperature sensor (temp6). | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="3003167"></a> [3003167](#3003167) <a name="3003167"></a> <br /> | Updating an existing tunnel configuration with NVUE or directly in the <code>/etc/network/interfaces</code> file causes traffic loss. The original tunnel is destroyed and then recreated (with a new ifindex)<br />The new behavior will make sure to apply the configuration delta without disrupting any traffic as much as possible. Note that a tunnel mode change can't be applied without causing traffic loss.  | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2999253"></a> [2999253](#2999253) <a name="2999253"></a> <br /> | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload. This occurs because removing NGINX also removes the libyaml-0-2 and python-yaml packages, which are required for the <code>switchd</code> consistency check. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2999243"></a> [2999243](#2999243) <a name="2999243"></a> <br /> | sFlow fails to send flow samples. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0-5.6.0|
| <a name="2993719"></a> [2993719](#2993719) <a name="2993719"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0-5.6.0|
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.6.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.6.0 | 3.7.16|
| <a name="2957968"></a> [2957968](#2957968) <a name="2957968"></a> <br /> | After you install the RADIUS <code>libnss-mapuser</code> package, the <code>nvued</code> service fails to start. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.6.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.6.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2914835"></a> [2914835](#2914835) <a name="2914835"></a> <br /> | NVUE flexible snippets create invalid YAML files. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2910017"></a> [2910017](#2910017) <a name="2910017"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.6.0 | 4.4.3-4.4.5|
| <a name="2908541"></a> [2908541](#2908541) <a name="2908541"></a> <br /> | Running <code>apt dist-upgrade</code> causes <code>switchd</code> to stop and never start again.  Do not use <code>apt dist-upgrade</code>; use <code>apt upgrade</code> instead. Cumulus Linux does not support <code>apt dist-upgrade</code><br />To work around this issue, if you run <code>apt dist-upgrade</code> and <code>switchd</code> no longer works, run the <code>apt install sx-sdk-eth-dev</code> command (and run the command for any other removed package) or reinstall the Cumulus Linux image. | 5.0.0 | 5.0.1-5.6.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2903374"></a> [2903374](#2903374) <a name="2903374"></a> <br /> | The <code>nv show interfaces</code> command returns a 500 error and syslog shows a python error, triggered by third party devices (non CL) missing LLDP fields<br />To work around this issue, disable LLDP on a single interface. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2898044"></a> [2898044](#2898044) <a name="2898044"></a> <br /> | NVUE commands including the <code>nv config apply</code> command might fail with the following error because the <code>/etc/resolv.conf</code> file is missing<br /><pre>Failed to prepare to applyUnrecoverable internal error</pre> | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2886488"></a> [2886488](#2886488) <a name="2886488"></a> <br /> | NVUE commands fail to configure port mirroring. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2886476"></a> [2886476](#2886476) <a name="2886476"></a> <br /> | If you enable or disable the advertise primary IP address setting when originating EVPN default type-5 routes, the default route or prefix originated from one of the MLAG peers sends a null layer 3 VNI, which prevents the remote VTEP from installing the default route. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2885287"></a> [2885287](#2885287) <a name="2885287"></a> <br /> | When you change the port breakout configuration, you must restart <code>switchd</code> to clean up any previously-associated port states and reinitialize the ports. Reloading <code>switchd</code> does not work. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.3.0, 4.4.0-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.6.0|
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the NVIDIA SN4600 switch to another NVIDIA Spectrum switch, you must use auto-negotiation mode (not force mode); otherwise the switch might use the wrong Tx configuration. | 5.0.0-5.6.0 | |
| <a name="2861989"></a> [2861989](#2861989) <a name="2861989"></a> <br /> | Incomplete or unnecessary configuration in FRR results in FRR restarting instead of rejecting the configuration with an error. | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional or single VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2855908"></a> [2855908](#2855908) <a name="2855908"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send. To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15-4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.6.0 | |
| <a name="2831968"></a> [2831968](#2831968) <a name="2831968"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-4.4.5, 5.0.0-5.6.0 | 4.3.1|
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.6.0 | |
| <a name="2821929"></a> [2821929](#2821929) <a name="2821929"></a> <br /> | FRR restarts even when the NVUE configuration overwrite mode is set. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0, 4.4.2-5.0.1 | 3.7.16, 4.3.1, 5.1.0-5.6.0|
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | 5.2.0-5.6.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | 5.2.0-5.6.0|
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0-5.6.0|
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2701000"></a> [2701000](#2701000) <a name="2701000"></a> <br /> | A default route learned from DHCP on eth0 in the management VRF might install in the default VRF if eth0 is disconnected and the original next hop is reachable in the default VRF. To work around this issue, delete the DHCP lease file for eth0 with the <code>sudo rm /var/lib/dhcp/dhclient.eth0.leases</code> command. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0-5.6.0|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | When you enable a service in the management VRF, <code>systemctl</code> issues a warning similar to the following:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre>You can safely ignore this warning. | 4.0.0-4.4.5, 5.0.0-5.6.0 | |

### Fixed Issues in 5.0.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3108491"></a> [3108491](#3108491) <a name="3108491"></a> <br />None | In EVPN deployments,  a buffer lockup for split or pre-split ports can occur on Spectrum-2 and Spectrum-3 switches. As result, traffic coming in on these ports is dropped in the RX buffer. To work around this issue, restart <code>switchd</code>. | 4.2.1-4.4.5 | |
| <a name="2873186"></a> [2873186](#2873186) <a name="2873186"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.5 | |
| <a name="2862211"></a> [2862211](#2862211) <a name="2862211"></a> <br /> | On NVIDIA Spectrum ASICs in a layer 2 bridge scaled configuration (more than 800 VLANs), <code>clagd.service</code> enters a failed state after a reboot or a <code>switchd</code> restart<br />To work around this issue, load the port configuration in a staggered manner (groups of five downlink ports). | 3.7.12-3.7.15, 4.3.0, 4.4.2-4.4.5 | |
| <a name="2847618"></a> [2847618](#2847618) <a name="2847618"></a> <br /> | When you enable PIM on VLAN interfaces, multicast throughput might not achieve line rate depending on packet sizes in the multicast flow. |  | |
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.5 | |
| <a name="2841584"></a> [2841584](#2841584) <a name="2841584"></a> <br /> | After you upgrade Cumulus Linux on one of the MLAG peers, the bonds do not come up and the reason shows <code>anycast-ip-mismatch</code> even though there is no VXLAN configuration on the switch.  To work around this issue, configure an anycast IP address under the loopback interface on both switches in the MLAG pair. | 4.4.2-4.4.5 | |
| <a name="2840817"></a> [2840817](#2840817) <a name="2840817"></a> <br /> | CVE-2021-25219: The lame server cache in BIND, a DNS server implementation, can be abused by an attacker to significantly degrade resolver performance, resulting in denial of service (large delays for responses for client queries and DNS timeouts on client hosts). | 4.0.0-4.3.0 | |
| <a name="2839140"></a> [2839140](#2839140) <a name="2839140"></a> <br /> | After building VLAN or VXLAN interfaces, MLAG becomes unstable. | 4.3.0-4.4.1 | |
| <a name="2835817"></a> [2835817](#2835817) <a name="2835817"></a> <br /> | Multicast packets are not seen on a SPAN port. |  | |
| <a name="2826121"></a> [2826121](#2826121) <a name="2826121"></a> <br /> | When you configure 199 VXLANs plus 199 VLANs, <code>clagd</code> crashes every few seconds.  | 3.7.15, 4.3.0, 4.4.0-4.4.1 | |
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.5 | |
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.5 | |
| <a name="2813563"></a> [2813563](#2813563) <a name="2813563"></a> <br /> | When you change the port speed with the NVUE <code>nv set interface <interface> link speed</code> command, then run <code>nv config apply</code>, the port is disabled. To work around this issue, run the <code>ifreload -a</code> command after you apply the port speed setting. | 4.4.0-4.4.5 | |
| <a name="2803428"></a> [2803428](#2803428) <a name="2803428"></a> <br /> | The <code>clagctl -v -j</code> and <code>net show clag verbose json</code> commands show incorrect output. | 4.4.0-4.4.5 | |
| <a name="2803028"></a> [2803028](#2803028) <a name="2803028"></a> <br /> | Restarting <code>switchd</code> might fail due to an ACL SPAN module initialization failure.  | 4.4.2-4.4.3 | |
| <a name="2802859"></a> [2802859](#2802859) <a name="2802859"></a> <br /> | When the <code>INTF_CMD</code> list in the <code>/etc/default/isc-dhcp-relay</code> file includes non-existent or partially configured interfaces from the <code>/etc/netwwork/interfaces</code> file, there is an open file descriptor leak in DHCP Relay; the DHCP Relay service exits and you see error messages. To work around this issue, either clean up the <code>INTF_CMD</code> list in the <code>/etc/default/isc-dhcp-relay</code> file to remove non-existent or partially configured interfaces from the <code>/etc/network/interfaces</code> file or correct the <code>/etc/network/interfaces</code> file to have a complete configuration for all interfaces defined in the <code>INTF_CMD</code> list in the <code>/etc/default/isc-dhcp-relay</code> file. | 4.4.0-4.4.5 | |
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.5 | |
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.5 | |
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.5 | |
| <a name="2794766"></a> [2794766](#2794766) <a name="2794766"></a> <br /> | The Mellanox 3700C switch reports a slow memory leak in sx_sdk. Memory increases by about 240B/hour and does not free up. | 4.3.0-4.4.5 | |
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.5 | |
| <a name="2781537"></a> [2781537](#2781537) <a name="2781537"></a> <br /> | In Cumulus VX, the iptables FORWARD chain does not count hits. To work around this issue, use <code> -t mangle -A PREROUTING</code> instead of <code>FORWARD</code>. | 4.3.0-4.4.5 | |
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.5 | |
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | |
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.5 | |
| <a name="2755615"></a> [2755615](#2755615) <a name="2755615"></a> <br /> | When <code>route_preferred_over_neigh</code> is set to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, host routes (/32 or /128) are used for forwarding in hardware instead of a local neighbor entry. | 4.0.0-4.3.0, 4.4.0-4.4.1 | |
| <a name="2753955"></a> [2753955](#2753955) <a name="2753955"></a> <br /> | On the Lenovo MSN3700 switch, if you try to configure an interface with a link speed of 200G, the configuration fails. | 4.2.1-4.4.5 | |
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.5 | |
| <a name="2747750"></a> [2747750](#2747750) <a name="2747750"></a> <br /> | Links connected between a Spectrum 2 switch configured for warm boot and Spectrum 3 switches configured for cold boot might not come up when the switches are booted. | 4.4.2-4.4.5 | |
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.5 | |
| <a name="2736249"></a> [2736249](#2736249) <a name="2736249"></a> <br /> | If you configure BGP graceful restart in the <code>/etc/frr/frr.conf</code> file, then apply the configuration with <code>systemctl reload frr</code>, the configuration fails to apply and you see the following error:<br />  <pre>Job for frr.service failed<br />See "systemctl status frr.service" and "journalctl -xe" for details.</pre> |  | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.5 | |
| <a name="2734275"></a> [2734275](#2734275) <a name="2734275"></a> <br /> | On NVIDIA Spectrum-1, -2, and -3 switches, the <code>decode-syseeprom</code> command does not return the correct value<br /><pre>cumulus&#64;switch:~$  decode-syseeprom -t psu1Device is not ready: absent </pre> |  | |
| <a name="2734119"></a> [2734119](#2734119) <a name="2734119"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.5 | |
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0, 4.4.0-4.4.5 | |
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.5 | |
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.5 | |
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.5 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.5 | |
| <a name="2556811"></a> [2556811](#2556811) <a name="2556811"></a> <br />CM-33416 | Under certain high scale conditions, various modules might experience timetouts during cl-support collection, which results in missing data in the cl-support file. | 3.7.12-3.7.15, 4.1.1-4.3.0 | |
| <a name="2556039"></a> [2556039](#2556039) <a name="2556039"></a> <br />CM-33013 | Cumulus Linux learns remote MAC addresses as local entries on the bridge with the wrong remote VTEP IP address even when bridge learning is off on the VTEP and ARP suppression is enabled.  | 4.4.0-4.4.3 | |
| <a name="2555981"></a> [2555981](#2555981) <a name="2555981"></a> <br />CM-32979 | In BGP, to enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.5 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.5 | |

