---
title: Cumulus Linux 5.0 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "5.0"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-50" >}}
## 5.0.1 Release Notes
### Open Issues in 5.0.1

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3096918"></a> [3096918](#3096918) <a name="3096918"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="3093863"></a> [3093863](#3093863) <a name="3093863"></a> <br /> | Slow memory leak caused by snmpd process using Zabbix template "Template Net Mellanox SNMP" | 3.7.16, 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="3084101"></a> [3084101](#3084101) <a name="3084101"></a> <br /> | CVE-2022-1664: dpkg has a vulnerability relating to directory traversal for in-place extracts with untrusted v2 and v3 source packages with debian.tarVulnerable: <= 1.19.7Fixed: 1.19.8 | 5.0.0-5.1.0 | |
| <a name="3082583"></a> [3082583](#3082583) <a name="3082583"></a> <br /> | On the NVIDIA SN3420, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3078202"></a> [3078202](#3078202) <a name="3078202"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3077736"></a> [3077736](#3077736) <a name="3077736"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails.<br /><pre><br />cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400<br />cumulus&#64;switch:~$ nv config apply<br />2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr.<br /></pre> | 5.0.1-5.1.0 | |
| <a name="3077547"></a> [3077547](#3077547) <a name="3077547"></a> <br /> | When you configure multiple multicast RPs with groups matched by prefix lists, Cumulus Linux selects only one of the RPs and this selection is incorrect. | 5.0.1-5.1.0 | |
| <a name="3073649"></a> [3073649](#3073649) <a name="3073649"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3066280"></a> [3066280](#3066280) <a name="3066280"></a> <br /> |  The python module pygments version 2.12.0 on the Cumulus Linux switch prevents NVUE from displaying colored output and produces an error or failure. The failure specifically identifies <code>#ansidarkred</code> as the problem color format. The error prevents any output from showing on the CLI<br />To work around this problem, downgrade the pygments module to version 2.3.1. | 5.0.1-5.1.0 | |
| <a name="3061445"></a> [3061445](#3061445) <a name="3061445"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails<br /><pre>cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400cumulus&#64;switch:~$ nv config apply2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr<br /></pre> | 5.0.1-5.1.0 | |
| <a name="3060400"></a> [3060400](#3060400) <a name="3060400"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3060399"></a> [3060399](#3060399) <a name="3060399"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isn’t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.1.0 | |
| <a name="3059380"></a> [3059380](#3059380) <a name="3059380"></a> <br /> | When you configure VRF leaking from the default VRF to a non-default VRF, SSH sessions originating from the switch CLI in the default VRF do not connect to devices in the non-default VRF. | 5.0.1-5.1.0 | |
| <a name="3054869"></a> [3054869](#3054869) <a name="3054869"></a> <br /> | When you run NVUE commands as part of ZTP scripts, the commands fail with many  errors<br />To work around this issue, before you use any NVUE commands in the ZTP script, add a section and define the <code>HOME</code> environment variable. Populate the variable with the default expected <code>root</code> user home directory value (/root). Also, you must export the <code>HOME</code> variable so it is available globally for NVUE to use<br /><pre># Manually set HOME var for root userHOME=/rootexport HOME</pre> | 5.0.0-5.1.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="3045302"></a> [3045302](#3045302) <a name="3045302"></a> <br /> | CVE-2022-1271: incorrect handling of filenames by xzgrep in xz-utils, the XZ-format compression utilities, can result in overwrite of arbitrary files or execution of arbitrary code if a file with a specially crafted filename is processed<br />Vulnerable: 5.2.4-1Fixed: 5.2.4-1+deb10u1 | 5.0.0-5.1.0 | |
| <a name="3045299"></a> [3045299](#3045299) <a name="3045299"></a> <br /> | CVE-2022-1271: incorrect handling of filenames by zgrep in gzip, the GNU compression utilities, can result in overwrite of arbitrary files or execution of arbitrary code if a file with a specially crafted filename is processed. | 5.0.0-5.1.0 | |
| <a name="3044596"></a> [3044596](#3044596) <a name="3044596"></a> <br /> | In the non-default VRF, BFD goes down after port flap. | 5.0.1-5.1.0 | |
| <a name="3041425"></a> [3041425](#3041425) <a name="3041425"></a> <br /> | When you add or remove PortAutoEdge on a bond with the NVUE <code>nv set interface <bond> bridge domain br_default stp auto-edge</code> command, the command fails with the following error and then attempts to enable or disable PortAutoEdge on any interface also fail<br /><pre>cumulus&#64;switch:~$ nv set interface swp1 bridge domain br_default stp auto-edge offcumulus&#64;switch:~$ nv config applyUnable to reload-or-restart services (switchd,ifreload-nvue.service):&#91;sudo&#93; password for nvue: Job for ifreload-nvue.service failed because the control process exited with error code<br />Failure during apply. Ignore? &#91;y/N&#93;</pre> | 5.0.1-5.1.0 | |
| <a name="3041307"></a> [3041307](#3041307) <a name="3041307"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="3040080"></a> [3040080](#3040080) <a name="3040080"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3035855"></a> [3035855](#3035855) <a name="3035855"></a> <br /> | When you configure ACLs on the switch, you might see a <code>switchd</code> segmentation fault. | 5.0.1 | 5.1.0|
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 5.0.1 | 5.1.0|
| <a name="3030238"></a> [3030238](#3030238) <a name="3030238"></a> <br /> | When you change the time with NTP or manually, the clagd service stops. | 4.4.3-5.0.1 | 5.1.0|
| <a name="3025899"></a> [3025899](#3025899) <a name="3025899"></a> <br /> | CVE-2018-25032: zlib before 1.2.12 allows memory corruption when deflating (i.e., when compressing) if the input has many distant matches<br />Vulnerable: 1.2.11.dfsg-1Fixed: 1.2.11.dfsg-1+deb10u1 | 5.0.0-5.1.0 | |
| <a name="3021897"></a> [3021897](#3021897) <a name="3021897"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3-5.0.1 | 5.1.0|
| <a name="3021887"></a> [3021887](#3021887) <a name="3021887"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0|
| <a name="3021696"></a> [3021696](#3021696) <a name="3021696"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-5.0.1 | 5.1.0|
| <a name="3021693"></a> [3021693](#3021693) <a name="3021693"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3021692"></a> [3021692](#3021692) <a name="3021692"></a> <br /> | GARPs from <code>neighmgrd</code> for remote neighbors are sent over VXLAN when ARP suppression is off. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3020254"></a> [3020254](#3020254) <a name="3020254"></a> <br /> | GARPs from <code>neighmgrd</code> for remote neighbors are sent over VXLAN when ARP suppression is off. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3017127"></a> [3017127](#3017127) <a name="3017127"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3016882"></a> [3016882](#3016882) <a name="3016882"></a> <br /> | When you power-cycle a newly installed switch and apply the default configuration, the underlying NVUE repository becomes corrupted. Even if you correct the corruption, NVUE cannot run<br />To recover, uninstall NVUE and delete the <code>/var/lib/nvue</code> directory:<pre>cumulus&#64;leaf01:~$ sudo apt remove python3-nvuecumulus&#64;leaf01:~$ rm -r /var/lib/nvuecumulus&#64;leaf01:~$ sudo apt updatecumulus&#64;leaf01:~$ sudo apt install python3-nvuecumulus&#64;leaf01:~$ sudo systemctl enable nvuedcumulus&#64;leaf01:~$ sudo systemctl start nvued</pre> | 5.0.1-5.1.0 | |
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0|
| <a name="3007020"></a> [3007020](#3007020) <a name="3007020"></a> <br /> | The <code>sudo smonctl</code> command output shows an error for the ASIC temperature sensor (temp6). | 5.0.0-5.0.1 | 5.1.0|
| <a name="3003167"></a> [3003167](#3003167) <a name="3003167"></a> <br /> | Updating an existing tunnel configuration with NVUE or directly in the <code>/etc/network/interfaces</code> file causes traffic loss. The original tunnel is destroyed and then recreated (with a new ifindex)<br />The new behavior will make sure to apply the configuration delta without disrupting any traffic as much as possible. Note that a tunnel mode change can't be applied without causing traffic loss.  | 5.0.0-5.0.1 | 5.1.0|
| <a name="2999342"></a> [2999342](#2999342) <a name="2999342"></a> <br /> | CVE-2020-36311, CVE-2021-3609, CVE-2021-33909, CVE-2021-34693Several vulnerabilities have been discovered in the Linux kernel that may lead to a privilege escalation, denial of service or information leaks<br />Fixed: 4.19.194-3 | 4.2.1-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2999253"></a> [2999253](#2999253) <a name="2999253"></a> <br /> | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload. This occurs because removing NGINX also removes the libyaml-0-2 and python-yaml packages, which are required for the <code>switchd</code> consistency check. | 4.3.0-5.0.1 | 5.1.0|
| <a name="2999243"></a> [2999243](#2999243) <a name="2999243"></a> <br /> | sFlow fails to send flow samples. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0|
| <a name="2993471"></a> [2993471](#2993471) <a name="2993471"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2984205"></a> [2984205](#2984205) <a name="2984205"></a> <br /> | CVE-2021-43612: in lldpd, by sending short SONMP packets, an attacker can make the decoder crashby reading too much data on the heap<br />Vulnerable: <= 1.0.4-0-cl5.1.0u7, 1.0.4-0-cl4.4.0u0, 1.0.4-0-cl4.3.0u2, 1.0.4-0-cl3u15Fixed: | 3.7.0-3.7.15, 4.0.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2982534"></a> [2982534](#2982534) <a name="2982534"></a> <br /> | CVE-2022-25235, CVE-2022-25236, CVE-2022-25313, CVE-2022-25314, CVE-2022-25315: Several vulnerabilities have been discovered in Expat, an XML parsing Clibrary, which could result in denial of service or potentially theexecution of arbitrary code, if a malformed XML file is processed<br />Vulnerable: <= 2.2.6-2+deb10u2Fixed: 2.2.6-2+deb10u3 | 5.0.0-5.1.0 | |
| <a name="2980891"></a> [2980891](#2980891) <a name="2980891"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2978165"></a> [2978165](#2978165) <a name="2978165"></a> <br /> | When you use NVUE to configure an ACL rule with a <code>set cos</code> action, the <code>nv config apply</code> command fails with the following error message:{nofromat}$ cumulus&#64;switch:~$ nv config applyFailed to prepare to applyUnrecoverable internal error{nofromat} | 5.0.1 | 5.1.0|
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 3.7.15-3.7.16, 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2972538"></a> [2972538](#2972538) <a name="2972538"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 3.7.15-3.7.16, 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2971159"></a> [2971159](#2971159) <a name="2971159"></a> <br /> | On rare occasions, the link up time on optical media can be more than five seconds.  | 4.4.3-5.0.1 | 5.1.0|
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2, 5.0.0-5.1.0 | 4.4.3|
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under layer 3 VNIs. | 3.7.15, 4.4.2-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2961216"></a> [2961216](#2961216) <a name="2961216"></a> <br /> | When there is a peer link failure followed by a power failure or a crash on the primary switch,  the MLAG secondary switch takes up to 24 seconds to change roles to the Primary. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.1.0 | 4.4.3|
| <a name="2957968"></a> [2957968](#2957968) <a name="2957968"></a> <br /> | After you install the RADIUS <code>libnss-mapuser</code> package, the <code>nvued</code> service fails to start. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.1.0 | |
| <a name="2947679"></a> [2947679](#2947679) <a name="2947679"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-5.0.1 | 3.7.16, 5.1.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0|
| <a name="2940005"></a> [2940005](#2940005) <a name="2940005"></a> <br /> | If you reboot the switch when using WJH, you need to start the <code>what-just-happened</code> service even if the service is enabled. | 5.0.1 | 5.1.0|
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.1.0 | |
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0|
| <a name="2923737"></a> [2923737](#2923737) <a name="2923737"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2914835"></a> [2914835](#2914835) <a name="2914835"></a> <br /> | NVUE flexible snippets create invalid YAML files. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0|
| <a name="2910017"></a> [2910017](#2910017) <a name="2910017"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.1.0 | 4.4.3|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-5.0.1 | 5.1.0|
| <a name="2903374"></a> [2903374](#2903374) <a name="2903374"></a> <br /> | The <code>nv show interfaces</code> command returns a 500 error and syslog shows a python error, triggered by third party devices (non CL) missing LLDP fields<br />To work around this issue, disable LLDP on a single interface. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2898044"></a> [2898044](#2898044) <a name="2898044"></a> <br /> | NVUE commands including the <code>nv config apply</code> command might fail with the following error because the <code>/etc/resolv.conf</code> file is missing<br /><pre>Failed to prepare to applyUnrecoverable internal error</pre> | 5.0.0-5.0.1 | 5.1.0|
| <a name="2896672"></a> [2896672](#2896672) <a name="2896672"></a> <br /> | When you add a new VLAN, the VLAN interface type shows as <code>unknown</code> and cannot be reached. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2891257"></a> [2891257](#2891257) <a name="2891257"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2890683"></a> [2890683](#2890683) <a name="2890683"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2886488"></a> [2886488](#2886488) <a name="2886488"></a> <br /> | NVUE commands fail to configure port mirroring. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2885287"></a> [2885287](#2885287) <a name="2885287"></a> <br /> | When you change the port breakout configuration, you must restart <code>switchd</code> to clean up any previously-associated port states and reinitialize the ports. Reloading <code>switchd</code> does not work. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2879645"></a> [2879645](#2879645) <a name="2879645"></a> <br /> | When you add a new VLAN, the VLAN interface type shows as <code>unknown</code> and cannot be reached. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2875279"></a> [2875279](#2875279) <a name="2875279"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2873053"></a> [2873053](#2873053) <a name="2873053"></a> <br /> | In an EVPN Multihoming configuration, when any host side bond member port is brought admin down (<code>ifdown</code> and up <code>ifup</code>),  the VTEP might not program the local MAC addresses in hardware. | 5.0.0-5.1.0 | |
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.1.0 | |
| <a name="2861989"></a> [2861989](#2861989) <a name="2861989"></a> <br /> | Incomplete or unnecessary configuration in FRR results in FRR restarting instead of rejecting the configuration with an error. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0|
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.1.0 | |
| <a name="2855908"></a> [2855908](#2855908) <a name="2855908"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send<br />To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2854787"></a> [2854787](#2854787) <a name="2854787"></a> <br /> | An unexpected software system shutdown can occur due to a thermal zones issue in the <code>hw-management</code> package. The following message might appear in <code>/var/log/syslog</code> before the shutdown:<pre>thermal thermal_zoneX: critical temperature reached (33 C), shutting down</pre> | 4.3.0-5.0.1 | 5.1.0|
| <a name="2847919"></a> [2847919](#2847919) <a name="2847919"></a> <br /> | Configuring a router with the REST API through the switch front panel ports (swps) is supported in the default VRF only<br />To work around this issue, use the localHost IP address or the MGMT IP address to configure router using the Rest API. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.1.0 | |
| <a name="2847618"></a> [2847618](#2847618) <a name="2847618"></a> <br /> | When you enable PIM on VLAN interfaces, multicast throughput might not achieve line rate depending on packet sizes in the multicast flow. | 5.0.0-5.1.0 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.1.0 | |
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0-5.0.1 | 3.7.16, 5.1.0|
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.1.0 | |
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-3.7.16, 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0|

### Fixed Issues in 5.0.1
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2908541"></a> [2908541](#2908541) <a name="2908541"></a> <br /> | Running <code>apt dist-upgrade</code> causes <code>switchd</code> to stop and never start again.  Do not use <code>apt dist-upgrade</code>; use <code>apt upgrade</code> instead. Cumulus Linux does not support <code>apt dist-upgrade</code><br />To work around this issue, if you run <code>apt dist-upgrade</code> and <code>switchd</code> no longer works, run the <code>apt install sx-sdk-eth-dev</code> command (and run the command for any other removed package) or reinstall the Cumulus Linux image. | 5.0.0 | |

## 5.0.0 Release Notes
### Open Issues in 5.0.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3096918"></a> [3096918](#3096918) <a name="3096918"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="3093863"></a> [3093863](#3093863) <a name="3093863"></a> <br /> | Slow memory leak caused by snmpd process using Zabbix template "Template Net Mellanox SNMP" | 3.7.16, 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="3084101"></a> [3084101](#3084101) <a name="3084101"></a> <br /> | CVE-2022-1664: dpkg has a vulnerability relating to directory traversal for in-place extracts with untrusted v2 and v3 source packages with debian.tarVulnerable: <= 1.19.7Fixed: 1.19.8 | 5.0.0-5.1.0 | |
| <a name="3082583"></a> [3082583](#3082583) <a name="3082583"></a> <br /> | On the NVIDIA SN3420, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3078202"></a> [3078202](#3078202) <a name="3078202"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3073649"></a> [3073649](#3073649) <a name="3073649"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3060400"></a> [3060400](#3060400) <a name="3060400"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3054869"></a> [3054869](#3054869) <a name="3054869"></a> <br /> | When you run NVUE commands as part of ZTP scripts, the commands fail with many  errors<br />To work around this issue, before you use any NVUE commands in the ZTP script, add a section and define the <code>HOME</code> environment variable. Populate the variable with the default expected <code>root</code> user home directory value (/root). Also, you must export the <code>HOME</code> variable so it is available globally for NVUE to use<br /><pre># Manually set HOME var for root userHOME=/rootexport HOME</pre> | 5.0.0-5.1.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="3045302"></a> [3045302](#3045302) <a name="3045302"></a> <br /> | CVE-2022-1271: incorrect handling of filenames by xzgrep in xz-utils, the XZ-format compression utilities, can result in overwrite of arbitrary files or execution of arbitrary code if a file with a specially crafted filename is processed<br />Vulnerable: 5.2.4-1Fixed: 5.2.4-1+deb10u1 | 5.0.0-5.1.0 | |
| <a name="3045299"></a> [3045299](#3045299) <a name="3045299"></a> <br /> | CVE-2022-1271: incorrect handling of filenames by zgrep in gzip, the GNU compression utilities, can result in overwrite of arbitrary files or execution of arbitrary code if a file with a specially crafted filename is processed. | 5.0.0-5.1.0 | |
| <a name="3041307"></a> [3041307](#3041307) <a name="3041307"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="3040080"></a> [3040080](#3040080) <a name="3040080"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3030238"></a> [3030238](#3030238) <a name="3030238"></a> <br /> | When you change the time with NTP or manually, the clagd service stops. | 4.4.3-5.0.1 | 5.1.0|
| <a name="3025899"></a> [3025899](#3025899) <a name="3025899"></a> <br /> | CVE-2018-25032: zlib before 1.2.12 allows memory corruption when deflating (i.e., when compressing) if the input has many distant matches<br />Vulnerable: 1.2.11.dfsg-1Fixed: 1.2.11.dfsg-1+deb10u1 | 5.0.0-5.1.0 | |
| <a name="3021897"></a> [3021897](#3021897) <a name="3021897"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3-5.0.1 | 5.1.0|
| <a name="3021887"></a> [3021887](#3021887) <a name="3021887"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | 5.1.0|
| <a name="3021696"></a> [3021696](#3021696) <a name="3021696"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-5.0.1 | 5.1.0|
| <a name="3021693"></a> [3021693](#3021693) <a name="3021693"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3021692"></a> [3021692](#3021692) <a name="3021692"></a> <br /> | GARPs from <code>neighmgrd</code> for remote neighbors are sent over VXLAN when ARP suppression is off. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3020254"></a> [3020254](#3020254) <a name="3020254"></a> <br /> | GARPs from <code>neighmgrd</code> for remote neighbors are sent over VXLAN when ARP suppression is off. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3017127"></a> [3017127](#3017127) <a name="3017127"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | 5.1.0|
| <a name="3007564"></a> [3007564](#3007564) <a name="3007564"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | 5.1.0|
| <a name="3007020"></a> [3007020](#3007020) <a name="3007020"></a> <br /> | The <code>sudo smonctl</code> command output shows an error for the ASIC temperature sensor (temp6). | 5.0.0-5.0.1 | 5.1.0|
| <a name="3003167"></a> [3003167](#3003167) <a name="3003167"></a> <br /> | Updating an existing tunnel configuration with NVUE or directly in the <code>/etc/network/interfaces</code> file causes traffic loss. The original tunnel is destroyed and then recreated (with a new ifindex)<br />The new behavior will make sure to apply the configuration delta without disrupting any traffic as much as possible. Note that a tunnel mode change can't be applied without causing traffic loss.  | 5.0.0-5.0.1 | 5.1.0|
| <a name="2999342"></a> [2999342](#2999342) <a name="2999342"></a> <br /> | CVE-2020-36311, CVE-2021-3609, CVE-2021-33909, CVE-2021-34693Several vulnerabilities have been discovered in the Linux kernel that may lead to a privilege escalation, denial of service or information leaks<br />Fixed: 4.19.194-3 | 4.2.1-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2999253"></a> [2999253](#2999253) <a name="2999253"></a> <br /> | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload. This occurs because removing NGINX also removes the libyaml-0-2 and python-yaml packages, which are required for the <code>switchd</code> consistency check. | 4.3.0-5.0.1 | 5.1.0|
| <a name="2999243"></a> [2999243](#2999243) <a name="2999243"></a> <br /> | sFlow fails to send flow samples. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | 5.1.0|
| <a name="2993471"></a> [2993471](#2993471) <a name="2993471"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2984205"></a> [2984205](#2984205) <a name="2984205"></a> <br /> | CVE-2021-43612: in lldpd, by sending short SONMP packets, an attacker can make the decoder crashby reading too much data on the heap<br />Vulnerable: <= 1.0.4-0-cl5.1.0u7, 1.0.4-0-cl4.4.0u0, 1.0.4-0-cl4.3.0u2, 1.0.4-0-cl3u15Fixed: | 3.7.0-3.7.15, 4.0.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2982534"></a> [2982534](#2982534) <a name="2982534"></a> <br /> | CVE-2022-25235, CVE-2022-25236, CVE-2022-25313, CVE-2022-25314, CVE-2022-25315: Several vulnerabilities have been discovered in Expat, an XML parsing Clibrary, which could result in denial of service or potentially theexecution of arbitrary code, if a malformed XML file is processed<br />Vulnerable: <= 2.2.6-2+deb10u2Fixed: 2.2.6-2+deb10u3 | 5.0.0-5.1.0 | |
| <a name="2980891"></a> [2980891](#2980891) <a name="2980891"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 3.7.15-3.7.16, 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2972538"></a> [2972538](#2972538) <a name="2972538"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 3.7.15-3.7.16, 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2971159"></a> [2971159](#2971159) <a name="2971159"></a> <br /> | On rare occasions, the link up time on optical media can be more than five seconds.  | 4.4.3-5.0.1 | 5.1.0|
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2, 5.0.0-5.1.0 | 4.4.3|
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under layer 3 VNIs. | 3.7.15, 4.4.2-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2961216"></a> [2961216](#2961216) <a name="2961216"></a> <br /> | When there is a peer link failure followed by a power failure or a crash on the primary switch,  the MLAG secondary switch takes up to 24 seconds to change roles to the Primary. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.1.0 | 4.4.3|
| <a name="2957968"></a> [2957968](#2957968) <a name="2957968"></a> <br /> | After you install the RADIUS <code>libnss-mapuser</code> package, the <code>nvued</code> service fails to start. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.1.0 | |
| <a name="2947679"></a> [2947679](#2947679) <a name="2947679"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-5.0.1 | 3.7.16, 5.1.0|
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | 5.1.0|
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.1.0 | |
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | 5.1.0|
| <a name="2923737"></a> [2923737](#2923737) <a name="2923737"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2914835"></a> [2914835](#2914835) <a name="2914835"></a> <br /> | NVUE flexible snippets create invalid YAML files. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | 5.1.0|
| <a name="2910017"></a> [2910017](#2910017) <a name="2910017"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.1.0 | 4.4.3|
| <a name="2908541"></a> [2908541](#2908541) <a name="2908541"></a> <br /> | Running <code>apt dist-upgrade</code> causes <code>switchd</code> to stop and never start again.  Do not use <code>apt dist-upgrade</code>; use <code>apt upgrade</code> instead. Cumulus Linux does not support <code>apt dist-upgrade</code><br />To work around this issue, if you run <code>apt dist-upgrade</code> and <code>switchd</code> no longer works, run the <code>apt install sx-sdk-eth-dev</code> command (and run the command for any other removed package) or reinstall the Cumulus Linux image. | 5.0.0 | 5.0.1-5.1.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-5.0.1 | 5.1.0|
| <a name="2903374"></a> [2903374](#2903374) <a name="2903374"></a> <br /> | The <code>nv show interfaces</code> command returns a 500 error and syslog shows a python error, triggered by third party devices (non CL) missing LLDP fields<br />To work around this issue, disable LLDP on a single interface. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2898044"></a> [2898044](#2898044) <a name="2898044"></a> <br /> | NVUE commands including the <code>nv config apply</code> command might fail with the following error because the <code>/etc/resolv.conf</code> file is missing<br /><pre>Failed to prepare to applyUnrecoverable internal error</pre> | 5.0.0-5.0.1 | 5.1.0|
| <a name="2896672"></a> [2896672](#2896672) <a name="2896672"></a> <br /> | When you add a new VLAN, the VLAN interface type shows as <code>unknown</code> and cannot be reached. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2891257"></a> [2891257](#2891257) <a name="2891257"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2890683"></a> [2890683](#2890683) <a name="2890683"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.3|
| <a name="2886488"></a> [2886488](#2886488) <a name="2886488"></a> <br /> | NVUE commands fail to configure port mirroring. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2885287"></a> [2885287](#2885287) <a name="2885287"></a> <br /> | When you change the port breakout configuration, you must restart <code>switchd</code> to clean up any previously-associated port states and reinitialize the ports. Reloading <code>switchd</code> does not work. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2879645"></a> [2879645](#2879645) <a name="2879645"></a> <br /> | When you add a new VLAN, the VLAN interface type shows as <code>unknown</code> and cannot be reached. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.4.3, 5.0.0-5.1.0 | |
| <a name="2875279"></a> [2875279](#2875279) <a name="2875279"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-4.4.3, 5.0.0-5.1.0 | 3.7.16|
| <a name="2873053"></a> [2873053](#2873053) <a name="2873053"></a> <br /> | In an EVPN Multihoming configuration, when any host side bond member port is brought admin down (<code>ifdown</code> and up <code>ifup</code>),  the VTEP might not program the local MAC addresses in hardware. | 5.0.0-5.1.0 | |
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.1.0 | |
| <a name="2861989"></a> [2861989](#2861989) <a name="2861989"></a> <br /> | Incomplete or unnecessary configuration in FRR results in FRR restarting instead of rejecting the configuration with an error. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | 5.1.0|
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.1.0 | |
| <a name="2855908"></a> [2855908](#2855908) <a name="2855908"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send<br />To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15-3.7.16, 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2854787"></a> [2854787](#2854787) <a name="2854787"></a> <br /> | An unexpected software system shutdown can occur due to a thermal zones issue in the <code>hw-management</code> package. The following message might appear in <code>/var/log/syslog</code> before the shutdown:<pre>thermal thermal_zoneX: critical temperature reached (33 C), shutting down</pre> | 4.3.0-5.0.1 | 5.1.0|
| <a name="2847919"></a> [2847919](#2847919) <a name="2847919"></a> <br /> | Configuring a router with the REST API through the switch front panel ports (swps) is supported in the default VRF only<br />To work around this issue, use the localHost IP address or the MGMT IP address to configure router using the Rest API. | 5.0.0-5.0.1 | 5.1.0|
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.1.0 | |
| <a name="2847618"></a> [2847618](#2847618) <a name="2847618"></a> <br /> | When you enable PIM on VLAN interfaces, multicast throughput might not achieve line rate depending on packet sizes in the multicast flow. | 5.0.0-5.1.0 | |
| <a name="2837378"></a> [2837378](#2837378) <a name="2837378"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.1.0 | |
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0-5.0.1 | 3.7.16, 5.1.0|
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.1.0 | |
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-3.7.16, 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | 5.1.0|
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | 5.1.0|

### Fixed Issues in 5.0.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2877793"></a> [2877793](#2877793) <a name="2877793"></a> <br /> | CVE-2021-43527: The NSS package is vulnerable to a heap overflow when verifying DSA/RSA-PSS DER-encoded signatures<br />Vulnerable: <= 3.42.1-1+deb10u3Fixed: 3.42.1-1+deb10u4 | 4.0.0-4.4.1 | |
| <a name="2873320"></a> [2873320](#2873320) <a name="2873320"></a> <br /> | CVE-2020-21913: International Components for Unicode (ICU-20850) v66.1 was discovered to contain a use after free bug in the pkg_createWithAssemblyCode function in the file tools/pkgdata/pkgdata.cpp. | 4.0.0-4.4.1 | |
| <a name="2873186"></a> [2873186](#2873186) <a name="2873186"></a> <br /> | In an MLAG configuration with traditional bridges, MAC addresses are  seen over peer link during <code>ifreload</code> when adding new VLANS or bridges.  | 3.7.14.2-3.7.15, 4.3.0-4.4.3 | |
| <a name="2862211"></a> [2862211](#2862211) <a name="2862211"></a> <br /> | On NVIDIA Spectrum ASICs in a layer 2 bridge scaled configuration (more than 800 VLANs), <code>clagd.service</code> enters a failed state after a reboot or a <code>switchd</code> restart<br />To work around this issue, load the port configuration in a staggered manner (groups of five downlink ports). | 3.7.12-3.7.15, 4.3.0-4.4.3 | |
| <a name="2845647"></a> [2845647](#2845647) <a name="2845647"></a> <br /> |  The <code>mpls_enable = TRUE</code> parameter in the <code>/etc/cumulus/datapath/traffic.conf</code> does not enable MPLS. |  | |
| <a name="2845536"></a> [2845536](#2845536) <a name="2845536"></a> <br /> | CVE-2020-19143: A flaw was discovered in tiff, a Tag Image File Format library, which may result in denial of service or the execution of arbitrary code if malformed image files are processed<br />Vulnerable: <= 4.1.0+git191117-2~deb10u2Fixed: 4.1.0+git191117-2~deb10u3 | 4.0.0-4.4.1 | |
| <a name="2845531"></a> [2845531](#2845531) <a name="2845531"></a> <br /> | If you update the MAC address of an SVI when the SVI is in a <code>protodown</code> state (for example, when no bridge ports that carry this VNI are operationally up or if the MAC address of the SVI's parent bridge changes), <code>clagd</code> does not notice the change. The MLAG peer incorrectly maintains a PERMANENT neighbor entry for the SVI IP that points to the old MAC address. | 4.2.1-4.4.3 | |
| <a name="2845290"></a> [2845290](#2845290) <a name="2845290"></a> <br /> | The following vulnerabilities in gdb, as embedded in the crash handling program, have been announced:CVE-2019-1010180: Buffer overflow which can be triggered by debugging an ELF file<br />CVE-2017-9778: Vulnerability to a negative length field in DWARF section, resulting in excessive memory allocation<br />Vulnerable: crash 7.2.8-1+cl4u1 and 7.2.8-1+cl3u1 with embedded gdb 7.6Fixed: crash 7.2.8-1+cl5.0.0u6 | 3.7.15-4.4.3 | |
| <a name="2841584"></a> [2841584](#2841584) <a name="2841584"></a> <br /> | After you upgrade Cumulus Linux on one of the MLAG peers, the bonds do not come up and the reason shows <code>anycast-ip-mismatch</code> even though there is no VXLAN configuration on the switch.  To work around this issue, configure an anycast IP address under the loopback interface on both switches in the MLAG pair. | 4.4.2-4.4.3 | |
| <a name="2840817"></a> [2840817](#2840817) <a name="2840817"></a> <br /> | CVE-2021-25219: The lame server cache in BIND, a DNS server implementation, can be abused by an attacker to significantly degrade resolver performance, resulting in denial of service (large delays for responses for client queries and DNS timeouts on client hosts). | 4.0.0-4.4.1 | |
| <a name="2839140"></a> [2839140](#2839140) <a name="2839140"></a> <br /> | After building VLAN or VXLAN interfaces, MLAG becomes unstable. | 4.3.0-4.4.1 | |
| <a name="2835817"></a> [2835817](#2835817) <a name="2835817"></a> <br /> | Multicast packets are not seen on a SPAN port. |  | |
| <a name="2826121"></a> [2826121](#2826121) <a name="2826121"></a> <br /> | When you configure 199 VXLANs plus 199 VLANs, <code>clagd</code> crashes every few seconds.  | 3.7.15, 4.3.0-4.4.1 | |
| <a name="2821869"></a> [2821869](#2821869) <a name="2821869"></a> <br /> | The <code>cl-route-check --layer3</code> command fails with a memory error. For example:<pre>cumulus&#64;switch:~$ sudo cl-route-check --layer3Traceback (most recent call last):<br />File "/usr/cumulus/bin/cl-route-check", line 1270, in <module><br /> routing.collect_data()<br />File "/usr/cumulus/bin/cl-route-check", line 528, in collect_data<br /> self.collect_data_bgp_ipv4()<br />File "/usr/cumulus/bin/cl-route-check", line 711, in collect_data_bgp_ipv4<br /> bgp_ipv4 = json.loads(output)<br />File "/usr/lib/python2.7/json/__init__.py", line 338, in loads<br /> return _default_decoder.decode(s)<br />File "/usr/lib/python2.7/json/decoder.py", line 366, in decode<br /> obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br />File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode<br /> obj, end = self.scan_once(s, idx)MemoryError</pre> | 3.7.15-4.4.3 | |
| <a name="2820565"></a> [2820565](#2820565) <a name="2820565"></a> <br /> | SNMP does not start and you see errors similar to the following:<pre>cumulus&#64;switch:~$ sudo systemctl status snmpd.service snmpd.service - Simple Network Management Protocol (SNMP) Daemon.<br />  Loaded: loaded (/lib/systemd/system/snmpd.service; enabled; vendor preset: enabled)<br />  Active: failed (Result: exit-code) since Mon 2021-10-11 14:38:13 UTC; 1min 8s ago<br /> Process: 1987 ExecStart=/usr/sbin/snmpd $SNMPDOPTS -f (code=exited, status=1/FAILURE)<br />Main PID: 1987 (code=exited, status=1/FAILURE)</pre>To work around this issue, run the <code>sudo systemctl restart snmpd.service</code> command. | 4.3.0-4.4.3 | |
| <a name="2799575"></a> [2799575](#2799575) <a name="2799575"></a> <br /> | When next hop tracking fails for a global next hop, BGP invalidates the entire path instead of only invalidating the global next hop. | 4.4.0-4.4.3 | |
| <a name="2799568"></a> [2799568](#2799568) <a name="2799568"></a> <br /> | When you add or remove a global unicast address from an interface, BGP does not update the global next hop advertised to the unnumbered BGP peer. | 4.4.0-4.4.3 | |
| <a name="2798406"></a> [2798406](#2798406) <a name="2798406"></a> <br /> | If an MLAG failure of an EVPN Active-Active VTEP pair occurs after you disable EVPN Advertise Primary IP Address, remote VTEPs might not be able to install the anycast RMAC of the failed MLAG peers or the related bridge FDB entry<br />To work around this issue, do not disable EVPN Advertise Primary IP Address, which is enabled by default when you use <code>address-virtual</code> for layer 3 VNI SVI interfaces. | 4.4.0-4.4.3 | |
| <a name="2792616"></a> [2792616](#2792616) <a name="2792616"></a> <br /> | If a neighbor entry (ARP or NDP) is used as a next hop of a route that is synchronized into hardware, the neighbor entry is not removed from hardware after the neighbor is no longer reachable.  As a result, routed traffic matching this prefix is incorrectly hardware forwarded through the stale neighbor information. | 4.3.0-4.4.3 | |
| <a name="2782032"></a> [2782032](#2782032) <a name="2782032"></a> <br /> | The following vulnerabilities have been announced in the openssl packages:CVE-2021-3711: buffer overflow vulnerability in SM2 decryption<br />CVE-2021-3712: buffer overrun when processing ASN.1 strings in the X509_aux_print() function<br />More details at https://www.openssl.org/news/secadv/20210824.txt <br />Vulnerable: <= 1.1.1d-0+deb10u6Fixed: 1.1.1d-0+deb10u7 | 4.0.0-4.4.1 | |
| <a name="2780915"></a> [2780915](#2780915) <a name="2780915"></a> <br /> | In NVUE, you can't deactivate the IPv4 address family per neighbor. | 4.4.0-4.4.3 | |
| <a name="2780834"></a> [2780834](#2780834) <a name="2780834"></a> <br /> | To enable an address family on a peer, you have to enable the address family  globally. | 4.4.0-4.4.3 | |
| <a name="2780211"></a> [2780211](#2780211) <a name="2780211"></a> <br /> | When you use the NVUE <code>nv set vrf default router bgp peer <peer> local-as asn <asn></code> command to configure a local AS, Cumulus Linux does not update the <code>etc/frr/frr.conf</code> file. | 4.4.0-4.4.3 | |
| <a name="2755615"></a> [2755615](#2755615) <a name="2755615"></a> <br /> | When <code>route_preferred_over_neigh</code> is set to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, host routes (/32 or /128) are used for forwarding in hardware instead of a local neighbor entry. | 4.0.0-4.4.1 | |
| <a name="2754690"></a> [2754690](#2754690) <a name="2754690"></a> <br /> | CVE-2021-3672: in c-ares, a library that performs DNS requests and name resolution asynchronously, missing input validation of hostnames returned by DNS servers can lead to output of wrong hostnames (leading to Domain Hijacking)<br />Vulnerable: 1.14.0-1Fixed: 1.14.0-1+deb10u1 | 4.0.0-4.4.1 | |
| <a name="2754684"></a> [2754684](#2754684) <a name="2754684"></a> <br /> | CVE-2021-38165: lynx, a non-graphical (text-mode) web browser, does not properly handle the userinfo subcomponent of a URI, which can lead to leaking of credential in cleartext in SNI data<br />Vulnerable: 2.8.9rel.1-3Fixed: 2.8.9rel.1-3+deb10u1 | 4.0.0-4.4.1 | |
| <a name="2754678"></a> [2754678](#2754678) <a name="2754678"></a> <br /> | CVE-2020-26558 / CVE-2021-0129: Bluez does not properly check permissions during pairing operation, which could allow an attacker to impersonate the initiating device<br />CVE-2020-27153: a double free flaw in the disconnect_cb() routine in the gattool. A remote attacker can take advantage of this flaw during service discovery for denial of service, or potentially, execution of arbitrary code<br />Vulnerable: <= 5.50-1.2~deb10u1Fixed: 5.50-1.2~deb10u2 | 4.0.0-4.4.1 | |
| <a name="2752330"></a> [2752330](#2752330) <a name="2752330"></a> <br /> | With BGP and layer 2 forwarding, Smart System Manager warm boot mode can cause packet loss. | 4.4.0-4.4.3 | |
| <a name="2747750"></a> [2747750](#2747750) <a name="2747750"></a> <br /> | Links connected between a Spectrum 2 switch configured for warm boot and Spectrum 3 switches configured for cold boot might not come up when the switches are booted. | 4.4.2-4.4.3 | |
| <a name="2747604"></a> [2747604](#2747604) <a name="2747604"></a> <br /> | CVE-2021-3246: a buffer overflow in libsndfile, a libraryfor reading/writing audio files, which could result in denial of serviceor potentially the execution of arbitrary code when processing amalformed audio file<br />Vulnerable: 1.0.28-6Fixed: 1.0.28-6+deb10u1 | 4.0.0-4.4.1 | |
| <a name="2739638"></a> [2739638](#2739638) <a name="2739638"></a> <br /> | CVE-2021-36222: It was discovered that the Key Distribution Center (KDC) in krb5, the MIT implementation of Kerberos, is prone to a NULL pointer dereference flaw. An unauthenticated attacker can take advantage of this flaw to cause a denial of service (KDC crash) by sending a request containing a PA-ENCRYPTED-CHALLENGE padata element without using FAST<br />Vulnerable: <= 1.17-3+deb10u1Fixed: 1.17-3+deb10u2 | 4.0.0-4.4.1 | |
| <a name="2739402"></a> [2739402](#2739402) <a name="2739402"></a> <br /> | The destination MAC address of ERSPAN GRE packets is set to all zeros. | 4.3.0-4.4.3 | |
| <a name="2736249"></a> [2736249](#2736249) <a name="2736249"></a> <br /> | If you configure BGP graceful restart in the <code>/etc/frr/frr.conf</code> file, then apply the configuration with <code>systemctl reload frr</code>, the configuration fails to apply and you see the following error:<br />  <pre>Job for frr.service failed<br />See "systemctl status frr.service" and "journalctl -xe" for details.</pre> |  | |
| <a name="2736244"></a> [2736244](#2736244) <a name="2736244"></a> <br /> | When you run the vtysh command to enable BGP graceful restart on a peer multiple times, the command fails with the following error:<pre>% The Graceful Restart command used is not valid at this moment.</pre> | 4.4.0-4.4.3 | |
| <a name="2734275"></a> [2734275](#2734275) <a name="2734275"></a> <br /> | On NVIDIA Spectrum-1, -2, and -3 switches, the <code>decode-syseeprom</code> command does not return the correct value<br /><pre>cumulus&#64;switch:~$  decode-syseeprom -t psu1Device is not ready: absent </pre> |  | |
| <a name="2734119"></a> [2734119](#2734119) <a name="2734119"></a> <br /> | The ESI line in the <code>show bgp l2vpn evpn route</code> command output always shows VNI: 0. This is a cosmetic software issue. | 4.3.0-4.4.3 | |
| <a name="2732587"></a> [2732587](#2732587) <a name="2732587"></a> <br /> | The bridge MAC address is updated during a port change on bridge interfaces. | 4.3.0-4.4.3 | |
| <a name="2728119"></a> [2728119](#2728119) <a name="2728119"></a> <br /> | When VRF devices are deleted and reconfigured (for example, during a networking service restart), dynamic BGP neighbors might fail to reestablish. To work around this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.3 | |
| <a name="2716838"></a> [2716838](#2716838) <a name="2716838"></a> <br /> | CVE-2021-22918: An out-of-bounds read was discovered in the uv__idna_to_ascii() function of Libuv, an asynchronous event notification library, which could result in denial of service or information disclosure<br />Vulnerable: 1.24.1-1Fixed: 1.24.1-1+deb 10u1 | 4.0.0-4.4.1 | |
| <a name="2698649"></a> [2698649](#2698649) <a name="2698649"></a> <br /> | When configuring a single VXLAN device in the <code>/etc/network/interfaces</code> file, if you edit the multicast group address in <code>vxlan-mcastgrp-map</code>, then revert the change, the change does not take effect. | 4.4.0-4.4.3 | |
| <a name="2687344"></a> [2687344](#2687344) <a name="2687344"></a> <br /> | On the NVIDIA SN3700 switch, the decode-syseeprom shows <code>device absent</code> for a PSU that is present. | 4.4.0-4.4.3 | |
| <a name="2599274"></a> [2599274](#2599274) <a name="2599274"></a> <br /> | On Mellanox Spectrum switches, when there is an MSTP forwarding state change on a bonds (for example, when the state changes from blocking to forwarding), the MSTP hardware table might set some VLANs to blocking when they should be forwarding. A a result, all packets on these VLANs drop at ingress<br />To recover from this state, flap the bond interface (not the physical swp) by running <code>ifdown <bond_name> ; sleep 1 ; ifup <bond_name></code>. | 4.3.0-4.4.3 | |
| <a name="2556811"></a> [2556811](#2556811) <a name="2556811"></a> <br />CM-33416 | Under certain high scale conditions, various modules might experience timetouts during cl-support collection, which results in missing data in the cl-support file. | 3.7.12-3.7.15, 4.1.1-4.4.3 | |
| <a name="2554783"></a> [2554783](#2554783) <a name="2554783"></a> <br />CM-32274 | If you apply an outbound route map to a BGP peer that uses <code>set as-path prepend last-as</code>, advertised locally-originated routes have the ASN of the peer prepended to the AS path.<br />This might trigger AS path loop prevention on the peer, where the peer ignores locally-originated prefixes. | 4.2.1-4.4.3 | |

