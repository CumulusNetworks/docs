---
title: Cumulus Linux 5.1 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "5.1"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-51" >}}
## 5.1.0 Release Notes
### Open Issues in 5.1.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br />CM-30182 | The <code>net show time ntp servers</code> command does not show any output with management VRF. | 3.7.15, 4.1.1-4.4.2, 5.0.0-5.0.1 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.0.1 | |
| <a name="2947680"></a> [2947680](#2947680) <a name="2947680"></a> <br /> | If the <code>clagd</code> service stops during <code>initDelay</code>, the peerlink flag does not clear from any VNIs that become dual connected during this time. <code>switchd</code> uses the peerlink flag to program MLAG loop prevention. As a result of the overlapping stale flags, traffic destined for the VXLAN might drop. | 3.7.15, 4.3.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-4.4.2, 5.0.0-5.0.1 | |
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2940005"></a> [2940005](#2940005) <a name="2940005"></a> <br /> | If you reboot the switch reboot when using WJH, you need to start the <code>what-just-happened</code> service even if the service is enabled. | 5.0.1 | |
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.0.1 | |
| <a name="2932085"></a> [2932085](#2932085) <a name="2932085"></a> <br /> | CVE-2021-45944 CVE-2021-45949: Multiple security issues were discovered in Ghostscript, the GPL PostScript/PDF interpreter, which could result in denial of service and potentially the execution of arbitrary code if malformed document filesare processed<br />Vulnerable: <= 9.27~dfsg-2+deb10u4Fixed: 9.27~dfsg-2+deb10u5 | 5.0.0-5.0.1 | |
| <a name="2914835"></a> [2914835](#2914835) <a name="2914835"></a> <br /> | NVUE flexible snippets create invalid YAML files. | 5.0.0-5.0.1 | |
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2910017"></a> [2910017](#2910017) <a name="2910017"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15, 4.0.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2898044"></a> [2898044](#2898044) <a name="2898044"></a> <br /> | NVUE commands including the <code>nv config apply</code> command might fail with the following error because the <code>/etc/resolv.conf</code> file is missing<br /><pre>Failed to prepare to applyUnrecoverable internal error</pre> | 5.0.0-5.0.1 | |
| <a name="2896733"></a> [2896733](#2896733) <a name="2896733"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send<br />To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15, 4.3.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1, 5.0.0-5.0.1 | 4.4.2|
| <a name="2891257"></a> [2891257](#2891257) <a name="2891257"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.0.1 | 4.4.2|
| <a name="2890683"></a> [2890683](#2890683) <a name="2890683"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.0.1 | 4.4.2|
| <a name="2888153"></a> [2888153](#2888153) <a name="2888153"></a> <br /> | If <code>switchd</code> restarts after you reboot or upgrade the system with a fast boot or warm boot, traffic directed to the system itself might be impacted. This problem only affects systems with the SP1 silicon and only if it has undergone a fast boot or warm boot first<br />To work around this issue, either perform a cold boot or run the <code>ip link set up dev swid0_eth</code> command with every <code>switchd</code> restart. | 5.0.0-5.0.1 | |
| <a name="2886488"></a> [2886488](#2886488) <a name="2886488"></a> <br /> | NVUE commands fail to configure port mirroring. | 5.0.0-5.0.1 | |
| <a name="2885287"></a> [2885287](#2885287) <a name="2885287"></a> <br /> | When you change the port breakout configuration, you must restart <code>switchd</code> to clean up any previously-associated port states and reinitialize the ports. Reloading <code>switchd</code> does not work. | 5.0.0-5.0.1 | |
| <a name="2873053"></a> [2873053](#2873053) <a name="2873053"></a> <br /> | In an EVPN Multihoming configuration, when any host side bond member port is brought admin down and up (<code>ifdown</code> and <code>ifup</code>), the VTEP might not program the local MAC addresses in hardware. | 5.0.0-5.0.1 | |
| <a name="2872277"></a> [2872277](#2872277) <a name="2872277"></a> <br /> | The NVUE <code>nv set router bgp wait-for-install on</code> command fails to enable BGP suppress route advertisement<br />To work around this issue, restart <code>switchd</code> with <code>sudo systemctl restart switchd.service</code> after you run the NVUE command.  | 5.0.0-5.0.1 | |
| <a name="2868301"></a> [2868301](#2868301) <a name="2868301"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.0.1 | |
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.0.1 | |
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.0.1 | |
| <a name="2855908"></a> [2855908](#2855908) <a name="2855908"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send<br />To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15, 4.3.0-4.4.2, 5.0.0-5.0.1 | |
| <a name="2847919"></a> [2847919](#2847919) <a name="2847919"></a> <br /> | Configuring a router with the REST API through the switch front panel ports (swps) is supported in the default VRF only<br />To work around this issue, use the localHost IP address or the MGMT IP address to configure router using the Rest API. | 5.0.0-5.0.1 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.0.1 | |
| <a name="2847618"></a> [2847618](#2847618) <a name="2847618"></a> <br /> | When you enable PIM on VLAN interfaces, multicast throughput might not achieve line rate depending on packet sizes in the multicast flow. | 5.0.0-5.0.1 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.0.1 | |
| <a name="2821544"></a> [2821544](#2821544) <a name="2821544"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses â€“ the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 5.0.0-5.0.1 | |
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.0.1 | |
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-4.4.2, 5.0.0-5.0.1 | |

### Fixed Issues in 5.1.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="2908541"></a> [2908541](#2908541) <a name="2908541"></a> <br /> | Running <code>apt dist-upgrade</code> causes <code>switchd</code> to stop and never start again.  Do not use <code>apt dist-upgrade</code>; use <code>apt upgrade</code> instead. Cumulus Linux does not support <code>apt dist-upgrade</code><br />To work around this issue, if you run <code>apt dist-upgrade</code> and <code>switchd</code> no longer works, run the <code>apt install sx-sdk-eth-dev</code> command (and run the command for any other removed package) or reinstall the Cumulus Linux image. | 5.0.0 | |
