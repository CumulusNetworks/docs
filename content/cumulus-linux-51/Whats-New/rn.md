---
title: Cumulus Linux 5.1 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "5.1"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-51" >}}
## 5.1.0 Release Notes
### Open Issues in 5.1.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3141826"></a> [3141826](#3141826) <a name="3141826"></a> <br /> | A slow memory leak (~5KB over 24 hour period at a 60 second polling interval) might occur in SNMP when you walk the following system MIB objects (1.3.6.1.2.1)<br />1.3.6.1.2.1.47 --> Entity MIB<br />1.3.6.1.2.1.99 --> Entity Sensor MIB<br />1.3.6.1.2.1.23 --> rip2<br />1.3.6.1.2.1.2 --> interface/interfaces<br />1.3.6.1.2.1.31 --> ifMIB<br />1.3.6.1.2.1.4 --> IP<br />1.3.6.1.2.1.25 --> hostResource | 5.0.1-5.1.0 | |
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next-hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3136905"></a> [3136905](#3136905) <a name="3136905"></a> <br /> | When you upgrade to Cumulus Linux 5.0.1 to 5.1.0, the upgrade adds <code>KexAlgorithms</code> and <code>MACs</code> configuration (that remove some less secure algorithms from the default lists) to the <code>/etc/ssh/sshd_config</code> file without prompting for confirmation.  This may cause the <code>/etc/ssh/sshd_config</code> file to be incorrect if there is a <code>Match</code> section, since <code>KexAlgorithms</code> and <code>MACs</code> must come before <code>Match</code>To work around this issue, move the lines that start with <code>KexAlgorithms</code> and <code>MACs</code> to before <code>Match</code> (or remove them), then restart the SSH service with the <code>sudo systemctl restart ssh</code> command<br />If you have already specified <code>KexAlgorithms</code> and/or <code>MACs</code>, you may wish to remove the newly added lines after an upgrade to CumulusLinux 5.1.0 if they are not what you want. | 5.0.1-5.1.0 | |
| <a name="3135070"></a> [3135070](#3135070) <a name="3135070"></a> <br /> | After you configure the NVIDIA SN2010 series switch for the first time with NVUE, you see the fan speed at 100 percent<br />To work around this issue, run the <code>sudo systemctl restart hw-management.service</code> command to restart the hardware management service. | 5.1.0 | |
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch<br />To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3131402"></a> [3131402](#3131402) <a name="3131402"></a> <br /> | CVE-2022-34903: GnuPG through 2.3.6, in unusual situations where an attacker possesses any secret-key information from a victim's keyring and other constraints (e.g., use of GPGME) are met, allows signature forgery via injection into the status line<br />Vulnerable: <= 2.2.12-1+deb10u1Fixed: 2.2.12-1+deb10u2 | 5.0.0-5.1.0 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-3.7.16, 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3119673"></a> [3119673](#3119673) <a name="3119673"></a> <br /> | If the switch receives an EVPN route with multiple RTs that match the import policy for a local VNI, the <code>bgpd</code> service crashes. | 5.0.0-5.1.0 | |
| <a name="3118374"></a> [3118374](#3118374) <a name="3118374"></a> <br /> | CVE-2022-2068: In addition to the c_rehash shell command injection identified in CVE-2022-1292, further circumstances where the c_rehash script does not properly sanitise shell metacharacters to prevent command injection were found by code review. When the CVE-2022-1292 was fixed it was not discovered that there are other places in the script where the file names of certificates being hashed were possibly passed to a command executed through the shell<br />Vulnerable: <= 1.1.1n-0+deb10u2Fixed: 1.1.1n-0+deb10u3Note: Use of the c_rehash script is considered obsolete and should be replaced by the OpenSSL rehash command line tool. | 5.0.0-5.1.0 | |
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service<br />To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3115415"></a> [3115415](#3115415) <a name="3115415"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTime</code> OID does not correctly report the time since a BGP session goes down.  | 4.4.4, 5.1.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a "vlan added to two or more VXLANS" warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0 | |
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR and make subsequent VRF or route configuration changes, FRR might crash. Example of legacy VRF static route syntax:<code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-4.4.4, 5.0.0-5.1.0 | |
| <a name="3112938"></a> [3112938](#3112938) <a name="3112938"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTransitions</code> OID always reports a value of 0. | 4.4.4, 5.1.0 | |
| <a name="3107615"></a> [3107615](#3107615) <a name="3107615"></a> <br /> | Cumulus Linux installation fails with the error <code>Installation Problems, sub-task Installing Optional Packages</code>. This occurs because the web server hosting the Cumulus Linux image remaps a 404 for a non-existent file <code>image.optional_pkgs</code> into a web page, which it then incorrectly attempts to use as a list of optional packages<br />To work around this issue, on the web server hosting the image, create an empty file with the same name as the image with <code>.optional_pkgs</code> appended to the name. | 4.2.1-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3107606"></a> [3107606](#3107606) <a name="3107606"></a> <br /> | ONIE installation over HTTP fails if the web server hosting the installation image returns valid HTML content when ONIE requests an <code>optional_pkgs</code> file that does not exist. To work around this issue, configure the hosting web server to return an HTTP 404 code when the non-existant file is requested, or host an empty file on the web server with the format <code><image name>.optional_pkgs</code>. | 4.2.1-4.4.4, 5.0.0-5.1.0 | |
| <a name="3102128"></a> [3102128](#3102128) <a name="3102128"></a> <br /> | When you configure a new VNI, the VLAN 1 VNI mapping is removed from the VxLAN device. To work around this problem, set the VNI interface mapped to VLAN 1 down and up again. | 4.4.3-4.4.4, 5.0.0-5.1.0 | |
| <a name="3096915"></a> [3096915](#3096915) <a name="3096915"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as "HwIfInDiscards" in ethtool and shown as "ingress_general" in hardware. | 4.3.0-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3085285"></a> [3085285](#3085285) <a name="3085285"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 3.7.16-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3084099"></a> [3084099](#3084099) <a name="3084099"></a> <br /> | CVE-2022-1664: dpkg has a vulnerability relating to directory traversal for in-place extracts with untrusted v2 and v3 source packages with debian.tarVulnerable: <= 1.19.7Fixed: 1.19.8 | 5.0.0-5.1.0 | 4.4.4|
| <a name="3084007"></a> [3084007](#3084007) <a name="3084007"></a> <br /> | The <code>clagd</code> process uses 100 percent CPU and eventually crashes with an <code>Unable to allocate memory</code> error. | 4.4.3, 5.1.0 | 4.4.4|
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 4.4.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3078202"></a> [3078202](#3078202) <a name="3078202"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3077736"></a> [3077736](#3077736) <a name="3077736"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails.<br /><pre><br />cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400<br />cumulus&#64;switch:~$ nv config apply<br />2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr.<br /></pre> | 5.0.1-5.1.0 | |
| <a name="3077547"></a> [3077547](#3077547) <a name="3077547"></a> <br /> | When you configure multiple multicast RPs with groups matched by prefix lists, Cumulus Linux selects only one of the RPs and this selection is incorrect. | 5.0.1-5.1.0 | |
| <a name="3077513"></a> [3077513](#3077513) <a name="3077513"></a> <br /> | When a MAC address is moved to a new VTEP in an EVPN MAC mobility scenario using traditional bridges, there might be up to 30 seconds of convergence delay. | 5.0.1-5.1.0 | |
| <a name="3074390"></a> [3074390](#3074390) <a name="3074390"></a> <br /> | You can not apply NVUE configurations when TACACS is enabled for user authentication. To work around this problem, add the <code>nvue</code> account to the <code>exclude_users</code> line in <code>/etc/tacplus_nss.conf</code>:<pre>exclude_users=root,daemon,nobody,cron,radius_user,radius_priv_user,sshd,cumulus,quagga,frr,nvue,snmp,www-data,ntp,man,_lldpd,*</pre> | 5.0.1-5.1.0 | |
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously<br />To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 5.1.0 | |
| <a name="3066664"></a> [3066664](#3066664) <a name="3066664"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3066280"></a> [3066280](#3066280) <a name="3066280"></a> <br /> |  The python module pygments version 2.12.0 on the Cumulus Linux switch prevents NVUE from displaying colored output and produces an error or failure. The failure specifically identifies <code>#ansidarkred</code> as the problem color format. The error prevents any output from showing on the CLI<br />To work around this problem, downgrade the pygments module to version 2.3.1. | 5.0.1-5.1.0 | |
| <a name="3061656"></a> [3061656](#3061656) <a name="3061656"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0 | |
| <a name="3061445"></a> [3061445](#3061445) <a name="3061445"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails<br /><pre>cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400cumulus&#64;switch:~$ nv config apply2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr<br /></pre> | 5.0.1-5.1.0 | |
| <a name="3060399"></a> [3060399](#3060399) <a name="3060399"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isn’t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.1.0 | 4.4.4|
| <a name="3059380"></a> [3059380](#3059380) <a name="3059380"></a> <br /> | When you configure VRF leaking from the default VRF to a non-default VRF, SSH sessions originating from the switch CLI in the default VRF do not connect to devices in the non-default VRF. | 5.0.1-5.1.0 | |
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="3054869"></a> [3054869](#3054869) <a name="3054869"></a> <br /> | When you run NVUE commands as part of ZTP scripts, the commands fail with errors that indicates a missing $HOME environment variable<br />The issue has been fixed where the ZTP module will initialize the $HOME environment variable before launching the ZTP scripts. This fix should be available with CL 5.2.0<br />However, if customers are running older releases, follow these workaround steps below:Before you use any NVUE commands in the ZTP script, add a section and define the <code>HOME</code> environment variable. Populate the variable with the default expected <code>root</code> user home directory value (/root). Also, you must export the <code>HOME</code> variable so it is available globally for NVUE to use<br /><pre># Manually set HOME var for root userHOME=/rootexport HOME</pre> | 5.0.0-5.1.0 | |
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.4, 5.0.0-5.1.0 | |
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0 | |
| <a name="3053015"></a> [3053015](#3053015) <a name="3053015"></a> <br /> | Spectrum-2 and Spectrum-3 switches do not support 1G speed with Cumulus Linux. | 5.1.0 | |
| <a name="3047747"></a> [3047747](#3047747) <a name="3047747"></a> <br /> | When you change the split port speed from explicitly defined to auto-negotiation, the port speed remains stuck on the previously configured value. | 5.1.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.4, 5.0.0-5.1.0 | |
| <a name="3045310"></a> [3045310](#3045310) <a name="3045310"></a> <br /> | When GTP Hashing is set to <code>true</code>, after more than two warm boots {switchd</code> fails and a cl-support file is generated. | 5.1.0 | |
| <a name="3044596"></a> [3044596](#3044596) <a name="3044596"></a> <br /> | In the non-default VRF, BFD goes down after port flap. | 5.0.1-5.1.0 | |
| <a name="3043115"></a> [3043115](#3043115) <a name="3043115"></a> <br /> | NVUE configuration and show commands are not available for GTP hashing. To configure  GTP hashing, modify the parameters in the <code>/etc/cumulus/datapath/traffic.conf</code> file.  | 5.1.0 | |
| <a name="3042944"></a> [3042944](#3042944) <a name="3042944"></a> <br /> | <code>cl-ecmpcalc</code> does not support GTP hashing<br /> | 5.1.0 | |
| <a name="3041425"></a> [3041425](#3041425) <a name="3041425"></a> <br /> | When you add or remove PortAutoEdge on a bond with the NVUE <code>nv set interface <bond> bridge domain br_default stp auto-edge</code> command, the command fails with the following error and then attempts to enable or disable PortAutoEdge on any interface also fail<br /><pre>cumulus&#64;switch:~$ nv set interface swp1 bridge domain br_default stp auto-edge offcumulus&#64;switch:~$ nv config applyUnable to reload-or-restart services (switchd,ifreload-nvue.service):&#91;sudo&#93; password for nvue: Job for ifreload-nvue.service failed because the control process exited with error code<br />Failure during apply. Ignore? &#91;y/N&#93;</pre> | 5.0.1-5.1.0 | |
| <a name="3041307"></a> [3041307](#3041307) <a name="3041307"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.1.0 | 3.7.16, 4.4.4|
| <a name="3040174"></a> [3040174](#3040174) <a name="3040174"></a> <br /> | When you configure EVPN multihoming with NVUE on a switch with the Spectrum-a1 ASIC, you must configure the following snippet to enable EVPN multihoming in hardware. This is not required for Spectrum-2 or Spectrum-3 switches<br /><pre>- set:<br />   system:<br />     config:<br />       snippet:<br />         switchd:<br />           file: "/etc/cumulus/switchd.conf"<br />           content: \|<br />             evpn.multihoming.enable=TRUE<br />           permissions: "0644"<br />           services:<br />             schedule:<br />               service: switchd<br />               action: restart</pre>Apply the snippet with the <code>nv config patch <snippet.yaml></code> command, then run the <code>nv config apply -y</code> command. | 5.1.0 | |
| <a name="3023345"></a> [3023345](#3023345) <a name="3023345"></a> <br /> | When you run NVUE commands to unset one or more options associated with a field, the command fails with an error. For example:<pre>cumulus&#64;switch:~$ nv unset system forwarding ecmp-hash source-portusage: nv unset system forwarding ecmp-hash &#91;options&#93;nv unset system forwarding ecmp-hash: error: unrecognized arguments: source-port</pre> | 5.1.0 | |
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface.  This issue occurs only when you specify <code>bridge-vids</code> on the bond. This issue does not occur  when you configure VLANs only on the bridge interface and let the bond get the <code>bridge-vids</code> applied from the bridge. | 4.4.2-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3021693"></a> [3021693](#3021693) <a name="3021693"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="3016882"></a> [3016882](#3016882) <a name="3016882"></a> <br /> | In certain cases, when you power cycle the switch, the NVUE configuration might become corrupted, which prevents NVUE from running. You see an critical error in the log file similar to:{nofromat}CRITICAL: cue_versions_v1.repo: The NVUE internal data store is corrupted or has been initialized incorrectly. The is an unrecoverable error<br /><pre>To work around this issue, remove the <code>/var/lib/nvue/config</code> and <code>/var/lib/nvue/meta</code> directories, then restart the <code>nvued</code> service with the <code>sudo systemctl start nvued</code> command. If possible, NVUE recovers user configuration and saves it in the <code>/etc/nvue.d</code> directory. You can reapply the recovered configuration with the <code>nv config patch nvue-recovery-<timestamp>.yaml</code> command.  | 5.0.1-5.1.0 | |
| <a name="3015393"></a> [3015393](#3015393) <a name="3015393"></a> <br /> | The NVUE <code>nv show interface <tunnel-name></code> command shows the operational state of the tunnel as down even though the tunnel is up, and encapsulation and decapsulation occurs correctly. | 5.1.0 | |
| <a name="3014664"></a> [3014664](#3014664) <a name="3014664"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | 4.4.4|
| <a name="2999342"></a> [2999342](#2999342) <a name="2999342"></a> <br /> | CVE-2020-36311, CVE-2021-3609, CVE-2021-33909, CVE-2021-34693Several vulnerabilities have been discovered in the Linux kernel that may lead to a privilege escalation, denial of service or information leaks<br />Fixed: 4.19.194-3 | 4.2.1-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.4|
| <a name="2993471"></a> [2993471](#2993471) <a name="2993471"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15-3.7.16, 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 3.7.15-3.7.16, 4.2.1-4.4.4, 5.0.0-5.1.0 | |
| <a name="2972538"></a> [2972538](#2972538) <a name="2972538"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 3.7.15-3.7.16, 4.2.1-4.4.4, 5.0.0-5.1.0 | |
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2, 5.0.0-5.1.0 | 4.4.3-4.4.4|
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under layer 3 VNIs. | 3.7.15, 4.4.2-4.4.4, 5.0.0-5.1.0 | 3.7.16|
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.1.0 | 4.4.3-4.4.4|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.4, 5.0.0-5.1.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.1.0 | |
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.1.0 | |
| <a name="2923737"></a> [2923737](#2923737) <a name="2923737"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15, 4.3.0-4.4.4, 5.0.0-5.1.0 | 3.7.16|
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.4|
| <a name="2891257"></a> [2891257](#2891257) <a name="2891257"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.4|
| <a name="2890683"></a> [2890683](#2890683) <a name="2890683"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.1.0 | 4.4.2-4.4.4|
| <a name="2886476"></a> [2886476](#2886476) <a name="2886476"></a> <br /> | If you enable or disable the advertise primary IP address setting when originating EVPN default type-5 routes, the default route or prefix originated from one of the MLAG peers sends a null layer 3 VNI, which prevents the remote VTEP from installing the default route. | 5.0.0-5.1.0 | |
| <a name="2873053"></a> [2873053](#2873053) <a name="2873053"></a> <br /> | In an EVPN Multihoming configuration, when ES bond members go down, all software forwarded traffic destined to the access port, except for unicast ARP requests and replies, and unicast IPv6 NS and NA, is dropped and not forwarded through the VXLAN overlay. To work around this issue, bring the host side bond admin down and up (ifdown/ifup) on the bond interface itself and not on its member port. | 5.0.0-5.1.0 | |
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.1.0 | |
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.1.0 | |
| <a name="2847919"></a> [2847919](#2847919) <a name="2847919"></a> <br /> | Configuring a router with the REST API through the switch front panel ports (swps) is supported in the default VRF only<br />To work around this issue, use the localHost IP address or the MGMT IP address to configure router using the Rest API. | 5.0.0-5.1.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.1.0 | |
| <a name="2847618"></a> [2847618](#2847618) <a name="2847618"></a> <br /> | When you enable PIM on VLAN interfaces, multicast throughput might not achieve line rate depending on packet sizes in the multicast flow. | 5.0.0-5.1.0 | |
| <a name="2844778"></a> [2844778](#2844778) <a name="2844778"></a> <br /> | When pasting numerous NVUE configuration commands into the CLI, there is a delay of around 500ms between processing each command. To work around this problem, consider using the <code>nv config patch <yaml-file></code> or <code>nv config replace <yaml-file></code> commands to update large pieces of configuration at once. | 5.0.0-5.1.0 | |
| <a name="2831968"></a> [2831968](#2831968) <a name="2831968"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.1.0 | |
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.1.0 | |
| <a name="2748923"></a> [2748923](#2748923) <a name="2748923"></a> <br /> | If you include a dash (-) when configuring an interface name with NVUE, you see an error. NVUE does not support using a dash in interface names. | 4.4.0-4.4.4, 5.0.0-5.1.0 | |
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-3.7.16, 4.4.0-4.4.4, 5.0.0-5.1.0 | |

### Fixed Issues in 5.1.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3055255"></a> [3055255](#3055255) <a name="3055255"></a> <br /> | When you run the NVUE <code>nv show interface</code> command, a watchdog timeout might occur and the <code>nvued</code> service fails. | 5.0.1 | |
| <a name="3053013"></a> [3053013](#3053013) <a name="3053013"></a> <br /> | CVE-2022-29799, CVE-2022-29800: The networkd-dispatcher program has directory traversal, symlink race, and time-of-check-time-of-use race condition which can allow a local attacker to gain root access.  This vulnerability is sometimes called "nimbuspwn".  Cumulus Linux does not include the networkd-dispatcher package or script in the default image or in the package repository.  However, networkd-dispatcher_2.0-2 from Debian 10 upstream is vulnerable and should not be installed. |  | |
| <a name="3045302"></a> [3045302](#3045302) <a name="3045302"></a> <br /> | CVE-2022-1271: incorrect handling of filenames by xzgrep in xz-utils, the XZ-format compression utilities, can result in overwrite of arbitrary files or execution of arbitrary code if a file with a specially crafted filename is processed<br />Vulnerable: 5.2.4-1Fixed: 5.2.4-1+deb10u1 | 5.0.0-5.0.1 | |
| <a name="3045299"></a> [3045299](#3045299) <a name="3045299"></a> <br /> | CVE-2022-1271: incorrect handling of filenames by zgrep in gzip, the GNU compression utilities, can result in overwrite of arbitrary files or execution of arbitrary code if a file with a specially crafted filename is processed. | 5.0.0-5.0.1 | |
| <a name="3040080"></a> [3040080](#3040080) <a name="3040080"></a> <br /> | On Spectrum-2 switches, when a packet has a CRC and the ports are in cut-though mode, the switch might stop forwarding traffic. | 4.4.2-4.4.3, 5.0.0-5.0.1 | |
| <a name="3036114"></a> [3036114](#3036114) <a name="3036114"></a> <br /> | When you upgrade Cumulus Linux from 4.0 and later to Cumulus Linux 5.1.0 with package upgrade <code>apt-get upgrade</code>, the upgrade fails with the following error and the NVUE service does not start<br /><pre>Setting up python3-nvue (0.22.04.06.0-cl5.1.0u1) ..<br />Adding user nvue to group netshow/usr/sbin/policy-rc.d returned 101, not running 'restart nvued.service'/usr/sbin/policy-rc.d returned 101, not running 'restart nvue-startup.service'/usr/sbin/policy-rc.d returned 101, not running 'try-restart ifreload-nvue.service'To enable the newly installed bash completion for CUE in this shell, execute..<br />source /etc/bash_completionCreated symlink /etc/systemd/system/multi-user.target.wants/nvued.service _ /lib/systemd/system/nvued.service<br />Created symlink /etc/systemd/system/multi-user.target.wants/nvue-startup.service _ /lib/systemd/system/nvue-startup.service<br />Job for nvue-startup.service failed because the control process exited with error code<br />See "systemctl status nvue-startup.service" and "journalctl -xe" for details<br />dpkg: error processing package python3-nvue (--configure):installed python3-nvue package post-installation script subprocess returned error exit status 1</pre>To work around this issue, reboot the system. |  | |
| <a name="3035855"></a> [3035855](#3035855) <a name="3035855"></a> <br /> | When you configure ACLs on the switch, you might see a <code>switchd</code> segmentation fault. | 5.0.1 | |
| <a name="3032234"></a> [3032234](#3032234) <a name="3032234"></a> <br /> | In BGP unnumbered, when you try to remove an interface from the underlay default VRF with the NVUE <code>nv unset vrf default router bgp neighbor <interface></code> command, the command fails to apply. | 5.0.1 | |
| <a name="3030238"></a> [3030238](#3030238) <a name="3030238"></a> <br /> | When you change the time with NTP or manually, the clagd service stops. | 4.4.3-5.0.1 | |
| <a name="3025899"></a> [3025899](#3025899) <a name="3025899"></a> <br /> | CVE-2018-25032: zlib before 1.2.12 allows memory corruption when deflating (i.e., when compressing) if the input has many distant matches<br />Vulnerable: 1.2.11.dfsg-1Fixed: 1.2.11.dfsg-1+deb10u1 | 5.0.0-5.0.1 | |
| <a name="3022955"></a> [3022955](#3022955) <a name="3022955"></a> <br /> | Docker creates a bridge called <code>docker0</code> and this causes compatibility issues with WJH, which runs in a Docker container. |  | |
| <a name="3021897"></a> [3021897](#3021897) <a name="3021897"></a> <br /> | After you remove the port from the EVPN-MH bond, the port stays in the PRTDN state with the <code>protodown</code> flag ON. | 4.4.3, 5.0.0-5.0.1 | |
| <a name="3021838"></a> [3021838](#3021838) <a name="3021838"></a> <br /> | PBR rules that you apply to interfaces in the default VRF install in the kernel with the action <code>lookup local</code>. As a result, packets that match this rule only perform a route lookup in the local table (which contains special routes for local IP addresses and broadcast addresses) but not in the main table (which contains unicast routes).  As a result, policy routing might be applied to traffic incorrectly. | 4.4.2-5.0.1 | |
| <a name="3021696"></a> [3021696](#3021696) <a name="3021696"></a> <br /> | When you run the <code>/usr/share/snmp/resq_pp.py</code> script used by SNMP, you see the following log message in syslog regardless of the forwarding table profile set in the <code>/etc/cumulus/datapath/traffic.conf</code> file. | 4.4.0-4.4.3, 5.0.0-5.0.1 | |
| <a name="3017127"></a> [3017127](#3017127) <a name="3017127"></a> <br /> | After you convert a port from a layer 2 bond member to a layer 3 port, the switch drops transmitted untagged packets as egress VLAN membership discards<br />To work around this issue, restart <code>switchd</code> with the <code>sudo systemctl restart switchd.service</code> command. | 4.4.2-4.4.3, 5.0.0-5.0.1 | |
| <a name="3017042"></a> [3017042](#3017042) <a name="3017042"></a> <br /> | CVE-2022-0561 CVE-2022-0562 CVE-2022-0865 CVE-2022-0891 CVE-2022-0907 CVE-2022-0908 CVE-2022-0909 CVE-2022-0924 CVE-2022-22844: Multiple vulnerabilities have been discovered in the libtiff library and the included tools, which may result in denial of service if malformed image files are processed<br />Vulnerable: <= 4.1.0+git191117-2~deb10u3Fixed: 4.1.0+git191117-2~deb10u4 | 4.4.0-4.4.3 | |
| <a name="3010290"></a> [3010290](#3010290) <a name="3010290"></a> <br /> | CVE-2021-25220: When using forwarders, bogus NS records supplied by, or via, those forwarders may be cached and used by named if it needs to recurse for any reason, causing it to obtain and pass on potentially incorrect answers<br />Vulnerable: <= 9.11.5.P4+dfsg-5.1+deb10u6Fixed: 9.11.5.P4+dfsg-5.1+deb10u7 | 4.0.0-4.4.3 | |
| <a name="3008388"></a> [3008388](#3008388) <a name="3008388"></a> <br /> | When you set <code>vlan-bridge-binding on</code> for a VLAN interface, the VLAN interface status does not change to down even when all bridge member ports are down.   | 4.4.3-5.0.1 | |
| <a name="3007603"></a> [3007603](#3007603) <a name="3007603"></a> <br /> | CVE-2022-0778: the BN_mod_sqrt() function of OpenSSL could be tricked into an infinite loop. This could result in denial of service via malformed certificates<br />Vulnerable: <= 1.1.1d-0+deb10u7Fixed: 1.1.1d-0+deb10u8 | 4.4.0-4.4.3 | |
| <a name="3007020"></a> [3007020](#3007020) <a name="3007020"></a> <br /> | The <code>sudo smonctl</code> command output shows an error for the ASIC temperature sensor (temp6). | 5.0.0-5.0.1 | |
| <a name="3003167"></a> [3003167](#3003167) <a name="3003167"></a> <br /> | Updating an existing tunnel configuration with NVUE or directly in the <code>/etc/network/interfaces</code> file causes traffic loss. The original tunnel is destroyed and then recreated (with a new ifindex)<br />The new behavior will make sure to apply the configuration delta without disrupting any traffic as much as possible. Note that a tunnel mode change can't be applied without causing traffic loss.  | 5.0.0-5.0.1 | |
| <a name="3001439"></a> [3001439](#3001439) <a name="3001439"></a> <br /> | CVE-2022-0847: This vulnerability, known as "dirty pipe", does not affect Cumulus Linux through 5.1.0, which use earlier kernels which do not have the vulnerable code. |  | |
| <a name="2999253"></a> [2999253](#2999253) <a name="2999253"></a> <br /> | If you remove NGINX from the switch, then run <code>apt autoremove</code>, switchd does not reload. This occurs because removing NGINX also removes the libyaml-0-2 and python-yaml packages, which are required for the <code>switchd</code> consistency check. | 4.3.0-5.0.1 | |
| <a name="2999243"></a> [2999243](#2999243) <a name="2999243"></a> <br /> | sFlow fails to send flow samples. | 5.0.0-5.0.1 | |
| <a name="2994402"></a> [2994402](#2994402) <a name="2994402"></a> <br /> | When you run <code>ifquery</code> as non-root, EVPN multihoming bond configuration fails<br />To work around this issue, always use sudo when running ifupdown2 commands (<code>ifup</code>, <code>ifreload</code>, <code>ifdown</code>, and <code>ifquery</code>). | 4.4.2-5.0.1 | |
| <a name="2993786"></a> [2993786](#2993786) <a name="2993786"></a> <br /> | When you configure QoS remarking on a bond, the port stops forwarding traffic.  |  | |
| <a name="2993719"></a> [2993719](#2993719) <a name="2993719"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | |
| <a name="2989098"></a> [2989098](#2989098) <a name="2989098"></a> <br /> | CVE-2022-24407: The SQL plugin in cyrus-sasl2, a library implementing the Simple Authentication and Security Layer, is prone to a SQL injection attack. An authenticated remote attacker can take advantage of this flaw to execute arbitrary SQL commands and for privilege escalation. | 4.4.0-4.4.3 | |
| <a name="2984205"></a> [2984205](#2984205) <a name="2984205"></a> <br /> | CVE-2021-43612: in lldpd, by sending short SONMP packets, an attacker can make the decoder crashby reading too much data on the heap<br />Vulnerable: <= 1.0.4-0-cl5.1.0u7, 1.0.4-0-cl4.4.0u0, 1.0.4-0-cl4.3.0u2, 1.0.4-0-cl3u15Fixed: | 3.7.0-3.7.15, 4.0.0-5.0.1 | |
| <a name="2982534"></a> [2982534](#2982534) <a name="2982534"></a> <br /> | CVE-2022-25235, CVE-2022-25236, CVE-2022-25313, CVE-2022-25314, CVE-2022-25315: Several vulnerabilities have been discovered in Expat, an XML parsing Clibrary, which could result in denial of service or potentially theexecution of arbitrary code, if a malformed XML file is processed<br />Vulnerable: <= 2.2.6-2+deb10u2Fixed: 2.2.6-2+deb10u3 | 5.0.0-5.0.1 | |
| <a name="2980891"></a> [2980891](#2980891) <a name="2980891"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 4.2.1-5.0.1 | |
| <a name="2978165"></a> [2978165](#2978165) <a name="2978165"></a> <br /> | When you use NVUE to configure an ACL rule with a <code>set cos</code> action, the <code>nv config apply</code> command fails with the following error message:{nofromat}$ cumulus&#64;switch:~$ nv config applyFailed to prepare to applyUnrecoverable internal error{nofromat} | 5.0.1 | |
| <a name="2971342"></a> [2971342](#2971342) <a name="2971342"></a> <br /> | CVE-2021-45960 CVE-2021-46143 CVE-2022-22822 CVE-2022-22823 CVE-2022-22824 CVE-2022-22825 CVE-2022-22826 CVE-2022-22827 CVE-2022-23852 CVE-2022-23990: Several vulnerabilities have been discovered in Expat, an XML parsing C library, which could result in denial of service or potentially the execution of arbitrary code, if a malformed XML file is processed<br />Vulnerable: <= 2.2.6-2+deb10u1Fixed: 2.2.6-2+deb10u2 | 4.0.0-4.4.2 | |
| <a name="2961078"></a> [2961078](#2961078) <a name="2961078"></a> <br /> | CVE-2021-28965 CVE-2021-31799 CVE-2021-31810 CVE-2021-41817 CVE-2021-41819 CVE-2021-32066: Several vulnerabilities have been discovered in the interpreter for the Ruby language and the Rubygems included, which may result on result in XML roundtrip attacks, the execution of arbitrary code, information disclosure, StartTLS stripping in IMAP or denial of service<br />Vulnerable: <= 2.5.5-3+deb10u3Fixed: 2.5.5-3+deb10u4 | 4.0.0-4.4.2 | |
| <a name="2957968"></a> [2957968](#2957968) <a name="2957968"></a> <br /> | After you install the RADIUS <code>libnss-mapuser</code> package, the <code>nvued</code> service fails to start. | 5.0.0-5.0.1 | |
| <a name="2949511"></a> [2949511](#2949511) <a name="2949511"></a> <br /> | CVE-2022-22747: Incorrect parsing of pkcs7 sequences in nss, the Mozilla Network Security Service library, may result in denial of service<br />Vulnerable: <= 2:3.42.1-1+deb10u4Fixed: 2:3.42.1-1+deb10u5 | 4.0.0-4.4.2 | |
| <a name="2943443"></a> [2943443](#2943443) <a name="2943443"></a> <br /> | Cumulus Linux lets you add more than one VXLAN interface to same VLAN on the same bridge. This is an invalid configuration as certain Cumulus Linux components, such as <code>switchd</code>, expect a single VNI for a given bridge or VLAN. | 3.7.15, 4.2.1-5.0.1 | |
| <a name="2943080"></a> [2943080](#2943080) <a name="2943080"></a> <br /> | The overlay ASN is removed after a route flap. | 4.4.0-5.0.1 | |
| <a name="2940005"></a> [2940005](#2940005) <a name="2940005"></a> <br /> | If you reboot the switch when using WJH, you need to start the <code>what-just-happened</code> service even if the service is enabled. | 5.0.1 | |
| <a name="2933466"></a> [2933466](#2933466) <a name="2933466"></a> <br /> | You cannot run NVUE commands to configure route leaking. To work around this issue, create a snippet in yaml format and add the configuration to the <code>/etc/frr/frr.conf</code> file. | 4.4.0-5.0.1 | |
| <a name="2914835"></a> [2914835](#2914835) <a name="2914835"></a> <br /> | NVUE flexible snippets create invalid YAML files. | 5.0.0-5.0.1 | |
| <a name="2913859"></a> [2913859](#2913859) <a name="2913859"></a> <br /> | ECMP error messages, similar to the following, show in log files:<pre>Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:361 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:621 ERR ECMP: failed to CREATE static ecmp in hwDec 15 10:01:35 leaf01 switchd3431: hal_mlx_sdk_nexthop_wrap.c:656 ERR ECMP: cmd CREATE failed: No More Resources, nexthops 1Dec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1540 ERR ECMP: failed to allocate hw ecmp status No More ResourcesDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:1561 ERR ECMP: error allocating static ecmpDec 15 10:01:35 leaf01 switchd3431: hal_mlx_ecmp.c:2207 ERR ECMP: failed to find ecmp container</pre> | 4.4.0-5.0.1 | |
| <a name="2910017"></a> [2910017](#2910017) <a name="2910017"></a> <br /> | SNMP reports the same <code>ifType</code> of <code>ethernetCsmacd(6)</code> for loopback interfaces. | 3.7.15-4.4.2, 5.0.0-5.0.1 | |
| <a name="2903374"></a> [2903374](#2903374) <a name="2903374"></a> <br /> | The <code>nv show interfaces</code> command returns a 500 error and syslog shows a python error, triggered by third party devices (non CL) missing LLDP fields<br />To work around this issue, disable LLDP on a single interface. | 5.0.0-5.0.1 | |
| <a name="2898044"></a> [2898044](#2898044) <a name="2898044"></a> <br /> | NVUE commands including the <code>nv config apply</code> command might fail with the following error because the <code>/etc/resolv.conf</code> file is missing<br /><pre>Failed to prepare to applyUnrecoverable internal error</pre> | 5.0.0-5.0.1 | |
| <a name="2893895"></a> [2893895](#2893895) <a name="2893895"></a> <br />CM-33315 | CVE-2020-35498: A vulnerability was found in openvswitch. A limitation in the implementation of userspace packet parsing can allow a malicious user to send a specially crafted packet causing the resulting megaflow in the kernel to be too wide, potentially causing a denial of service. The highest threat from this vulnerability is to system availability<br />Vulnerable: <= 2.8.90-1-cl4u5Fixed: 2.8.90-1-cl4u6, 2.8.90-1-cl4.4.0u1, 2.8.90-1-cl5.0.0u8 | 4.0.0-4.3.0 | |
| <a name="2886488"></a> [2886488](#2886488) <a name="2886488"></a> <br /> | NVUE commands fail to configure port mirroring. | 5.0.0-5.0.1 | |
| <a name="2885287"></a> [2885287](#2885287) <a name="2885287"></a> <br /> | When you change the port breakout configuration, you must restart <code>switchd</code> to clean up any previously-associated port states and reinitialize the ports. Reloading <code>switchd</code> does not work. | 5.0.0-5.0.1 | |
| <a name="2875338"></a> [2875338](#2875338) <a name="2875338"></a> <br /> | In a scaled EVPN-MLAG configuration (observed with 400 or more VNIs and 20K or more MAC addresses – the actual scale might vary), when the peer link flaps causing all VNIs to come up at the same time, there might be high CPU utilization on the system for several minutes and the FRR service might restart. After FRR restarts or the CPU utilization settles down, the system functions normally. | 4.2.1-5.0.1 | |
| <a name="2861989"></a> [2861989](#2861989) <a name="2861989"></a> <br /> | Incomplete or unnecessary configuration in FRR results in FRR restarting instead of rejecting the configuration with an error. | 5.0.0-5.0.1 | |
| <a name="2860323"></a> [2860323](#2860323) <a name="2860323"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-5.0.1 | |
| <a name="2855908"></a> [2855908](#2855908) <a name="2855908"></a> <br /> | Traffic failover in a multicast topology with redundancy has the mroute stuck in a prune state and PIM join messages continue to send<br />To work around this issue, run the vtysh <code>clear ip mroute</code> command. | 3.7.15-5.0.1 | |
| <a name="2854787"></a> [2854787](#2854787) <a name="2854787"></a> <br /> | An unexpected software system shutdown can occur due to a thermal zones issue in the <code>hw-management</code> package. The following message might appear in <code>/var/log/syslog</code> before the shutdown:<pre>thermal thermal_zoneX: critical temperature reached (33 C), shutting down</pre> | 4.3.0-5.0.1 | |
| <a name="2815646"></a> [2815646](#2815646) <a name="2815646"></a> <br /> | In an EVPN configuration, an FRR restart on a border leaf VRRP master causes a stale route for the VRRP VIP on some remote VTEPs to point to the VRRP backup after convergence. | 3.7.12-3.7.15, 4.3.0-5.0.1 | |
| <a name="2713888"></a> [2713888](#2713888) <a name="2713888"></a> <br /> | With the <code>ip-acl-heavy</code> TCAM profile, the following message might appear after you install an ACL with NCLU or cl-acltool and the ACL might not work correctly<br /><pre>hal_flx_acl_util.c:378 ERR hal_flx_acl_resource_release resource region 0 size 7387 create failed: No More Resources</pre>To work around this issue, change the TCAM profile to <code>acl-heavy</code> or <code>ip-acl-heavy</code> with ACL non-atomic mode. | 3.7.15-5.0.1 | |
| <a name="2685994"></a> [2685994](#2685994) <a name="2685994"></a> <br /> | When you use the NVUE command <code>nv set interface lo router ospf area</code> to configure OSPF on a loopback interface, the configuration fails to apply<br />To work around this issue, configure the loopback interface in the desired OSPF area with the <code>nv set vrf default router ospf area 0 network</code> command and reference the assigned prefix of the loopback interface. For example:<pre>cumulus&#64;leaf01:~$ nv set vrf default router ospf area 0 network 10.10.10.1/32</pre> | 4.0.0-5.0.1 | |

