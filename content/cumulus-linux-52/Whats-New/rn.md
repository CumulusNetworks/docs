---
title: Cumulus Linux 5.2 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "5.2"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-52" >}}
## 5.2.1 Release Notes
### Open Issues in 5.2.1

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3647426"></a> [3647426](#3647426) <a name="3647426"></a> <br />None | If BGP <code>remote-as</code> is set to an integer and you try to configure the <code>local-as</code> for a BGP instance, you see the following error:<pre>% AS specified for local as is the same as the remote as and this is not allowed<br /></pre>This configuration is not allowed; it is considered to be eBGP and local preference is not advertised. | 5.0.0-5.5.1 | 4.3.2-4.4.5, 5.6.0|
| <a name="3585467"></a> [3585467](#3585467) <a name="3585467"></a> <br /> | NVUE and <code>ip link</code> show traditional bridge VLAN subinterface counts incorrectly. The ingress (Rx) count increments correctly but the egress (Tx) count does not increment. This issues occurs because the hardware does not support transmit counters for a VLAN subinterface; therefore, no statistics from the hardware are updated. Statistics for software forwarded packets show correctly. | 5.0.0-5.6.0 | |
| <a name="3562767"></a> [3562767](#3562767) <a name="3562767"></a> <br /> | ACLs do not process inbound DHCP packets and the packets do not contribute to ACL counters | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3560622"></a> [3560622](#3560622) <a name="3560622"></a> <br /> | When you configure a route distinguisher (RD) or a route target (RT) manually for layer 2 VNIs, type-1 routes are not properly updated, type-1 EVI routes with the old RD are not properly withdrawn, and type-1 ES routes do not have the corresponding layer 2 VNI route target updated. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3554231"></a> [3554231](#3554231) <a name="3554231"></a> <br />None | CVE-2023-38408: The PKCS#11 feature in ssh-agent in OpenSSH before 9.3p2 has an insufficiently trustworthy search path, leading to remote code execution if an agent is forwarded to an attacker-controlled system. (Code in /usr/lib is not necessarily safe for loading into ssh-agent.) NOTE: this issue exists because of an incomplete fix for CVE-2016-10009<br />Mitigation: Do not use ssh-agent forwarding (the man page for ssh_config says that "agent forwarding should be enabled with caution"), or start the ssh-agent program with the -P option to allow only specific PKCS#11 libraries (or none with -P '')<br />For Cumulus Linux 4.3.2, the /usr/bin/ssh-agent program has all permissions turned off (chmod 0) to prevent its execution if a vulnerable version is detected. | 4.0.0-4.3.1, 5.0.0-5.6.0 | 4.3.2-4.4.5|
| <a name="3541912"></a> [3541912](#3541912) <a name="3541912"></a> <br /> | Collecting a <code>cl-support</code> file in a high VNI and interface environment can result in an out-of-memory (OOM) event on the switch. An OOM event can cause critical services to restart and might impact traffic. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3491259"></a> [3491259](#3491259) <a name="3491259"></a> <br /> | When BGP receives an EVPN type-5 route with a gateway IP overlay attribute, the gateway IP overlay attribute in the <code>attr memory</code> (which is already inserted in the attribute hash) might change. As a result, the modified <code>attr memory</code> might match with another <code>attr</code> in the attribute hash, which produces duplicate entries in the hash table. As a result, BGP might crash when deleting one of the duplicate <code>attr</code> structures.  | 5.0.0-5.5.1 | 5.6.0|
| <a name="3488136"></a> [3488136](#3488136) <a name="3488136"></a> <br /> | When zebra receives route updates that include both a route with a recursive next hop and the route used to resolve that next hop, zebra might mark the route with the recursive next hop as inactive. To work around this issue, reprocess the route updates by running the appropriate clear command for the protocol in use. For example, for BGP, clear inbound routes from the relevant neighbor using the <code>nv action clear vrf <vrf> router bgp neighbor <neighbor> address-family <address-family> in</code> command. | 4.2.1-5.5.1 | 5.6.0|
| <a name="3474391"></a> [3474391](#3474391) <a name="3474391"></a> <br /> | The SNMP MIB definition file <code>/usr/share/snmp/mibs/Cumulus-BGPVRF-MIB.txt</code> does not  define the INDEX of the <code>bgpPeerEntry</code> correctly. This issue does not impact SNMP functionality for this MIB. | 4.3.1-5.5.1 | 5.6.0|
| <a name="3466703"></a> [3466703](#3466703) <a name="3466703"></a> <br /> | In rare cases when there is high load, the <code>clagd</code> service might experience a buffer overflow and MLAG bonds stay in a proto-down state on the secondary switch. You see a "NetlinkThread: Netlink overflow" log message and the MLAG state indicates VLAN conflicts between peers. To work around this issue, restart the <code>clagd</code> service with the <code>sudo systemctl restart clagd</code> command on the switch that reports the overflow log message. | 5.2.0-5.5.1 | 5.6.0|
| <a name="3445841"></a> [3445841](#3445841) <a name="3445841"></a> <br /> | FRR does not apply Type-0 ESI configuration for EVPN multihoming bonds consistently after an FRR service reload. This issue occurs because the system MAC address value (<code>es-sys-mac</code>) is only compatible with a 3-byte Ethernet segment ID (<code>es-id</code>) for Type-3 ESIs, but still renders even when the Ethernet segment ID is 10 bytes for Type-0 ESIs. To work around this issue, configure EVPN multihoming bonds with a Type-3 ESI (<code>es-sys-mac</code> plus a 3-byte <code>es-id</code>). | 5.0.0-5.6.0 | |
| <a name="3432897"></a> [3432897](#3432897) <a name="3432897"></a> <br /> | When you remove the restriction from a TACACS+ mapped user to remove per command authorization, the <code>tacplus-restrict -R</code> command does not restore ownership of restored files correctly. As a result, some commands might fail due to permission errors in the files or directories under the home directory. To work around this issue, run the <code>sudo chown</code> command  to correct the ownership of the affected files and directories. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-5.4.0 | 5.5.0-5.6.0|
| <a name="3424967"></a> [3424967](#3424967) <a name="3424967"></a> <br /> | <code>sudo</code> for TACACS+ users with privilege level 15 does not work when the TACACS+ server is to be reached through the <code>default</code> VRF (with <code>vrf=default</code> set in the <code>/etc/tacplus_servers</code> file). To work around this issue, specify the interface name that the <code>default</code> VRF uses in the <code>vrf=</code> setting of the <code>/etc/tacplus_servers</code> file or run the NVUE <code>nv set system aaa tacacs vrf</code> command. If you don't run either command, a TACACS+ user with privilege level 15 can run <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.6.0 | |
| <a name="3413827"></a> [3413827](#3413827) <a name="3413827"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 5.0.0-5.4.0 | 4.3.2-4.4.5, 5.5.0-5.6.0|
| <a name="3413785"></a> [3413785](#3413785) <a name="3413785"></a> <br /> | To reach the TACACS+ server through the default VRF, you must specify the egress interface you use in the default VRF. Either run the NVUE <code>nv set system aaa tacacs vrf <interface></code> command (for example, <code>nv set system aaa tacacs vrf swp51</code>) or set the <code>vrf=<interface></code> option in the <code>/etc/tacplus_servers</code> file (for example, <code>vrf=swp51</code>). A similar issue might prevent TACACS+ users with privilege level 15 from using <code>sudo</code> if the TACACS+ server is reachable only on the <code>default</code> VRF.  If this occurs, and you do not run the above configuration workaround, the TACACS+ user with privilege level 15 can use <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3402935"></a> [3402935](#3402935) <a name="3402935"></a> <br />None | For layer 3 interfaces configured on the switch, certain triggers, such as port flaps and subinterface flaps, or when configuring the ports to and from layer 2 and layer 3, cause the dummy internal VLAN to not free up, which can result in exhaustion of the dummy internal VLANs designated for the layer 3 interfaces. When this occurs, you see the following <code>switchd</code> log messages:<pre>ERR dummy internal vlans exhaustedERR cannot allocate vlan for sub-interface</pre> | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3388067"></a> [3388067](#3388067) <a name="3388067"></a> <br /> | TACACS+ packages in the local <code>apt</code> repository might be out of date; as a result, the upgrade does not install tacacs0 through tacacs15 users in the correct NVUE groups. When you run NVUE commands as a TACACS+ user, the commands fail and you see the error <code>You do not have permission to execute that command</code><br />To obtain the correct packages, install the <code>tacplus-client</code> package and its dependencies from <code>apt.cumulusnetworks.com</code>. | 5.1.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3379873"></a> [3379873](#3379873) <a name="3379873"></a> <br /> | <code>apt source linux</code> fails to download the Linux kernel source code.  To work around this issue, run the <code>sudo apt update && sudo apt install linux-source-5.10</code> command or download the desired version from <code>https://apt.cumulusnetworks.com/repo/pool/cumulus/l/linux/</code> and install it with the <code>sudo dpkg -i $filename</code> command.  The source code in a <code>tar.xz</code> file will then be located in the <code>/usr/src/</code> directory. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3368217"></a> [3368217](#3368217) <a name="3368217"></a> <br />None | When daylight saving time changes, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-4.4.5, 5.2.1-5.6.0 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-4.3.1, 4.4.0-5.3.1 | 4.3.2, 5.4.0-5.6.0|
| <a name="3351936"></a> [3351936](#3351936) <a name="3351936"></a> <br /> | Switch fans run at very high speed but the temperature is normal. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3350789"></a> [3350789](#3350789) <a name="3350789"></a> <br /> | NVUE deprecated the port split command options (2x10G, 2x25G, 2x40G, 2x50G, 2x100G, 2x200G, 4x10G, 4x25G, 4x50G, 4x100G, 8x50G) with no backwards compatibility. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3349207"></a> [3349207](#3349207) <a name="3349207"></a> <br /> | The switch does not learn MAC addresses from DHCP packets. When a DHCP enabled host is plugged in for the first time, it tries to obtain an IP address through DHCP. The switch  does not learn the MAC address of the host when it receives these DHCP packets; therefore, the host MAC address is not updated in the local forwarding database and it does not get advertised across EVPN. The switch learns the MAC address when it receives other packets, such as ARP or ND from the host. To work around this issue, either configure a temporary IP address on the host to initiate ARP/ND or enable IPv6, which sends ND after link local address creation. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3347677"></a> [3347677](#3347677) <a name="3347677"></a> <br /> | In an MLAG configuration, when a link failure occurs on the peerlink or the peerlink shuts down, the switch in the secondary role attracts traffic to its local VTEP as it advertises the local VTEP IP address momentarily just before the VXLAN device is protodown. This traffic is dropped for a brief moment (between 5 and 10 seconds) because the MLAG bonds on the secondary switch are already protodown. | 5.1.0-5.6.0 | |
| <a name="3339336"></a> [3339336](#3339336) <a name="3339336"></a> <br /> | The <code>ethtool -m</code> command does not show Digital Optical Monitoring (DOM) for SFP transceivers. To work around this issue, run the <code>l1-show or mlxlink</code> command instead. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3334275"></a> [3334275](#3334275) <a name="3334275"></a> <br /> | The <code>sensors.conf</code> files in Cumulus Linux are out of date. | 5.2.0-5.6.0 | |
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might not match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3308248"></a> [3308248](#3308248) <a name="3308248"></a> <br /> | DHCP packets do not forward over VXLAN interfaces in multicast replication environments. This issue does not affect VXLAN environments using head end replication (HER). | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3303082"></a> [3303082](#3303082) <a name="3303082"></a> <br /> | When you delete a route under the following conditions, <code>switchd</code> might crash:<br />- The minimum number of routes is set to a non-zero value.<br />- KVD utilization is higher than sixty percent.<br />- The number of routes currently configured is less than the minimum reserved value, and multiple KVD linear resources have just been freed and are waiting in the Garbage Collector queue. | 5.2.0-5.3.0 | 5.3.1-5.6.0|
| <a name="3301988"></a> [3301988](#3301988) <a name="3301988"></a> <br /> | Some EVPN multihoming show commands might cause BGP to crash if you use the <code>json</code> flag and attempt to reference the default VRF by name. For example, <code>show bgp l2vpn evpn es-vrf json</code>. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3296715"></a> [3296715](#3296715) <a name="3296715"></a> <br /> | When you clear interface counters with the <code>ethtool -S <interface> clear</code> command, the command fails with the following message:<pre>switch:~$ ethtool -S swp1 clearethtool (-S): unknown parameter 'clear'</pre> | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3289646"></a> [3289646](#3289646) <a name="3289646"></a> <br /> | The memory consumption in <code>ptmd</code> can grow when the socket being used for a BFD session needs to be recreated. This is often seen when the route being used to forward BFD packets is removed; for example, if the connected route is removed when an interface goes down, over which a single hop BFD session is formed. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3267328"></a> [3267328](#3267328) <a name="3267328"></a> <br /> | On Spectrum 1 switches when configuring ACLs in non-atomic mode, if there are too many IPv6 matches due to rules with both <code>input-interface</code> and <code>output-interface</code> matches on SVIs, the ACL install fails and <code>switchd</code> crashes. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3266197"></a> [3266197](#3266197) <a name="3266197"></a> <br /> | When you disable BGP globally with the <code>nv set router bgp enable off</code> command, applying the configuration with NVUE might fail due to an FRR reload failure. | 5.2.0-5.6.0 | |
| <a name="3266050"></a> [3266050](#3266050) <a name="3266050"></a> <br /> | Due to a race at the initial configuration, the SDK RDQ test may test RDQ configured for WJH and fail the test resulting in a fatal health event. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3255948"></a> [3255948](#3255948) <a name="3255948"></a> <br /> | When you upgrade from Cumulus Linux 5.0.0-5.1.0 to Cumulus Linux 5.2.0 or 5.2.1, warm or fast boot fails.  Use regular reboot or csmgrctl -c in this case. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3255899"></a> [3255899](#3255899) <a name="3255899"></a> <br /> | The Linux utility that sends ARP packets is constrained to 512 interfaces on the system. In large scale deployments, the warm boot process fails repeatedly as it sends gratuitous ARP requests for each local address. This issue does not impact the functionality and can be ignored. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3244955"></a> [3244955](#3244955) <a name="3244955"></a> <br /> | ACL configurations fail when the TCAM memory is exhausted because the CTCAM profile is configured with duplicate entries. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3241047"></a> [3241047](#3241047) <a name="3241047"></a> <br /> | When you delete a route under the following conditions, <code>switchd</code> might crash:- The minimum number of routes is set to a non-zero value<br />- KVD utilization is higher than sixty percent<br />- The number of routes currently configured is less than the minimum reserved value, and multiple KVD linear resources have just been freed and are waiting in the Garbage Collector queue. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3235368"></a> [3235368](#3235368) <a name="3235368"></a> <br /> | When you try to configure VRF route leaking between many VRFs using multiple NCLU commands before running the <code>net commit</code> command, the commit fails. To work around this issue, configure VRF leaking one command at a time and run <code>net commit</code> after each command. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3227905"></a> [3227905](#3227905) <a name="3227905"></a> <br /> | PTP forced master mode does not work. To work around this issue, change <code>masterOnly</code> to <code>serverOnly</code> in the <code>/etc/ptp4l.conf</code> file. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3227677"></a> [3227677](#3227677) <a name="3227677"></a> <br /> | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3227651"></a> [3227651](#3227651) <a name="3227651"></a> <br />None | Docker commands can cause Cumulus Linux commands to fail.  <code>apt upgrade</code> can also fail if you use Docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running Docker commands or running <code>apt upgrade</code>. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3226525"></a> [3226525](#3226525) <a name="3226525"></a> <br /> | When using TACACS+, if you configure per-command authorization with the <code>tacplus-restrict</code> command, NVUE configuration commands fail for any user with a privilege level lower than 15. This occurs because NVUE is not able to create a <code>.local</code> user directory. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3221628"></a> [3221628](#3221628) <a name="3221628"></a> <br /> | Cumulus Linux VX images might include an incorrect entry at the end of <code>/etc/apt/sources.list</code>, which produces warnings when you run <code>apt update</code>. Remove this entry to avoid these warnings. | 5.2.0-5.6.0 | |
| <a name="3218207"></a> [3218207](#3218207) <a name="3218207"></a> <br />None | Certain routes on tenant VRFs have missing next hop entries because the router MAC address is missing in the bridge forwarding database table that corresponds to the remote VTEP. As a result, traffic forwarding is affected for these routes. | 4.3.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3217675"></a> [3217675](#3217675) <a name="3217675"></a> <br /> | When you run the NVUE <code>nv set bridge domain br_default multicast snooping enable off</code> command to disable multicast snooping, the bridge still shows that multicast snooping is enabled. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3217674"></a> [3217674](#3217674) <a name="3217674"></a> <br /> | Multicast PTP over UDP traffic does not forward to data ports when the PTP service is disabled. To work around this issue, change the <code>ptp.timestamping</code> setting to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, then restart <code>switchd</code>. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3211114"></a> [3211114](#3211114) <a name="3211114"></a> <br /> | After an abrupt power cycle, the <code>nvued</code> service might fail to start due to NVUE internal data corruption<br />This issue has been resolved with the addition of an automatic backup feature, which is enabled by default; if NVUE detects an internal data store corruption, the <code>nvued</code> service recovers from the backup. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU â€“ Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3205859"></a> [3205859](#3205859) <a name="3205859"></a> <br /> | On the NVIDIA SN3700 and SN4600 switch, the fans run at very high speed but the temperature sensor readings are within an acceptable range. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3205858"></a> [3205858](#3205858) <a name="3205858"></a> <br /> | Ports might experience intermittent I2C EEPROM read problems, which result in blinking amber LEDs and incorrect ethtool output. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3205012"></a> [3205012](#3205012) <a name="3205012"></a> <br /> | The NVIDIA SN4600 switch might experience SDK errors caused by the garbage collection process. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3204533"></a> [3204533](#3204533) <a name="3204533"></a> <br /> | At high scale with 79 VRFs and 10 VLANs per VRF (a total of 790 VLANs), <code>clagd</code> loses backup connection during a <code>switchd</code> restart. To work around this issue, reduce the scale to 40 VRFs with no more than 400 VLANs in the configuration, and use a common MAC address. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3202991"></a> [3202991](#3202991) <a name="3202991"></a> <br /> | Locally generated multicast traffic including IGMPv2 GSQs do not transmit to local clients when using PIM. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3202401"></a> [3202401](#3202401) <a name="3202401"></a> <br /> | The <code>ethtool -m</code> command and the NVUE <code>nv show interface <interface> pluggable</code> command do not show the VPD for optical modules and AOCs (OUI, vendor name, part number, or revision serial number). | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3200373"></a> [3200373](#3200373) <a name="3200373"></a> <br /> | After rebooting the switch, the IPv6 link local address for an SVI that belongs to non-default VRF is missing, and doesn't show on the switch. To resolve this issue, run the <code>ifreload -a</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3196774"></a> [3196774](#3196774) <a name="3196774"></a> <br /> | In an EVPN configuration, after closing a BGP session on an EVPN peer, the VTEP RMAC is deleted and the hosts lose reachability to each other.  To work around this issue, restart FRR or add a static RMAC entry to bridge FDB. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-4.3.1, 4.4.0-5.2.1 | 4.3.2, 5.3.0-5.6.0|
| <a name="3188576"></a> [3188576](#3188576) <a name="3188576"></a> <br /> | IPv6 messages fill the <code>/var/log/frr/frr.log</code> files and <code>logrotate</code> is unable to clean up the old log files. As a result, a significant number of log files are never deleted, which fill up the file system. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3187469"></a> [3187469](#3187469) <a name="3187469"></a> <br /> | At high scale with 160 VRFs and 10 VLANs per VRF (a total of 1600 VLANs), you see traffic loss during primary switch reboot. To work around this issue, reduce the scale to 40 VRFs with no more than 400 VLANs in the configuration, and use a common MAC address. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3187408"></a> [3187408](#3187408) <a name="3187408"></a> <br /> | Certain NUE commands produce an <code>Invalid Command</code> error. For example:<pre>cumulus&#64;switch:~$ nv set vrf default router bgp peer-group SPINE password CumulusLinux!Invalid Command: set vrf default router bgp peer-group SPINE password CumulusLinux!cumulus&#64;switch:~$ nv set router policy route-map GLOBAL rule 10 description globalInvalid Command: set router policy route-map GLOBAL rule 10 description global</pre> | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3180043"></a> [3180043](#3180043) <a name="3180043"></a> <br /> | The EVPN Multihoming ESI configuration command <code>nv set interface <interface-id> evpn multihoming segment identifier <es-identifier></code> does not work. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3178090"></a> [3178090](#3178090) <a name="3178090"></a> <br /> | The <code>cl-support</code> generation script causes TC filter collection to run as a background process for each interface, which can lead to memory exhaustion on a high scale configuration and on a switch with a small memory footprint. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3177985"></a> [3177985](#3177985) <a name="3177985"></a> <br /> | When you run ZTP manually with the <code>ztp -R</code> command, then the <code>ztp -vb</code> command, the process stalls indefinitely while searching the local (USB) location and not using DHCP information. To work around this issue, run the <code>ztp -r</code> command with the URL of the ZTP server:<pre>&#91;Dec-08-17:09:58&#93; root&#64;switch:/home/cumulus#  ztp -r http://myztp.server.local/ztp</pre> | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3176318"></a> [3176318](#3176318) <a name="3176318"></a> <br /> | The NVUE <code>nv set bridge domain br_default stp priority</code> command does not change the STP priority. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3172682"></a> [3172682](#3172682) <a name="3172682"></a> <br /> | On rare occasions, when you query the system hostname through the <code>hostnamctl</code> application, you see a timeout. NVUE uses the <code>hostnamctl</code> application to determine the system hostname, which can result in an <code>nv config apply</code> command failure. | 5.2.0-5.5.1 | 5.6.0|
| <a name="3172504"></a> [3172504](#3172504) <a name="3172504"></a> <br /> | When you connect the NVIDIA SN4600C switch to a Spectrum 1 or Spectrum-3 switch with a 40GbE passive copper cable (Part Number: MC2210126-005) on edge ports 1-4 and 61-64, there is an Effective BER of 1E-12 in PHY. | 5.2.0-5.6.0 | |
| <a name="3171316"></a> [3171316](#3171316) <a name="3171316"></a> <br /> | Various FRR show commands do not have json output. This applies to BGP show commands ending in <code>prefix-list</code>, <code>route-map</code>, <code>dampening</code> parameters, and longer-prefixes. FRR <code>show bgp detail</code> output contains a summary instead of details on each prefix. FRR <code>show bgp ... neighbor routes</code> and <code>show bgp ... neighbor received-routes</code> both incorrectly use a json key of <code>advertisedRoutes</code>. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3166746"></a> [3166746](#3166746) <a name="3166746"></a> <br /> | FRR does not install EVPN type-2 routes correctly after the specific operation that deletes and adds all non-uplink ports.  The routes show as rejected in the zebra RIB. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3159756"></a> [3159756](#3159756) <a name="3159756"></a> <br /> | When adding a member port to a bond you sometimes see an error. The error occurs if you configure a port as double tagged, then you remove the double tagged configuration and add the port as a bond member. You might not see the error as it depends on timing of interface events during double tagged interface creation. To work around this issue, remove the bond configuration and add it back again. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3157711"></a> [3157711](#3157711) <a name="3157711"></a> <br /> | If you disable SNMP with the NVUE command <code>nv unset service snmp-server</code>, the FRR service restarts and removes the cleanup agentx functionality, which is used to obtain FRR MIBs. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3150208"></a> [3150208](#3150208) <a name="3150208"></a> <br /> | When a ZTP script executes a <code>switchd</code> restart, the <code>switchd</code> service might fail with the following log message:<pre>switchd&#91;11549&#93;: hal.c:1378 CRIT No backends found</pre>To work around this issue, avoid restarting the <code>switchd</code> service in the ZTP script; reboot the switch instead. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3145869"></a> [3145869](#3145869) <a name="3145869"></a> <br /> | On a Spectrum-3 switch, the PTP offset in 10GbE changes between +-27. The average offset is around 7. | 5.2.0-5.6.0 | |
| <a name="3145222"></a> [3145222](#3145222) <a name="3145222"></a> <br /> | The NVUE <code>nv show system forwarding --output json</code> command does not provide any output. To work around this issue, run the <code>nv show system forwarding</code> command. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3145204"></a> [3145204](#3145204) <a name="3145204"></a> <br /> | On the NVIDIA Spectrum-1 switch, the <code>nv show system forwarding</code> command shows GTP hashing  output, which is not supported on this switch. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3144740"></a> [3144740](#3144740) <a name="3144740"></a> <br /> | The <code>/var/lib/snmp/snmpd.conf</code> file contains multiple <code>Warning: Unknown token: ifXTable</code> messages. To avoid these warnings, add the <code>-noTokenWarnings</code> option to the SNMPDOPTS variable in the <code>/etc/defaults/snmpd</code> file, then restart the <code>snmpd</code> service. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3142615"></a> [3142615](#3142615) <a name="3142615"></a> <br /> | The <code>BGP4-MIB.txt</code> file is missing from Net-SNMP agent. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3141826"></a> [3141826](#3141826) <a name="3141826"></a> <br /> | A slow memory leak (~5KB over 24 hour period at a 60 second polling interval) might occur in SNMP when you walk the following system MIB objects (1.3.6.1.2.1)<br />1.3.6.1.2.1.47 --> Entity MIB<br />1.3.6.1.2.1.99 --> Entity Sensor MIB<br />1.3.6.1.2.1.23 --> rip2<br />1.3.6.1.2.1.2 --> interface/interfaces<br />1.3.6.1.2.1.31 --> ifMIB<br />1.3.6.1.2.1.4 --> IP<br />1.3.6.1.2.1.25 --> hostResource | 5.0.1-5.6.0 | |
| <a name="3139364"></a> [3139364](#3139364) <a name="3139364"></a> <br /> | When Cumulus Linux updates the ECMP container with a new next hop list, it allocates the flow counters for the new next hop list without deallocating the counters bound to the old next hop list. This results in resource exhaustion and you see the following error messages in the <code>/var/log/switchd.log</code> file:<pre>hal_mlx_stat.c:3215 ERR Failed to allocate counter(s) for ecmp &#91;71025:0&#93; status: Internal Errorhal_mlx_stat.c:3196 ERR Counter set for ecmp &#91;71025:0&#93; idx 0 failed: Internal Errorhal_mlx_sdk_nexthop_wrap.c:1076 ERR Counter 0 alloc for ecmp next hop failed: Internal Errorhal_mlx_sdk_counter_wrap.c:54 ERR Counter alloc failed: No More Resources</pre>This issue does not have any functional impact to forwarding. Even without the flow counters attached to the ECMP group, packet forwarding works without any issues<br />To avoid allocating next hop counters for any new ECMP next hop list update, set <code>mlx.stats.ecmp.enable</code> to FALSE in the <code>/etc/mlx/datapath/stats.conf</code> file, then restart <code>switchd</code> with the <code>sudo systemctl reload switchd</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3139164"></a> [3139164](#3139164) <a name="3139164"></a> <br /> | NVUE does not allow you to set 2X/4X lanes. To work around this issue, set the appropriate lanes for forced speed with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example, <code>ethtool -s swp1 speed 100000 autoneg off lanes 2</code>. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3135952"></a> [3135952](#3135952) <a name="3135952"></a> <br /> | PAM4 split cables (such as 2x100G, 4x100G, and 4x50G) do not work with a forced speed setting (when auto-negotiation is off) as the default speed enabled is for NRZ mode (such as 100G_4X). To work around this issue,  set the appropriate lanes for forced speed (with auto-negotation off) with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example: <pre>cumulus&#64;switch:~$ sudo ethtool -s swp1 speed 100000 autoneg off lanes 2</pre> | 5.2.0-5.6.0 | |
| <a name="3135714"></a> [3135714](#3135714) <a name="3135714"></a> <br /> | The <code>tacplus</code> package does not create the correct tacacs0-15 users in the right groups. NVUE commands are rejected with the error: "You do not have permission to execute that command." To work around this issue, add tacacs15 to the <code>nvapply</code> group. Also, add tacacs0 through 14 to the <code>nvshow</code> group:<pre>sudo usermod -a -G nvapply tacacs15sudo usermod -a -G nvshow tacacs0..<br />sudo usermod -a -G nvshow tacacs14</pre> | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3135683"></a> [3135683](#3135683) <a name="3135683"></a> <br /> | On the Spectrum SN2201 switch, when a fan is obstructed with an object, the fan and system LEDs don't change. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3122301"></a> [3122301](#3122301) <a name="3122301"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.6.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a <code>vlan added to two or more VXLANS</code> warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0-5.6.0 | |
| <a name="3103821"></a> [3103821](#3103821) <a name="3103821"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.6.0 | |
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | The default QOS traffic shaping configuration does not restore after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3074390"></a> [3074390](#3074390) <a name="3074390"></a> <br /> | You can not apply NVUE configurations when TACACS is enabled for user authentication. To work around this issue, add the <code>nvue</code> account to the <code>exclude_users</code> line in <code>/etc/tacplus_nss.conf</code>:<pre>exclude_users=root,daemon,nobody,cron,radius_user,radius_priv_user,sshd,cumulus,quagga,frr,nvue,snmp,www-data,ntp,man,_lldpd,*</pre> | 5.0.1-5.3.1 | 5.4.0-5.6.0|
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.6.0 | |
| <a name="3069069"></a> [3069069](#3069069) <a name="3069069"></a> <br /> | When you run the <code>systemctl reload switchd</code> command, there is momentary traffic loss after a port configured with lossless buffers goes down. This is only temporary and the traffic stabilizes after the initial drops. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3061656"></a> [3061656](#3061656) <a name="3061656"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.6.0 | |
| <a name="3055283"></a> [3055283](#3055283) <a name="3055283"></a> <br /> | After you run Linux commands to enable a custom ECMP or LAG hash parameter,  if you set the <code>hash_config.enable</code> or <code>lag_hash_config.enable</code> parameter to <code>false</code>, the custom parameters do not restore their default values. To work around this issue, change the custom ECMP or LAG hash parameters to their default values manually. | 5.1.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.6.0 | |
| <a name="3053015"></a> [3053015](#3053015) <a name="3053015"></a> <br /> | Spectrum-2 and Spectrum-3 switches do not support 1G speed with Cumulus Linux. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3045310"></a> [3045310](#3045310) <a name="3045310"></a> <br /> | If GTP Hashing is set to <code>true</code>, after more than two warm boots, <code>switchd</code> fails and a cl-support file is generated. | 5.1.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3040174"></a> [3040174](#3040174) <a name="3040174"></a> <br /> | When you configure EVPN multihoming with NVUE on a switch with the Spectrum-a1 ASIC, you must configure the following snippet to enable EVPN multihoming in hardware. This is not required for Spectrum-2 or Spectrum-3 switches<br /><pre>- set:<br />   system:<br />     config:<br />       snippet:<br />         switchd:<br />           file: "/etc/cumulus/switchd.conf"<br />           content: \|<br />             evpn.multihoming.enable=TRUE<br />           permissions: "0644"<br />           services:<br />             schedule:<br />               service: switchd<br />               action: restart</pre>Apply the snippet with the <code>nv config patch <snippet.yaml></code> command, then run the <code>nv config apply -y</code> command. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3037824"></a> [3037824](#3037824) <a name="3037824"></a> <br /> | The NVUE <code>nv show interface <interface-id> link state</code> command shows an empty table instead of showing the port link state. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-5.4.0 | 5.5.0-5.6.0|
| <a name="3015393"></a> [3015393](#3015393) <a name="3015393"></a> <br /> | The NVUE <code>nv show interface <tunnel-name></code> command shows the operational state of the tunnel as down even though the tunnel is up, and encapsulation and decapsulation occurs correctly. | 5.1.0-5.3.1 | 5.4.0-5.6.0|
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.6.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.6.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.6.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the NVIDIA SN4600 switch to another NVIDIA Spectrum switch, you must use auto-negotiation mode (not force mode); otherwise the switch might use the wrong Tx configuration. | 5.0.0-5.6.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.6.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.6.0 | |
| <a name="2821929"></a> [2821929](#2821929) <a name="2821929"></a> <br /> | FRR restarts even when the NVUE configuration overwrite mode is set. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2701000"></a> [2701000](#2701000) <a name="2701000"></a> <br /> | A default route learned from DHCP on eth0 in the management VRF might install in the default VRF if eth0 is disconnected and the original next hop is reachable in the default VRF. To work around this issue, delete the DHCP lease file for eth0 with the <code>sudo rm /var/lib/dhcp/dhclient.eth0.leases</code> command. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | When you enable a service in the management VRF, <code>systemctl</code> issues a warning similar to the following:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre>You can safely ignore this warning. | 4.0.0-4.4.5, 5.0.0-5.6.0 | |

### Fixed Issues in 5.2.1
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3270988"></a> [3270988](#3270988) <a name="3270988"></a> <br /> | After restarting <code>switchd</code> on the NVIDIA SN2100 switch, the FAN speeds are at one hundred percent. To work around this issue, restart the <code>hw-management</code> service. | 4.4.5-5.2.0 | |
| <a name="3205700"></a> [3205700](#3205700) <a name="3205700"></a> <br />None | A firmware upgrade has been implemented to optimize the PCIe bus between the CPU and Spectrum ASIC on NVIDIA SN4700, SN4600, SN4600C, and SN4410 switches manufactured with <code>0x26 1 17</code> in EEPROM. Affected switches will not boot properly without this firmware upgrade. To see the EEPROM value, run the <code>onie-syseeprom</code> command from ONIE or run the <code>decode-syseeprom</code> command from Cumulus Linux. | 4.4.4, 5.2.0 | |

## 5.2.0 Release Notes
### Open Issues in 5.2.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3647426"></a> [3647426](#3647426) <a name="3647426"></a> <br />None | If BGP <code>remote-as</code> is set to an integer and you try to configure the <code>local-as</code> for a BGP instance, you see the following error:<pre>% AS specified for local as is the same as the remote as and this is not allowed<br /></pre>This configuration is not allowed; it is considered to be eBGP and local preference is not advertised. | 5.0.0-5.5.1 | 4.3.2-4.4.5, 5.6.0|
| <a name="3585467"></a> [3585467](#3585467) <a name="3585467"></a> <br /> | NVUE and <code>ip link</code> show traditional bridge VLAN subinterface counts incorrectly. The ingress (Rx) count increments correctly but the egress (Tx) count does not increment. This issues occurs because the hardware does not support transmit counters for a VLAN subinterface; therefore, no statistics from the hardware are updated. Statistics for software forwarded packets show correctly. | 5.0.0-5.6.0 | |
| <a name="3562767"></a> [3562767](#3562767) <a name="3562767"></a> <br /> | ACLs do not process inbound DHCP packets and the packets do not contribute to ACL counters | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3560622"></a> [3560622](#3560622) <a name="3560622"></a> <br /> | When you configure a route distinguisher (RD) or a route target (RT) manually for layer 2 VNIs, type-1 routes are not properly updated, type-1 EVI routes with the old RD are not properly withdrawn, and type-1 ES routes do not have the corresponding layer 2 VNI route target updated. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3554231"></a> [3554231](#3554231) <a name="3554231"></a> <br />None | CVE-2023-38408: The PKCS#11 feature in ssh-agent in OpenSSH before 9.3p2 has an insufficiently trustworthy search path, leading to remote code execution if an agent is forwarded to an attacker-controlled system. (Code in /usr/lib is not necessarily safe for loading into ssh-agent.) NOTE: this issue exists because of an incomplete fix for CVE-2016-10009<br />Mitigation: Do not use ssh-agent forwarding (the man page for ssh_config says that "agent forwarding should be enabled with caution"), or start the ssh-agent program with the -P option to allow only specific PKCS#11 libraries (or none with -P '')<br />For Cumulus Linux 4.3.2, the /usr/bin/ssh-agent program has all permissions turned off (chmod 0) to prevent its execution if a vulnerable version is detected. | 4.0.0-4.3.1, 5.0.0-5.6.0 | 4.3.2-4.4.5|
| <a name="3541912"></a> [3541912](#3541912) <a name="3541912"></a> <br /> | Collecting a <code>cl-support</code> file in a high VNI and interface environment can result in an out-of-memory (OOM) event on the switch. An OOM event can cause critical services to restart and might impact traffic. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3491259"></a> [3491259](#3491259) <a name="3491259"></a> <br /> | When BGP receives an EVPN type-5 route with a gateway IP overlay attribute, the gateway IP overlay attribute in the <code>attr memory</code> (which is already inserted in the attribute hash) might change. As a result, the modified <code>attr memory</code> might match with another <code>attr</code> in the attribute hash, which produces duplicate entries in the hash table. As a result, BGP might crash when deleting one of the duplicate <code>attr</code> structures.  | 5.0.0-5.5.1 | 5.6.0|
| <a name="3488136"></a> [3488136](#3488136) <a name="3488136"></a> <br /> | When zebra receives route updates that include both a route with a recursive next hop and the route used to resolve that next hop, zebra might mark the route with the recursive next hop as inactive. To work around this issue, reprocess the route updates by running the appropriate clear command for the protocol in use. For example, for BGP, clear inbound routes from the relevant neighbor using the <code>nv action clear vrf <vrf> router bgp neighbor <neighbor> address-family <address-family> in</code> command. | 4.2.1-5.5.1 | 5.6.0|
| <a name="3474391"></a> [3474391](#3474391) <a name="3474391"></a> <br /> | The SNMP MIB definition file <code>/usr/share/snmp/mibs/Cumulus-BGPVRF-MIB.txt</code> does not  define the INDEX of the <code>bgpPeerEntry</code> correctly. This issue does not impact SNMP functionality for this MIB. | 4.3.1-5.5.1 | 5.6.0|
| <a name="3466703"></a> [3466703](#3466703) <a name="3466703"></a> <br /> | In rare cases when there is high load, the <code>clagd</code> service might experience a buffer overflow and MLAG bonds stay in a proto-down state on the secondary switch. You see a "NetlinkThread: Netlink overflow" log message and the MLAG state indicates VLAN conflicts between peers. To work around this issue, restart the <code>clagd</code> service with the <code>sudo systemctl restart clagd</code> command on the switch that reports the overflow log message. | 5.2.0-5.5.1 | 5.6.0|
| <a name="3445841"></a> [3445841](#3445841) <a name="3445841"></a> <br /> | FRR does not apply Type-0 ESI configuration for EVPN multihoming bonds consistently after an FRR service reload. This issue occurs because the system MAC address value (<code>es-sys-mac</code>) is only compatible with a 3-byte Ethernet segment ID (<code>es-id</code>) for Type-3 ESIs, but still renders even when the Ethernet segment ID is 10 bytes for Type-0 ESIs. To work around this issue, configure EVPN multihoming bonds with a Type-3 ESI (<code>es-sys-mac</code> plus a 3-byte <code>es-id</code>). | 5.0.0-5.6.0 | |
| <a name="3432897"></a> [3432897](#3432897) <a name="3432897"></a> <br /> | When you remove the restriction from a TACACS+ mapped user to remove per command authorization, the <code>tacplus-restrict -R</code> command does not restore ownership of restored files correctly. As a result, some commands might fail due to permission errors in the files or directories under the home directory. To work around this issue, run the <code>sudo chown</code> command  to correct the ownership of the affected files and directories. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-5.4.0 | 5.5.0-5.6.0|
| <a name="3424967"></a> [3424967](#3424967) <a name="3424967"></a> <br /> | <code>sudo</code> for TACACS+ users with privilege level 15 does not work when the TACACS+ server is to be reached through the <code>default</code> VRF (with <code>vrf=default</code> set in the <code>/etc/tacplus_servers</code> file). To work around this issue, specify the interface name that the <code>default</code> VRF uses in the <code>vrf=</code> setting of the <code>/etc/tacplus_servers</code> file or run the NVUE <code>nv set system aaa tacacs vrf</code> command. If you don't run either command, a TACACS+ user with privilege level 15 can run <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.6.0 | |
| <a name="3413827"></a> [3413827](#3413827) <a name="3413827"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 5.0.0-5.4.0 | 4.3.2-4.4.5, 5.5.0-5.6.0|
| <a name="3413785"></a> [3413785](#3413785) <a name="3413785"></a> <br /> | To reach the TACACS+ server through the default VRF, you must specify the egress interface you use in the default VRF. Either run the NVUE <code>nv set system aaa tacacs vrf <interface></code> command (for example, <code>nv set system aaa tacacs vrf swp51</code>) or set the <code>vrf=<interface></code> option in the <code>/etc/tacplus_servers</code> file (for example, <code>vrf=swp51</code>). A similar issue might prevent TACACS+ users with privilege level 15 from using <code>sudo</code> if the TACACS+ server is reachable only on the <code>default</code> VRF.  If this occurs, and you do not run the above configuration workaround, the TACACS+ user with privilege level 15 can use <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.5.1 | 5.6.0|
| <a name="3402935"></a> [3402935](#3402935) <a name="3402935"></a> <br />None | For layer 3 interfaces configured on the switch, certain triggers, such as port flaps and subinterface flaps, or when configuring the ports to and from layer 2 and layer 3, cause the dummy internal VLAN to not free up, which can result in exhaustion of the dummy internal VLANs designated for the layer 3 interfaces. When this occurs, you see the following <code>switchd</code> log messages:<pre>ERR dummy internal vlans exhaustedERR cannot allocate vlan for sub-interface</pre> | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3388067"></a> [3388067](#3388067) <a name="3388067"></a> <br /> | TACACS+ packages in the local <code>apt</code> repository might be out of date; as a result, the upgrade does not install tacacs0 through tacacs15 users in the correct NVUE groups. When you run NVUE commands as a TACACS+ user, the commands fail and you see the error <code>You do not have permission to execute that command</code><br />To obtain the correct packages, install the <code>tacplus-client</code> package and its dependencies from <code>apt.cumulusnetworks.com</code>. | 5.1.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3379873"></a> [3379873](#3379873) <a name="3379873"></a> <br /> | <code>apt source linux</code> fails to download the Linux kernel source code.  To work around this issue, run the <code>sudo apt update && sudo apt install linux-source-5.10</code> command or download the desired version from <code>https://apt.cumulusnetworks.com/repo/pool/cumulus/l/linux/</code> and install it with the <code>sudo dpkg -i $filename</code> command.  The source code in a <code>tar.xz</code> file will then be located in the <code>/usr/src/</code> directory. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-4.3.1, 4.4.0-5.3.1 | 4.3.2, 5.4.0-5.6.0|
| <a name="3351936"></a> [3351936](#3351936) <a name="3351936"></a> <br /> | Switch fans run at very high speed but the temperature is normal. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3350789"></a> [3350789](#3350789) <a name="3350789"></a> <br /> | NVUE deprecated the port split command options (2x10G, 2x25G, 2x40G, 2x50G, 2x100G, 2x200G, 4x10G, 4x25G, 4x50G, 4x100G, 8x50G) with no backwards compatibility. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3349207"></a> [3349207](#3349207) <a name="3349207"></a> <br /> | The switch does not learn MAC addresses from DHCP packets. When a DHCP enabled host is plugged in for the first time, it tries to obtain an IP address through DHCP. The switch  does not learn the MAC address of the host when it receives these DHCP packets; therefore, the host MAC address is not updated in the local forwarding database and it does not get advertised across EVPN. The switch learns the MAC address when it receives other packets, such as ARP or ND from the host. To work around this issue, either configure a temporary IP address on the host to initiate ARP/ND or enable IPv6, which sends ND after link local address creation. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3347677"></a> [3347677](#3347677) <a name="3347677"></a> <br /> | In an MLAG configuration, when a link failure occurs on the peerlink or the peerlink shuts down, the switch in the secondary role attracts traffic to its local VTEP as it advertises the local VTEP IP address momentarily just before the VXLAN device is protodown. This traffic is dropped for a brief moment (between 5 and 10 seconds) because the MLAG bonds on the secondary switch are already protodown. | 5.1.0-5.6.0 | |
| <a name="3339336"></a> [3339336](#3339336) <a name="3339336"></a> <br /> | The <code>ethtool -m</code> command does not show Digital Optical Monitoring (DOM) for SFP transceivers. To work around this issue, run the <code>l1-show or mlxlink</code> command instead. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3334275"></a> [3334275](#3334275) <a name="3334275"></a> <br /> | The <code>sensors.conf</code> files in Cumulus Linux are out of date. | 5.2.0-5.6.0 | |
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might not match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3308248"></a> [3308248](#3308248) <a name="3308248"></a> <br /> | DHCP packets do not forward over VXLAN interfaces in multicast replication environments. This issue does not affect VXLAN environments using head end replication (HER). | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3303082"></a> [3303082](#3303082) <a name="3303082"></a> <br /> | When you delete a route under the following conditions, <code>switchd</code> might crash:<br />- The minimum number of routes is set to a non-zero value.<br />- KVD utilization is higher than sixty percent.<br />- The number of routes currently configured is less than the minimum reserved value, and multiple KVD linear resources have just been freed and are waiting in the Garbage Collector queue. | 5.2.0-5.3.0 | 5.3.1-5.6.0|
| <a name="3301988"></a> [3301988](#3301988) <a name="3301988"></a> <br /> | Some EVPN multihoming show commands might cause BGP to crash if you use the <code>json</code> flag and attempt to reference the default VRF by name. For example, <code>show bgp l2vpn evpn es-vrf json</code>. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3296715"></a> [3296715](#3296715) <a name="3296715"></a> <br /> | When you clear interface counters with the <code>ethtool -S <interface> clear</code> command, the command fails with the following message:<pre>switch:~$ ethtool -S swp1 clearethtool (-S): unknown parameter 'clear'</pre> | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3289646"></a> [3289646](#3289646) <a name="3289646"></a> <br /> | The memory consumption in <code>ptmd</code> can grow when the socket being used for a BFD session needs to be recreated. This is often seen when the route being used to forward BFD packets is removed; for example, if the connected route is removed when an interface goes down, over which a single hop BFD session is formed. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3270988"></a> [3270988](#3270988) <a name="3270988"></a> <br /> | After restarting <code>switchd</code> on the NVIDIA SN2100 switch, the FAN speeds are at one hundred percent. To work around this issue, restart the <code>hw-management</code> service. | 4.4.5-5.2.0 | 5.2.1-5.6.0|
| <a name="3267328"></a> [3267328](#3267328) <a name="3267328"></a> <br /> | On Spectrum 1 switches when configuring ACLs in non-atomic mode, if there are too many IPv6 matches due to rules with both <code>input-interface</code> and <code>output-interface</code> matches on SVIs, the ACL install fails and <code>switchd</code> crashes. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3266197"></a> [3266197](#3266197) <a name="3266197"></a> <br /> | When you disable BGP globally with the <code>nv set router bgp enable off</code> command, applying the configuration with NVUE might fail due to an FRR reload failure. | 5.2.0-5.6.0 | |
| <a name="3266050"></a> [3266050](#3266050) <a name="3266050"></a> <br /> | Due to a race at the initial configuration, the SDK RDQ test may test RDQ configured for WJH and fail the test resulting in a fatal health event. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3255948"></a> [3255948](#3255948) <a name="3255948"></a> <br /> | When you upgrade from Cumulus Linux 5.0.0-5.1.0 to Cumulus Linux 5.2.0 or 5.2.1, warm or fast boot fails.  Use regular reboot or csmgrctl -c in this case. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3255899"></a> [3255899](#3255899) <a name="3255899"></a> <br /> | The Linux utility that sends ARP packets is constrained to 512 interfaces on the system. In large scale deployments, the warm boot process fails repeatedly as it sends gratuitous ARP requests for each local address. This issue does not impact the functionality and can be ignored. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3244955"></a> [3244955](#3244955) <a name="3244955"></a> <br /> | ACL configurations fail when the TCAM memory is exhausted because the CTCAM profile is configured with duplicate entries. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3241047"></a> [3241047](#3241047) <a name="3241047"></a> <br /> | When you delete a route under the following conditions, <code>switchd</code> might crash:- The minimum number of routes is set to a non-zero value<br />- KVD utilization is higher than sixty percent<br />- The number of routes currently configured is less than the minimum reserved value, and multiple KVD linear resources have just been freed and are waiting in the Garbage Collector queue. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3235368"></a> [3235368](#3235368) <a name="3235368"></a> <br /> | When you try to configure VRF route leaking between many VRFs using multiple NCLU commands before running the <code>net commit</code> command, the commit fails. To work around this issue, configure VRF leaking one command at a time and run <code>net commit</code> after each command. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3227905"></a> [3227905](#3227905) <a name="3227905"></a> <br /> | PTP forced master mode does not work. To work around this issue, change <code>masterOnly</code> to <code>serverOnly</code> in the <code>/etc/ptp4l.conf</code> file. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3227677"></a> [3227677](#3227677) <a name="3227677"></a> <br /> | When daylight saving time changes the time, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-5.2.1 | 5.3.0-5.6.0|
| <a name="3227651"></a> [3227651](#3227651) <a name="3227651"></a> <br />None | Docker commands can cause Cumulus Linux commands to fail.  <code>apt upgrade</code> can also fail if you use Docker commands implicitly. To work around this issue, run <code>ulimit -v unlimited</code> before running Docker commands or running <code>apt upgrade</code>. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3226525"></a> [3226525](#3226525) <a name="3226525"></a> <br /> | When using TACACS+, if you configure per-command authorization with the <code>tacplus-restrict</code> command, NVUE configuration commands fail for any user with a privilege level lower than 15. This occurs because NVUE is not able to create a <code>.local</code> user directory. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3221628"></a> [3221628](#3221628) <a name="3221628"></a> <br /> | Cumulus Linux VX images might include an incorrect entry at the end of <code>/etc/apt/sources.list</code>, which produces warnings when you run <code>apt update</code>. Remove this entry to avoid these warnings. | 5.2.0-5.6.0 | |
| <a name="3218207"></a> [3218207](#3218207) <a name="3218207"></a> <br />None | Certain routes on tenant VRFs have missing next hop entries because the router MAC address is missing in the bridge forwarding database table that corresponds to the remote VTEP. As a result, traffic forwarding is affected for these routes. | 4.3.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3217675"></a> [3217675](#3217675) <a name="3217675"></a> <br /> | When you run the NVUE <code>nv set bridge domain br_default multicast snooping enable off</code> command to disable multicast snooping, the bridge still shows that multicast snooping is enabled. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3217674"></a> [3217674](#3217674) <a name="3217674"></a> <br /> | Multicast PTP over UDP traffic does not forward to data ports when the PTP service is disabled. To work around this issue, change the <code>ptp.timestamping</code> setting to <code>FALSE</code> in the <code>/etc/cumulus/switchd.conf</code> file, then restart <code>switchd</code>. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3216922"></a> [3216922](#3216922) <a name="3216922"></a> <br />None | RADIUS authenticated users with read-only access to NCLU commands (users in the <code>users_with_show</code> list) can run edit commands if a username for a non-local account is on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file. To work around this issue, make sure that all usernames on the <code>users_with_edit</code> line of the <code>/etc/netd.conf</code> file are configured local users for the system (real Linux users). | 3.7.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3211114"></a> [3211114](#3211114) <a name="3211114"></a> <br /> | After an abrupt power cycle, the <code>nvued</code> service might fail to start due to NVUE internal data corruption<br />This issue has been resolved with the addition of an automatic backup feature, which is enabled by default; if NVUE detects an internal data store corruption, the <code>nvued</code> service recovers from the backup. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3211054"></a> [3211054](#3211054) <a name="3211054"></a> <br /> | On the NVIDIA Spectrum-2 switch, when receiving multicast traffic on a PIM enabled VLAN, the multicast traffic is forwarded correctly to the associated VLAN, however WJH shows traffic loss with the error:<br /><pre><br />Packet size is larger than router interface MTU â€“ Validate the router interface MTU configuration<br /></pre> | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3205859"></a> [3205859](#3205859) <a name="3205859"></a> <br /> | On the NVIDIA SN3700 and SN4600 switch, the fans run at very high speed but the temperature sensor readings are within an acceptable range. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3205858"></a> [3205858](#3205858) <a name="3205858"></a> <br /> | Ports might experience intermittent I2C EEPROM read problems, which result in blinking amber LEDs and incorrect ethtool output. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3205700"></a> [3205700](#3205700) <a name="3205700"></a> <br />None | A firmware upgrade has been implemented to optimize the PCIe bus between the CPU and Spectrum ASIC on NVIDIA SN4700, SN4600, SN4600C, and SN4410 switches manufactured with <code>0x26 1 17</code> in EEPROM. Affected switches will not boot properly without this firmware upgrade. To see the EEPROM value, run the <code>onie-syseeprom</code> command from ONIE or run the <code>decode-syseeprom</code> command from Cumulus Linux. | 4.4.4, 5.2.0-5.6.0 | 4.4.5|
| <a name="3205012"></a> [3205012](#3205012) <a name="3205012"></a> <br /> | The NVIDIA SN4600 switch might experience SDK errors caused by the garbage collection process. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3204533"></a> [3204533](#3204533) <a name="3204533"></a> <br /> | At high scale with 79 VRFs and 10 VLANs per VRF (a total of 790 VLANs), <code>clagd</code> loses backup connection during a <code>switchd</code> restart. To work around this issue, reduce the scale to 40 VRFs with no more than 400 VLANs in the configuration, and use a common MAC address. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3202991"></a> [3202991](#3202991) <a name="3202991"></a> <br /> | Locally generated multicast traffic including IGMPv2 GSQs do not transmit to local clients when using PIM. | 5.0.1-5.2.1 | 5.3.0-5.6.0|
| <a name="3202401"></a> [3202401](#3202401) <a name="3202401"></a> <br /> | The <code>ethtool -m</code> command and the NVUE <code>nv show interface <interface> pluggable</code> command do not show the VPD for optical modules and AOCs (OUI, vendor name, part number, or revision serial number). | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3200373"></a> [3200373](#3200373) <a name="3200373"></a> <br /> | After rebooting the switch, the IPv6 link local address for an SVI that belongs to non-default VRF is missing, and doesn't show on the switch. To resolve this issue, run the <code>ifreload -a</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3196774"></a> [3196774](#3196774) <a name="3196774"></a> <br /> | In an EVPN configuration, after closing a BGP session on an EVPN peer, the VTEP RMAC is deleted and the hosts lose reachability to each other.  To work around this issue, restart FRR or add a static RMAC entry to bridge FDB. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3192808"></a> [3192808](#3192808) <a name="3192808"></a> <br />None | When the switch receives an LLDP frame from a Cisco router right after a <code>ptmd</code> restart, the <code>ptmd</code> service crashes. | 4.3.0-4.3.1, 4.4.0-5.2.1 | 4.3.2, 5.3.0-5.6.0|
| <a name="3188576"></a> [3188576](#3188576) <a name="3188576"></a> <br /> | IPv6 messages fill the <code>/var/log/frr/frr.log</code> files and <code>logrotate</code> is unable to clean up the old log files. As a result, a significant number of log files are never deleted, which fill up the file system. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3187469"></a> [3187469](#3187469) <a name="3187469"></a> <br /> | At high scale with 160 VRFs and 10 VLANs per VRF (a total of 1600 VLANs), you see traffic loss during primary switch reboot. To work around this issue, reduce the scale to 40 VRFs with no more than 400 VLANs in the configuration, and use a common MAC address. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3187408"></a> [3187408](#3187408) <a name="3187408"></a> <br /> | Certain NUE commands produce an <code>Invalid Command</code> error. For example:<pre>cumulus&#64;switch:~$ nv set vrf default router bgp peer-group SPINE password CumulusLinux!Invalid Command: set vrf default router bgp peer-group SPINE password CumulusLinux!cumulus&#64;switch:~$ nv set router policy route-map GLOBAL rule 10 description globalInvalid Command: set router policy route-map GLOBAL rule 10 description global</pre> | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3180043"></a> [3180043](#3180043) <a name="3180043"></a> <br /> | The EVPN Multihoming ESI configuration command <code>nv set interface <interface-id> evpn multihoming segment identifier <es-identifier></code> does not work. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3178090"></a> [3178090](#3178090) <a name="3178090"></a> <br /> | The <code>cl-support</code> generation script causes TC filter collection to run as a background process for each interface, which can lead to memory exhaustion on a high scale configuration and on a switch with a small memory footprint. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3177985"></a> [3177985](#3177985) <a name="3177985"></a> <br /> | When you run ZTP manually with the <code>ztp -R</code> command, then the <code>ztp -vb</code> command, the process stalls indefinitely while searching the local (USB) location and not using DHCP information. To work around this issue, run the <code>ztp -r</code> command with the URL of the ZTP server:<pre>&#91;Dec-08-17:09:58&#93; root&#64;switch:/home/cumulus#  ztp -r http://myztp.server.local/ztp</pre> | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3176318"></a> [3176318](#3176318) <a name="3176318"></a> <br /> | The NVUE <code>nv set bridge domain br_default stp priority</code> command does not change the STP priority. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3172682"></a> [3172682](#3172682) <a name="3172682"></a> <br /> | On rare occasions, when you query the system hostname through the <code>hostnamctl</code> application, you see a timeout. NVUE uses the <code>hostnamctl</code> application to determine the system hostname, which can result in an <code>nv config apply</code> command failure. | 5.2.0-5.5.1 | 5.6.0|
| <a name="3172504"></a> [3172504](#3172504) <a name="3172504"></a> <br /> | When you connect the NVIDIA SN4600C switch to a Spectrum 1 or Spectrum-3 switch with a 40GbE passive copper cable (Part Number: MC2210126-005) on edge ports 1-4 and 61-64, there is an Effective BER of 1E-12 in PHY. | 5.2.0-5.6.0 | |
| <a name="3171316"></a> [3171316](#3171316) <a name="3171316"></a> <br /> | Various FRR show commands do not have json output. This applies to BGP show commands ending in <code>prefix-list</code>, <code>route-map</code>, <code>dampening</code> parameters, and longer-prefixes. FRR <code>show bgp detail</code> output contains a summary instead of details on each prefix. FRR <code>show bgp ... neighbor routes</code> and <code>show bgp ... neighbor received-routes</code> both incorrectly use a json key of <code>advertisedRoutes</code>. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3166746"></a> [3166746](#3166746) <a name="3166746"></a> <br /> | FRR does not install EVPN type-2 routes correctly after the specific operation that deletes and adds all non-uplink ports.  The routes show as rejected in the zebra RIB. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3159756"></a> [3159756](#3159756) <a name="3159756"></a> <br /> | When adding a member port to a bond you sometimes see an error. The error occurs if you configure a port as double tagged, then you remove the double tagged configuration and add the port as a bond member. You might not see the error as it depends on timing of interface events during double tagged interface creation. To work around this issue, remove the bond configuration and add it back again. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3157711"></a> [3157711](#3157711) <a name="3157711"></a> <br /> | If you disable SNMP with the NVUE command <code>nv unset service snmp-server</code>, the FRR service restarts and removes the cleanup agentx functionality, which is used to obtain FRR MIBs. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3150317"></a> [3150317](#3150317) <a name="3150317"></a> <br /> | During a host failure, where a link remains up but LACP stops being sent, the EVPN multihoming ES bond goes into bypass mode active without a link state change. | 4.4.2-5.2.1 | 5.3.0-5.6.0|
| <a name="3150208"></a> [3150208](#3150208) <a name="3150208"></a> <br /> | When a ZTP script executes a <code>switchd</code> restart, the <code>switchd</code> service might fail with the following log message:<pre>switchd&#91;11549&#93;: hal.c:1378 CRIT No backends found</pre>To work around this issue, avoid restarting the <code>switchd</code> service in the ZTP script; reboot the switch instead. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3145869"></a> [3145869](#3145869) <a name="3145869"></a> <br /> | On a Spectrum-3 switch, the PTP offset in 10GbE changes between +-27. The average offset is around 7. | 5.2.0-5.6.0 | |
| <a name="3145222"></a> [3145222](#3145222) <a name="3145222"></a> <br /> | The NVUE <code>nv show system forwarding --output json</code> command does not provide any output. To work around this issue, run the <code>nv show system forwarding</code> command. | 5.2.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3145204"></a> [3145204](#3145204) <a name="3145204"></a> <br /> | On the NVIDIA Spectrum-1 switch, the <code>nv show system forwarding</code> command shows GTP hashing  output, which is not supported on this switch. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3144740"></a> [3144740](#3144740) <a name="3144740"></a> <br /> | The <code>/var/lib/snmp/snmpd.conf</code> file contains multiple <code>Warning: Unknown token: ifXTable</code> messages. To avoid these warnings, add the <code>-noTokenWarnings</code> option to the SNMPDOPTS variable in the <code>/etc/defaults/snmpd</code> file, then restart the <code>snmpd</code> service. | 5.2.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3142615"></a> [3142615](#3142615) <a name="3142615"></a> <br /> | The <code>BGP4-MIB.txt</code> file is missing from Net-SNMP agent. | 5.0.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3141826"></a> [3141826](#3141826) <a name="3141826"></a> <br /> | A slow memory leak (~5KB over 24 hour period at a 60 second polling interval) might occur in SNMP when you walk the following system MIB objects (1.3.6.1.2.1)<br />1.3.6.1.2.1.47 --> Entity MIB<br />1.3.6.1.2.1.99 --> Entity Sensor MIB<br />1.3.6.1.2.1.23 --> rip2<br />1.3.6.1.2.1.2 --> interface/interfaces<br />1.3.6.1.2.1.31 --> ifMIB<br />1.3.6.1.2.1.4 --> IP<br />1.3.6.1.2.1.25 --> hostResource | 5.0.1-5.6.0 | |
| <a name="3139364"></a> [3139364](#3139364) <a name="3139364"></a> <br /> | When Cumulus Linux updates the ECMP container with a new next hop list, it allocates the flow counters for the new next hop list without deallocating the counters bound to the old next hop list. This results in resource exhaustion and you see the following error messages in the <code>/var/log/switchd.log</code> file:<pre>hal_mlx_stat.c:3215 ERR Failed to allocate counter(s) for ecmp &#91;71025:0&#93; status: Internal Errorhal_mlx_stat.c:3196 ERR Counter set for ecmp &#91;71025:0&#93; idx 0 failed: Internal Errorhal_mlx_sdk_nexthop_wrap.c:1076 ERR Counter 0 alloc for ecmp next hop failed: Internal Errorhal_mlx_sdk_counter_wrap.c:54 ERR Counter alloc failed: No More Resources</pre>This issue does not have any functional impact to forwarding. Even without the flow counters attached to the ECMP group, packet forwarding works without any issues<br />To avoid allocating next hop counters for any new ECMP next hop list update, set <code>mlx.stats.ecmp.enable</code> to FALSE in the <code>/etc/mlx/datapath/stats.conf</code> file, then restart <code>switchd</code> with the <code>sudo systemctl reload switchd</code> command. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3139164"></a> [3139164](#3139164) <a name="3139164"></a> <br /> | NVUE does not allow you to set 2X/4X lanes. To work around this issue, set the appropriate lanes for forced speed with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example, <code>ethtool -s swp1 speed 100000 autoneg off lanes 2</code>. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3135952"></a> [3135952](#3135952) <a name="3135952"></a> <br /> | PAM4 split cables (such as 2x100G, 4x100G, and 4x50G) do not work with a forced speed setting (when auto-negotiation is off) as the default speed enabled is for NRZ mode (such as 100G_4X). To work around this issue,  set the appropriate lanes for forced speed (with auto-negotation off) with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example: <pre>cumulus&#64;switch:~$ sudo ethtool -s swp1 speed 100000 autoneg off lanes 2</pre> | 5.2.0-5.6.0 | |
| <a name="3135714"></a> [3135714](#3135714) <a name="3135714"></a> <br /> | The <code>tacplus</code> package does not create the correct tacacs0-15 users in the right groups. NVUE commands are rejected with the error: "You do not have permission to execute that command." To work around this issue, add tacacs15 to the <code>nvapply</code> group. Also, add tacacs0 through 14 to the <code>nvshow</code> group:<pre>sudo usermod -a -G nvapply tacacs15sudo usermod -a -G nvshow tacacs0..<br />sudo usermod -a -G nvshow tacacs14</pre> | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3135683"></a> [3135683](#3135683) <a name="3135683"></a> <br /> | On the Spectrum SN2201 switch, when a fan is obstructed with an object, the fan and system LEDs don't change. | 5.2.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3122301"></a> [3122301](#3122301) <a name="3122301"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.6.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a <code>vlan added to two or more VXLANS</code> warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0-5.6.0 | |
| <a name="3103821"></a> [3103821](#3103821) <a name="3103821"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.6.0 | |
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | The default QOS traffic shaping configuration does not restore after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.6.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="3074390"></a> [3074390](#3074390) <a name="3074390"></a> <br /> | You can not apply NVUE configurations when TACACS is enabled for user authentication. To work around this issue, add the <code>nvue</code> account to the <code>exclude_users</code> line in <code>/etc/tacplus_nss.conf</code>:<pre>exclude_users=root,daemon,nobody,cron,radius_user,radius_priv_user,sshd,cumulus,quagga,frr,nvue,snmp,www-data,ntp,man,_lldpd,*</pre> | 5.0.1-5.3.1 | 5.4.0-5.6.0|
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.6.0 | |
| <a name="3069069"></a> [3069069](#3069069) <a name="3069069"></a> <br /> | When you run the <code>systemctl reload switchd</code> command, there is momentary traffic loss after a port configured with lossless buffers goes down. This is only temporary and the traffic stabilizes after the initial drops. | 5.1.0-5.5.1 | 5.6.0|
| <a name="3061656"></a> [3061656](#3061656) <a name="3061656"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.6.0 | |
| <a name="3055283"></a> [3055283](#3055283) <a name="3055283"></a> <br /> | After you run Linux commands to enable a custom ECMP or LAG hash parameter,  if you set the <code>hash_config.enable</code> or <code>lag_hash_config.enable</code> parameter to <code>false</code>, the custom parameters do not restore their default values. To work around this issue, change the custom ECMP or LAG hash parameters to their default values manually. | 5.1.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.6.0 | |
| <a name="3053015"></a> [3053015](#3053015) <a name="3053015"></a> <br /> | Spectrum-2 and Spectrum-3 switches do not support 1G speed with Cumulus Linux. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3045310"></a> [3045310](#3045310) <a name="3045310"></a> <br /> | If GTP Hashing is set to <code>true</code>, after more than two warm boots, <code>switchd</code> fails and a cl-support file is generated. | 5.1.0-5.4.0 | 5.5.0-5.6.0|
| <a name="3040174"></a> [3040174](#3040174) <a name="3040174"></a> <br /> | When you configure EVPN multihoming with NVUE on a switch with the Spectrum-a1 ASIC, you must configure the following snippet to enable EVPN multihoming in hardware. This is not required for Spectrum-2 or Spectrum-3 switches<br /><pre>- set:<br />   system:<br />     config:<br />       snippet:<br />         switchd:<br />           file: "/etc/cumulus/switchd.conf"<br />           content: \|<br />             evpn.multihoming.enable=TRUE<br />           permissions: "0644"<br />           services:<br />             schedule:<br />               service: switchd<br />               action: restart</pre>Apply the snippet with the <code>nv config patch <snippet.yaml></code> command, then run the <code>nv config apply -y</code> command. | 5.1.0-5.2.1 | 5.3.0-5.6.0|
| <a name="3037824"></a> [3037824](#3037824) <a name="3037824"></a> <br /> | The NVUE <code>nv show interface <interface-id> link state</code> command shows an empty table instead of showing the port link state. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-5.4.0 | 5.5.0-5.6.0|
| <a name="3015393"></a> [3015393](#3015393) <a name="3015393"></a> <br /> | The NVUE <code>nv show interface <tunnel-name></code> command shows the operational state of the tunnel as down even though the tunnel is up, and encapsulation and decapsulation occurs correctly. | 5.1.0-5.3.1 | 5.4.0-5.6.0|
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.6.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.6.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.6.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.2.1 | 5.3.0-5.6.0|
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.6.0 | 4.4.2-4.4.5|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the NVIDIA SN4600 switch to another NVIDIA Spectrum switch, you must use auto-negotiation mode (not force mode); otherwise the switch might use the wrong Tx configuration. | 5.0.0-5.6.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.6.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.6.0 | |
| <a name="2821929"></a> [2821929](#2821929) <a name="2821929"></a> <br /> | FRR restarts even when the NVUE configuration overwrite mode is set. | 5.0.0-5.3.1 | 5.4.0-5.6.0|
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2701000"></a> [2701000](#2701000) <a name="2701000"></a> <br /> | A default route learned from DHCP on eth0 in the management VRF might install in the default VRF if eth0 is disconnected and the original next hop is reachable in the default VRF. To work around this issue, delete the DHCP lease file for eth0 with the <code>sudo rm /var/lib/dhcp/dhclient.eth0.leases</code> command. | 4.3.0, 5.0.0-5.6.0 | 4.3.1-4.4.5|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.6.0 | |
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | When you enable a service in the management VRF, <code>systemctl</code> issues a warning similar to the following:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre>You can safely ignore this warning. | 4.0.0-4.4.5, 5.0.0-5.6.0 | |

### Fixed Issues in 5.2.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3172295"></a> [3172295](#3172295) <a name="3172295"></a> <br /> | In rare cases, changing configuration on an existing bond, VLAN, or VXLAN interface can result in the MTU of that interface being reset to 0. To work around this issue, run <code>ifreload -a</code> a second time to set the MTU back to the configured or default value. | 5.1.0 | |
| <a name="3163200"></a> [3163200](#3163200) <a name="3163200"></a> <br /> | If there is extensive and continuous next-hop group (NHG) churn when routes keep moving from one NHG to another NHG repeatedly, <code>switchd</code> increases in memory allocation until memory is exhausted. Other processes might be affected as they try to acquire memory which is unavailable. | 5.1.0 | |
| <a name="3163159"></a> [3163159](#3163159) <a name="3163159"></a> <br /> | The NVUE command to disable EVPN duplicate address detection does not work. To work around this issue, use an NVUE snippet. | 5.1.0 | |
| <a name="3157240"></a> [3157240](#3157240) <a name="3157240"></a> <br /> | When you try to query REDECN counters with the <code>mlxcmd</code> utility on a bond member port with the following commands, syslog reports an error<br /><pre>sudo /usr/lib/cumulus/mlxcmd roce counters --port <swp>sudo /usr/lib/cumulus/mlxcmd qos counters --clear --port <swp></pre> | 4.4.4-5.1.0 | |
| <a name="3150477"></a> [3150477](#3150477) <a name="3150477"></a> <br /> | Cumulus Linux incorrectly programs overlay routes in the hardware as LOCAL routes instead of pointing to the remote VTEP even though the kernel has the correct route entry and next hop. To recover from this state, restart the <code>switchd</code> service with the <code>systemctl restart switchd.service</code> command. | 5.1.0 | |
| <a name="3149034"></a> [3149034](#3149034) <a name="3149034"></a> <br /> | When you change the <code>ecmp_hash_seed</code> parameter in the <code>/etc/cumulus/datapath/traffic.conf</code> file, <code>switchd</code> does not restart. To work around this issue, restart <code>switchd</code> manually. |  | |
| <a name="3148920"></a> [3148920](#3148920) <a name="3148920"></a> <br /> | NVUE configuration commands produce errors when included as part of a ZTP script that executes automatically during the switch boot process. This occurs because the $HOME variable is not set during ZTP. This does not occur if you trigger ZTP manually from the CLI with the <code>sudo ztp -r http://x.x.x.x/cumulus-ztp</code> command. To work around this issue, define the $HOME variable within the ZTP script with <code>export HOME=/root</code>. | 5.1.0 | |
| <a name="3146886"></a> [3146886](#3146886) <a name="3146886"></a> <br /> | FRR does not establish BGP peering with neighbors configured with a router ID that overlaps with IP addresses in the class D or E address spaces. | 5.1.0 | |
| <a name="3141818"></a> [3141818](#3141818) <a name="3141818"></a> <br /> | If there is extensive and continuous next-hop group (NHG) churn when routes keep moving from one NHG to another NHG repeatedly, <code>switchd</code> increases in memory allocation until memory is exhausted. Other processes might be affected as they try to acquire memory which is unavailable. | 5.0.1-5.1.0 | |
| <a name="3138746"></a> [3138746](#3138746) <a name="3138746"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0-5.1.0 | |
| <a name="3136983"></a> [3136983](#3136983) <a name="3136983"></a> <br /> | When a layer 3 neighbor entry resolves to a bridge FDB entry that does not exist in the kernel, <code>switchd</code> might contribute to high CPU load while it continues to try to sync and resolve the neighbor entry. This results in many <code>sync_l3_nexthop</code> messages printed to <code>/var/log/switchd.log</code>. | 5.0.1-5.1.0 | |
| <a name="3136905"></a> [3136905](#3136905) <a name="3136905"></a> <br /> | When you upgrade from Cumulus Linux 5.0.1 to Cumulus Linux 5.1.0, the upgrade adds <code>KexAlgorithms</code> and <code>MACs</code> configuration to  the <code>/etc/ssh/sshd_config</code> file without prompting for confirmation.  This might cause the <code>/etc/ssh/sshd_config</code> file to be incorrect if there is a <code>Match</code> section; <code>KexAlgorithms</code> and <code>MACs</code> must come before <code>Match</code>. To work around this issue, move the lines that start with <code>KexAlgorithms</code> and <code>MACs</code> before <code>Match</code> or remove them, then restart the SSH service with the <code>sudo systemctl restart ssh</code> command. If you have already specified <code>KexAlgorithms</code> or <code>MACs</code>, you can remove the newly added lines after upgrade. | 5.0.1-5.1.0 | |
| <a name="3135070"></a> [3135070](#3135070) <a name="3135070"></a> <br /> | After you configure the NVIDIA SN2010 series switch for the first time with NVUE, you see the fan speed at 100 percent. To work around this issue, run the <code>sudo systemctl restart hw-management.service</code> command to restart the hardware management service. | 5.1.0 | |
| <a name="3131423"></a> [3131423](#3131423) <a name="3131423"></a> <br /> | During EVPN multihoming bond failover, ARP and ND redirection fails if you configure layer 2 VNIs and ES bonds before you configure the loopback IP address of the switch. To work around this issue, configure the loopback IP address, then restart FRR with the <code>systemctl restart frr</code> command. | 4.3.0-5.1.0 | |
| <a name="3123965"></a> [3123965](#3123965) <a name="3123965"></a> <br />None | Under heavy system load, when many forwarding resources (routes, neighbors, ECMP groups, and so on) are removed from hardware, subsequent attempts to configure additional forwarding resources might fail and you see the following log message:<pre>sx_sdk: EMAD_RX_THREAD: EMAD transaction FW error</pre> | 4.4.0-5.1.0 | |
| <a name="3123556"></a> [3123556](#3123556) <a name="3123556"></a> <br /> | When you configure an interface in FRR to send IPv6 RAs before you configure the interface in the <code>/etc/network/interfaces</code> file, the switch does not process IPv6 RAs. To work around this issue, remove the interface configuration in FRR and reapply it. | 3.7.15-4.3.0, 4.4.0-5.1.0 | |
| <a name="3119673"></a> [3119673](#3119673) <a name="3119673"></a> <br /> | If the switch receives an EVPN route with multiple RTs that match the import policy for a local VNI, the <code>bgpd</code> service crashes. | 5.0.0-5.1.0 | |
| <a name="3119615"></a> [3119615](#3119615) <a name="3119615"></a> <br /> | In an MLAG topology, if you admin down a single connected interface, any dynamic MAC addresses on the peer link are flushed, then added back momentarily, which creates a disruption in traffic.  | 3.7.15-5.1.0 | |
| <a name="3117340"></a> [3117340](#3117340) <a name="3117340"></a> <br /> | When you edit the <code>/usr/share/openvswitch/scripts/ovs-ctl-vtep</code> file to change the <code>ovs-vtepd</code> configuration between <code>vlan-aware</code> and <code>vlan-unaware</code> mode, <code>ovs-vtepd</code> crashes when you restart the service. To recover, restart the networking service with the <code>sudo systemctl restart networking</code> command. | 4.3.0-5.1.0 | |
| <a name="3115415"></a> [3115415](#3115415) <a name="3115415"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTime</code> OID does not correctly report the time since a BGP session goes down.  | 4.4.4-5.1.0 | |
| <a name="3112971"></a> [3112971](#3112971) <a name="3112971"></a> <br /> | When you configure a VRF static route using the legacy command syntax in FRR (for example: <code>ip route 10.0.0.0/8 172.16.1.1 vrf vrf-red</code>), then make subsequent VRF or route configuration changes, FRR might crash. To avoid this problem, use the current method for configuring VRF routes within the VRF stanza:<pre>vrf vrf-red<br /> ip route 10.0.0.0/8 172.16.1.1 vrf vrf-redend vrf</pre> | 4.4.3-5.1.0 | |
| <a name="3112938"></a> [3112938](#3112938) <a name="3112938"></a> <br /> | In the Cumulus-BGPVRF-MIB, the <code>bgpPeerFsmEstablishedTransitions</code> OID always reports a value of 0. | 4.4.4-5.1.0 | |
| <a name="3107606"></a> [3107606](#3107606) <a name="3107606"></a> <br /> | Cumulus Linux installation fails with the error <code>Installation Problems, sub-task Installing Optional Packages</code>. This occurs because the web server hosting the Cumulus Linux image remaps a 404 for a non-existent file <code>image.optional_pkgs</code> into a web page, which it then incorrectly attempts to use as a list of optional packages<br />To work around this issue, on the web server hosting the image, create an empty file with the same name as the image with <code>.optional_pkgs</code> appended to the name. | 4.4.0-4.4.3 | |
| <a name="3102128"></a> [3102128](#3102128) <a name="3102128"></a> <br />None | When you configure a new VNI, the VLAN 1 VNI mapping is removed from the VXLAN device. To work around this issue, set the VNI interface mapped to VLAN 1 down and up again. | 4.4.3-5.1.0 | |
| <a name="3085285"></a> [3085285](#3085285) <a name="3085285"></a> <br /> | The snmpd process will slowly leak memory when you poll TCP-MIB objects. To work around this issue, restart the snmpd service to free memory with the <code>systemctl restart snmpd</code> command. | 3.7.16-4.4.3 | |
| <a name="3084007"></a> [3084007](#3084007) <a name="3084007"></a> <br /> | The <code>clagd</code> process uses 100 percent CPU and eventually crashes with an <code>Unable to allocate memory</code> error. | 4.3.0 | |
| <a name="3082662"></a> [3082662](#3082662) <a name="3082662"></a> <br /> | <code>syslog</code> writes <code>phcsync phc_ctl set clock time</code> messages continuously every minute even when <code>supervisord</code> is not running, which prevents critical information from being logged. | 5.1.0 | |
| <a name="3082463"></a> [3082463](#3082463) <a name="3082463"></a> <br /> | On the NVIDIA SN4800 switch,  the LED on the line cards does not match the CLI command output. | 5.1.0 | |
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up. To work around this issue, disable, then enable the port. | 5.0.0-5.1.0 | |
| <a name="3077736"></a> [3077736](#3077736) <a name="3077736"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails.<br /><pre><br />cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400<br />cumulus&#64;switch:~$ nv config apply<br />2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr.<br /></pre> | 5.0.1-5.1.0 | |
| <a name="3077669"></a> [3077669](#3077669) <a name="3077669"></a> <br /> | Tab complete for the <code>nv action</code> command does not show available  options. |  | |
| <a name="3077547"></a> [3077547](#3077547) <a name="3077547"></a> <br /> | When you configure multiple multicast RPs with groups matched by prefix lists, Cumulus Linux selects only one of the RPs and this selection is incorrect. | 5.0.1-5.1.0 | |
| <a name="3077513"></a> [3077513](#3077513) <a name="3077513"></a> <br /> | When a MAC address is moved to a new VTEP in an EVPN MAC mobility scenario using traditional bridges, there might be up to 30 seconds of convergence delay. | 5.0.1-5.1.0 | |
| <a name="3066664"></a> [3066664](#3066664) <a name="3066664"></a> <br /> | In an EVPN-MH configuration, the switch fails to redirect tagged frames with the CoS bits set. | 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3061445"></a> [3061445](#3061445) <a name="3061445"></a> <br /> | When you run the NVUE command to change the minimum interval between received BFD control packets or the minimum interval for sending BFD control packets, the configuration apply fails<br /><pre>cumulus&#64;switch:~$ nv set vrf default router bgp neighbor 10.10.10.2 bfd min-rx-interval 400cumulus&#64;switch:~$ nv config apply2022-05-04T21:36:10.800975+00:00 switch frrinit.sh16431: Stopped watchfrr<br /></pre> | 5.0.1-5.1.0 | |
| <a name="3059566"></a> [3059566](#3059566) <a name="3059566"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isnâ€™t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.1.0 | |
| <a name="3059380"></a> [3059380](#3059380) <a name="3059380"></a> <br /> | When you configure VRF leaking from the default VRF to a non-default VRF, SSH sessions originating from the switch CLI in the default VRF do not connect to devices in the non-default VRF. | 5.0.1-5.1.0 | |
| <a name="3059135"></a> [3059135](#3059135) <a name="3059135"></a> <br /> | In an OSPF configuration, after you change the IPv6 subnet mask, the old address remains in the RIB as a connected OSPF route<br />To resolve this issue, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.3.0-5.1.0 | |
| <a name="3054869"></a> [3054869](#3054869) <a name="3054869"></a> <br /> | When you run NVUE commands as part of ZTP scripts, the commands fail with errors that indicate a missing $HOME environment variable. The issue has been fixed where the ZTP module initializes the $HOME environment variable before launching the ZTP scripts. However, if you are running older releases, before you use any NVUE commands in the ZTP script, add a section and define the <code>HOME</code> environment variable. Populate the variable with the default expected <code>root</code> user home directory value (/root), then export the <code>HOME</code> variable so it is available globally for NVUE to use<br /><pre>HOME=/rootexport HOME</pre> | 5.0.0-5.1.0 | |
| <a name="3046023"></a> [3046023](#3046023) <a name="3046023"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-5.1.0 | |
| <a name="3044596"></a> [3044596](#3044596) <a name="3044596"></a> <br /> | In the non-default VRF, BFD goes down after port flap. | 5.0.1-5.1.0 | |
| <a name="3043115"></a> [3043115](#3043115) <a name="3043115"></a> <br /> | NVUE configuration and show commands are not available for GTP hashing. To configure  GTP hashing, modify the parameters in the <code>/etc/cumulus/datapath/traffic.conf</code> file.  | 5.1.0 | |
| <a name="3041425"></a> [3041425](#3041425) <a name="3041425"></a> <br /> | When you add or remove PortAutoEdge on a bond with the NVUE <code>nv set interface <bond> bridge domain br_default stp auto-edge</code> command, the command fails with the following error and then attempts to enable or disable PortAutoEdge on any interface also fail<br /><pre>cumulus&#64;switch:~$ nv set interface swp1 bridge domain br_default stp auto-edge offcumulus&#64;switch:~$ nv config applyUnable to reload-or-restart services (switchd,ifreload-nvue.service):&#91;sudo&#93; password for nvue: Job for ifreload-nvue.service failed because the control process exited with error code<br />Failure during apply. Ignore? &#91;y/N&#93;</pre> | 5.0.1-5.1.0 | |
| <a name="3023345"></a> [3023345](#3023345) <a name="3023345"></a> <br /> | When you run NVUE commands to unset one or more options associated with a field, the command fails with an error. For example:<pre>cumulus&#64;switch:~$ nv unset system forwarding ecmp-hash source-portusage: nv unset system forwarding ecmp-hash &#91;options&#93;nv unset system forwarding ecmp-hash: error: unrecognized arguments: source-port</pre> | 5.1.0 | |
| <a name="3021693"></a> [3021693](#3021693) <a name="3021693"></a> <br /> | When ARP suppression is off, Cumulus Linux sends GARPs from <code>neighmgrd</code> for remote neighbors over VXLAN. | 3.7.15-4.3.0, 4.4.0-4.4.3, 5.0.0-5.1.0 | |
| <a name="3016882"></a> [3016882](#3016882) <a name="3016882"></a> <br /> | In certain cases, when you power cycle the switch, the NVUE configuration might become corrupted, which prevents NVUE from running. You see a critical error in the log file similar to:<pre>CRITICAL: cue_versions_v1.repo: The NVUE internal data store is corrupted or has been initialized incorrectly. The is an unrecoverable error<br /></pre>To work around this issue, remove the <code>/var/lib/nvue/config</code> and <code>/var/lib/nvue/meta</code> directories, then restart the <code>nvued</code> service with the <code>sudo systemctl start nvued</code> command. If possible, NVUE recovers user configuration and saves it in the <code>/etc/nvue.d</code> directory. The recovered configuration will be saved as YAML files, which are named as <code>nvue-recovery-<timestamp>.yaml</code>. You can reapply the recovered configuration with the <code>nv config patch nvue-recovery-<timestamp>.yaml</code> followed by <code>nv config apply</code> commands.  | 5.0.1-5.1.0 | |
| <a name="3014664"></a> [3014664](#3014664) <a name="3014664"></a> <br /> | On the NVIDIA SN3420 switch, the <code>smonctl</code> command output shows the maximum PSU temperature higher than the critical temperature. | 4.4.2-4.4.3, 5.0.0-5.1.0 | |
| <a name="3007765"></a> [3007765](#3007765) <a name="3007765"></a> <br /> | On the NVIDIA SN2010 and SN2100 switch, <code>smond</code> indicates that the FAN status is <code>BAD</code> and syslog is flooded with <code>Path /run/hw-management/thermal/fan1_status does not exist</code> errors. When you run the <code>smonctl -v</code> command, the TEMP on switch looks OK<br /><pre>cumulus&#64;switch:~$ smonctl -vFan1(Fan 1): BAD fan:6931 RPM (max = 25000 RPM, min = 4500 RPM, limit_variance = 15%)Fan2(Fan 2): BAD fan:6619 RPM (max = 25000 RPM, min = 4500 RPM, limit_variance = 15%)Fan3(Fan 3): BAD fan:6931 RPM (max = 25000 RPM, min = 4500 RPM, limit_variance = 15%)Fan4(Fan 4): BAD fan:6720 RPM (max = 25000 RPM, min = 4500 RPM, limit_variance = 15%)</pre> | 5.1.0 | |
| <a name="2993719"></a> [2993719](#2993719) <a name="2993719"></a> <br /> | After you delete the last <code>vxlan-remoteip</code> configuration line from the <code>/etc/network/interfaces</code> file and run the <code>ifreload -a</code> command, the corresponding BUM flood entry is not removed. | 3.7.15-5.0.1 | |
| <a name="2952605"></a> [2952605](#2952605) <a name="2952605"></a> <br /> | After you install Cumulus Linux, then run the <code>sudo smonctl</code> command, the line card (gear box) sensors might not display at first, then take a few minutes to show the OK state. This issue does not affect the operation of the switch. |  | |
| <a name="2886476"></a> [2886476](#2886476) <a name="2886476"></a> <br /> | If you enable or disable the advertise primary IP address setting when originating EVPN default type-5 routes, the default route or prefix originated from one of the MLAG peers sends a null layer 3 VNI, which prevents the remote VTEP from installing the default route. | 5.0.0-5.1.0 | |
| <a name="2867248"></a> [2867248](#2867248) <a name="2867248"></a> <br /> | The <code>validate-ports -d</code> command does not return the correct speeds for ports. Use the speeds specified in the <code>/etc/cumulus/ports.conf</code> file. | 5.0.0-5.1.0 | |
| <a name="2831968"></a> [2831968](#2831968) <a name="2831968"></a> <br /> | The switch duplicates DHCP packets that pass through the VTEP. | 4.3.0, 4.4.0-5.1.0 | |
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.1.0 | |
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-5.1.0 | |
| <a name="2734103"></a> [2734103](#2734103) <a name="2734103"></a> <br /> | <code>ACL &#91;No More Resources&#93;</code> messages keep appearing and you can't reinstall the ACL. | 4.3.0-5.1.0 | |

