---
title: Cumulus Linux 5.3 Release Notes
author: NVIDIA
weight: -30
product: Cumulus Linux
version: "5.3"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-53" >}}
## 5.3.0 Release Notes
### Open Issues in 5.3.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3145224"></a> [3145224](#3145224) <a name="3145224"></a> <br /> | If you disable the NVUE service, the <code>/etc/cumulus/datapath/nvue_traffic.conf</code> file does not delete automatically, which prevents ECMP and LAG hash settings in the <code>/etc/cumulus/datapath/traffic.conf</code> file from taking effect. To work around this issue, delete the <code>nvue_traffic.conf</code> file with the <code>sudo rm /etc/cumulus/datapath/nvue_traffic.conf</code> command. | 5.2.0-5.3.0 | |
| <a name="3145222"></a> [3145222](#3145222) <a name="3145222"></a> <br /> | The NVUE <code>nv show system forwarding --output json</code> command does not provide any output. To work around this issue, run the <code>nv show system forwarding</code> command. | 5.2.0-5.3.0 | |
| <a name="3145204"></a> [3145204](#3145204) <a name="3145204"></a> <br /> | On the NVIDIA Spectum-1 switch, the <code>nv show system forwarding</code> command shows GTP hashing  output, which is not supported on this switch. | 5.2.0-5.3.0 | |
| <a name="3136303"></a> [3136303](#3136303) <a name="3136303"></a> <br /> | In Cumulus Linux 5.2 and later, WJH can monitor the buffer channel by default in addition to  the layer 1, layer 2, layer 3, ACL, and tunnel channels. | 5.2.0-5.3.0 | |
| <a name="3135952"></a> [3135952](#3135952) <a name="3135952"></a> <br /> | PAM4 split cables (such as 2x100G, 4x100G, and 4x50G) do not work with a forced speed setting (when auto-negotiation is off) as the default speed enabled is for NRZ mode (such as 100G_4X). To work around this issue,  set the appropriate lanes for forced speed (with auto-negotation off) with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example: <pre>ethtool -s swp1 speed 100000 autoneg off lanes 2</pre> | 5.2.0-5.3.0 | |
| <a name="3128328"></a> [3128328](#3128328) <a name="3128328"></a> <br /> | The <code>clagd</code> process uses 100 percent CPU and eventually crashes with an <code>Unable to allocate memory</code> error. | 3.7.16, 4.3.0-4.4.4, 5.0.0-5.3.0 | |
| <a name="3122301"></a> [3122301](#3122301) <a name="3122301"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.3.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a <code>vlan added to two or more VXLANS</code> warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0-5.3.0 | |
| <a name="3103821"></a> [3103821](#3103821) <a name="3103821"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.3.0 | |
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.4, 5.0.0-5.3.0 | |
| <a name="3081232"></a> [3081232](#3081232) <a name="3081232"></a> <br /> | On the NVIDIA Spectrum 1 switch, when a port goes down, it might not come back up<br />To work around this issue, disable, then enable the port. | 5.0.0-5.3.0 | 4.4.4|
| <a name="3076843"></a> [3076843](#3076843) <a name="3076843"></a> <br /> | Auto-negotiation is not supported on the NVIDIA SN4800 switch. | 5.1.0-5.3.0 | |
| <a name="3076479"></a> [3076479](#3076479) <a name="3076479"></a> <br /> | Auto-negotiation is not supported on the NVIDIA SN4800 switch. | 5.1.0-5.3.0 | |
| <a name="3066280"></a> [3066280](#3066280) <a name="3066280"></a> <br /> |  The python module pygments version 2.12.0 on the Cumulus Linux switch prevents NVUE from displaying colored output and produces an error or failure. The failure specifically identifies <code>#ansidarkred</code> as the problem color format. The error prevents any output from showing on the CLI<br />To work around this problem, downgrade the pygments module to version 2.3.1. | 5.0.1-5.3.0 | |
| <a name="3060399"></a> [3060399](#3060399) <a name="3060399"></a> <br /> | When you add an interface to a layer 3 bond, traffic does not forward and you see errors similar to the following:<pre>2022-05-02T13:14:40.118597+00:00 cumulus sx_sdk: ROUTER: Failed to delete router interface(27) ref count isnâ€™t 0, err= Resource is in use<br /></pre> | 4.4.2-4.4.3, 5.0.1-5.3.0 | 4.4.4|
| <a name="3055283"></a> [3055283](#3055283) <a name="3055283"></a> <br /> | After you run Linux commands to enable a custom ECMP or LAG hash parameter,  if you set the <code>hash_config.enable</code> or <code>lag_hash_config.enable</code> parameter to <code>false</code>, the custom parameters do not restore their default values. To work around this issue, change the custom ECMP or LAG hash parameters to their default values manually. | 5.1.0-5.3.0 | |
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.4, 5.0.0-5.3.0 | |
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.3.0 | |
| <a name="3045369"></a> [3045369](#3045369) <a name="3045369"></a> <br /> | NVUE does not support orphaned data or pre-provisioned data. For example, if you remove a port breakout but the breakout interfaces (such as swp1s0-3) have configured data. To work around this issue, do not configure breakout interfaces until you configure and apply the breakout with the <code>nv set interface <interface> link breakout <breakout></code> and <code>nv config apply</code> commands. | 5.2.0-5.3.0 | |
| <a name="3045310"></a> [3045310](#3045310) <a name="3045310"></a> <br /> | When GTP Hashing is set to <code>true</code>, after more than two warm boots <code>switchd</code> fails and a cl-support file is generated. | 5.1.0-5.3.0 | |
| <a name="3042944"></a> [3042944](#3042944) <a name="3042944"></a> <br /> | Currently, the <code>cl-ecmpcalc</code> command does not support GTP teid as an input parameter. | 5.1.0-5.3.0 | |
| <a name="3041307"></a> [3041307](#3041307) <a name="3041307"></a> <br /> | If you update the MAC address of an SVI using <code>ifreload</code> and <code>hwaddress</code>, the kernel maintains a stale permanent fdb entry for the old MAC address. | 3.7.15, 4.3.0-4.4.3, 5.0.0-5.3.0 | 3.7.16, 4.4.4|
| <a name="3021877"></a> [3021877](#3021877) <a name="3021877"></a> <br /> | After you configure a new VLAN on a bond, traffic might stop forwarding on the bond interface.  This issue occurs only when you specify <code>bridge-vids</code> on the bond. This issue does not occur  when you configure VLANs only on the bridge interface and let the bond get the <code>bridge-vids</code> applied from the bridge. | 4.4.2-4.4.3, 5.0.0-5.3.0 | 4.4.4|
| <a name="2993471"></a> [2993471](#2993471) <a name="2993471"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15-3.7.16, 4.3.0-4.4.4, 5.0.0-5.3.0 | |
| <a name="2991604"></a> [2991604](#2991604) <a name="2991604"></a> <br /> | The MLAG peer link conflict <code>LACP Partner MAC same as system-mac</code> is not currently supported. | 5.1.0-5.3.0 | |
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.3.0 | |
| <a name="2968495"></a> [2968495](#2968495) <a name="2968495"></a> <br /> | If <code>switchd</code> requires more time to update port or bond configuration after the port or bond flaps, the <code>systemd</code> watchdog times out. As result, <code>systemd</code> might assume that <code>switchd</code> is unresponsive and restarts it. | 4.2.1-4.4.2, 5.0.0-5.3.0 | 4.4.3-4.4.4|
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.4, 5.0.0-5.3.0 | 3.7.16|
| <a name="2959550"></a> [2959550](#2959550) <a name="2959550"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.2, 5.0.0-5.3.0 | 4.4.3-4.4.4|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.4, 5.0.0-5.3.0 | |
| <a name="2949123"></a> [2949123](#2949123) <a name="2949123"></a> <br /> | The NVUE command <code>nv show service ntp mgmt server</code> does not show any configured servers. | 5.0.0-5.3.0 | |
| <a name="2939231"></a> [2939231](#2939231) <a name="2939231"></a> <br /> | If you use NVUE to configure selective route leaking to exclude certain prefixes, the route map fails to apply when you run the <code>nv config apply</code> command. | 5.0.0-5.3.0 | |
| <a name="2923737"></a> [2923737](#2923737) <a name="2923737"></a> <br /> | When <code>switchd</code> restarts, the port watch daemon (<code>portwd</code>) attempts to send requests to <code>switchd</code> before <code>switchd</code> is ready. As a result, <code>portwd</code> goes into a failed state because there is no response from <code>switchd</code>. | 3.7.15, 4.3.0-4.4.4, 5.0.0-5.3.0 | 3.7.16|
| <a name="2895333"></a> [2895333](#2895333) <a name="2895333"></a> <br /> | If two FDB entries are added in hardware with a single API call (at the same time), when one entry already exists in hardware and the additional entry has a tunnel type, the resulting FDB entry might be configured improperly in hardware. This can cause corruption of the packets that match the FDB entry. | 4.4.0-4.4.1, 5.0.0-5.3.0 | 4.4.2-4.4.4|
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.3.0 | 4.4.2-4.4.4|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.3.0 | 4.4.2-4.4.4|
| <a name="2886476"></a> [2886476](#2886476) <a name="2886476"></a> <br /> | If you enable or disable the advertise primary IP address setting when originating EVPN default type-5 routes, the default route or prefix originated from one of the MLAG peers sends a null layer 3 VNI, which prevents the remote VTEP from installing the default route. | 5.0.0-5.3.0 | |
| <a name="2873053"></a> [2873053](#2873053) <a name="2873053"></a> <br /> | In an EVPN Multihoming configuration, when ES bond members go down, all software forwarded traffic destined to the access port, except for unicast ARP requests and replies, and unicast IPv6 NS and NA, is dropped and not forwarded through the VXLAN overlay. To work around this issue, bring the host side bond admin down and up (ifdown/ifup) on the bond interface itself and not on its member port. | 5.0.0-5.3.0 | |
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.3.0 | |
| <a name="2847919"></a> [2847919](#2847919) <a name="2847919"></a> <br /> | Configuring a router with the REST API through the switch front panel ports (swps) is supported in the default VRF only<br />To work around this issue, use the localHost IP address or the MGMT IP address to configure router using the Rest API. | 5.0.0-5.3.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.3.0 | |
| <a name="2847618"></a> [2847618](#2847618) <a name="2847618"></a> <br /> | When you enable PIM on VLAN interfaces, multicast throughput might not achieve line rate depending on packet sizes in the multicast flow. | 5.0.0-5.3.0 | |
| <a name="2844778"></a> [2844778](#2844778) <a name="2844778"></a> <br /> | When pasting numerous NVUE configuration commands into the CLI, there is a delay of around 500ms between processing each command. To work around this problem, consider using the <code>nv config patch <yaml-file></code> or <code>nv config replace <yaml-file></code> commands to update large pieces of configuration at once. | 5.0.0-5.3.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.3.0 | |
| <a name="2812075"></a> [2812075](#2812075) <a name="2812075"></a> <br /> | When you configure PIM, you can either configure RP mappings for different multicast groups or use a prefix list to specify the RP to group mapping. You cannot use the two methods together. | 5.0.0-5.3.0 | |
| <a name="2748923"></a> [2748923](#2748923) <a name="2748923"></a> <br /> | If you include a dash (-) when configuring an interface name with NVUE, you see an error. NVUE does not support using a dash in interface names. | 4.4.0-4.4.4, 5.0.0-5.3.0 | |
| <a name="2743186"></a> [2743186](#2743186) <a name="2743186"></a> <br /> | When you use MD5 passwords and you configure a non-default VRF before the default VRF in the <code>/etc/frr/frr.conf</code> file, numbered BGP sessions do not establish. | 3.7.15-3.7.16, 4.4.0-4.4.4, 5.0.0-5.3.0 | |

### Fixed Issues in 5.3.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3180043"></a> [3180043](#3180043) <a name="3180043"></a> <br /> | The EVPN Multihoming ESI configuration command <code>nv set interface <interface-id> evpn multihoming segment identifier <es-identifier></code> does not work. | 5.1.0-5.2.0 | |
| <a name="3176318"></a> [3176318](#3176318) <a name="3176318"></a> <br /> | The NVUE <code>nv set bridge domain br_default stp priority</code> command does not change the STP priority. | 5.1.0-5.2.0 | |
| <a name="3163810"></a> [3163810](#3163810) <a name="3163810"></a> <br /> | On the NVIDIA SN4800 switch, after disabling a line card and then re-enabling the same line card, the ports do not come back online. | 5.2.0 | |
| <a name="3150208"></a> [3150208](#3150208) <a name="3150208"></a> <br /> | When a ZTP script executes a <code>switchd</code> restart, the <code>switchd</code> service might fail with the following log message:<pre>switchd&#91;11549&#93;: hal.c:1378 CRIT No backends found</pre>To work around this issue, avoid restarting the <code>switchd</code> service in the ZTP script; reboot the switch instead. | 5.1.0-5.2.0 | |
| <a name="3138057"></a> [3138057](#3138057) <a name="3138057"></a> <br /> |  When the next-hop interface for EVPN type 5 routes flaps, FRR might uninstall the routes and <code>Route install failed</code> appears in <code>/var/log/frr/frr.log</code>. To work around this problem, restart FRR with the <code>sudo systemctl restart frr</code> command. | 4.4.0-5.2.0 | |
| <a name="3135683"></a> [3135683](#3135683) <a name="3135683"></a> <br /> | On the Spectrum SN2201 switch, when a fan is obstructed with an object, the fan and system LEDs don't change. | 5.2.0 | |

