---
title: Cumulus Linux 5.4 Release Notes
author: Cumulus Networks
weight: -30
product: Cumulus Linux
version: "5.4"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-54" >}}
## 5.4.0 Release Notes
### Open Issues in 5.4.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3362113"></a> [3362113](#3362113) <a name="3362113"></a> <br /> | If you restore an NVUE <code>startup.yaml</code> file after upgrade that includes breakout ports with QoS configured on the breakout interfaces or you run the <code>nv config patch</code> command to update a configuration with a <code>yaml</code> file that includes breakout ports with QoS configured on the breakout interfaces, the NVUE configuration fails to apply and subsequent attempts to run <code>nv config apply</code> fail with the following message: <pre>cumulus&#64;switch:mgmt:/var/log# nv config applyInvalid config &#91;rev_id: 11&#93;<br /> qos config is not supported on following invalid interface: swp1s0. Supported on swp and bond interface types<br /></pre>To work around this issue, run <code>nv unset</code> on the configured QoS settings, then apply the breakout port configuration before you configure QoS or remove the QoS configuration from the <code>yaml</code> file and patch it separately after applying the breakout configuration. | 5.4.0 | |
| <a name="3361904"></a> [3361904](#3361904) <a name="3361904"></a> <br /> | The NVUE PTP shaping commands are available in the NVUE command list; however, these commands are disabled and do not configure PTP shaping. PTP shaping is not supported in Cumulus Linux 5.4. | 5.4.0 | |
| <a name="3358909"></a> [3358909](#3358909) <a name="3358909"></a> <br /> | When you expand the <code>root</code> schema in the NVUE Swagger API, you see many errors in the Error panel at the top of the page. | 5.3.1-5.4.0 | |
| <a name="3351941"></a> [3351941](#3351941) <a name="3351941"></a> <br /> | Cumulus Linux 5.4 package upgrade (<code>apt-upgrade</code>) does not support warm restart to complete the upgrade; performing an unsupported upgrade can result in unexpected or undesirable behavior, such as a traffic outage. | 5.4.0 | |
| <a name="3351938"></a> [3351938](#3351938) <a name="3351938"></a> <br /> | Configuring TACACS NSS debugging can cause NVUE commands to break for all users who log in while they are enabled. To work around this issue, if your terminal session is unaffected and the debugs are configured with NVUE, unset the debugs or set the debug level to 0. | 5.4.0 | |
| <a name="3350061"></a> [3350061](#3350061) <a name="3350061"></a> <br /> | If you use TACACS+ authentication, modifying the TACACS+ configuration with NVUE might result in a timeout error when you run the <code>nv config apply</code> command. To work around the issue, restart the <code>nvued</code> service with the <code>sudo systemctl restart nvued.service</code> command, then apply the configuration again. | 5.4.0 | |
| <a name="3350027"></a> [3350027](#3350027) <a name="3350027"></a> <br /> | If you uninstall dynamic NAT rules and <code>switchd</code> restarts before all the dynamic NAT flows age out and are deleted, you might see errors in <code>switchd.log</code> due to dynamic flow deletion errors. These errors do not affect new dynamic NAT flows from new NAT rules. | 5.4.0 | |
| <a name="3349533"></a> [3349533](#3349533) <a name="3349533"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch with ports operating at 1G speed, there is loss of frames that have an odd or random frame size. In the frame size range of 75 to 1000 bytes, there is frame loss of less than approximately one percent for all odd or random frame sizes in the range. In the frame size range greater than 1000 bytes, there is no loss observed. | 5.4.0 | |
| <a name="3349207"></a> [3349207](#3349207) <a name="3349207"></a> <br /> | The switch does not learn MAC addresses from DHCP packets. When a DHCP enabled host is plugged in for the first time, it tries to obtain an IP address through DHCP. The switch  does not learn the MAC address of the host when it receives these DHCP packets; therefore, the host MAC address is not updated in the local forwarding database and it does not get advertised across EVPN. The switch learns the MAC address when it receives other packets, such as ARP or ND from the host. To work around this issue, either configure a temporary IP address on the host to initiate ARP/ND or enable IPv6, which sends ND after link local address creation. | 5.2.0-5.4.0 | |
| <a name="3347538"></a> [3347538](#3347538) <a name="3347538"></a> <br /> | When connecting a NVIDIA-to-NVIDIA in PAM4, auto-negotiation should always be enabled. | 5.4.0 | |
| <a name="3345054"></a> [3345054](#3345054) <a name="3345054"></a> <br /> | The NVUE <code>nv show interface <interface> qos</code> command takes a significant time to show output or times out. To work around this issue, use specific QoS commands. For example, to show congestion control information, run the <code>nv show interface <interface> qos congestion-control</code> command. | 5.4.0 | |
| <a name="3343766"></a> [3343766](#3343766) <a name="3343766"></a> <br /> | On the NVIDIA SN4800 switch, when you  run an <code>apt upgrade</code>, you see the following warning:<pre>W: Possible missing firmware /lib/firmware/mellanox/lc_ini_bundle_2008_9999.bin for module mlxsw_core</pre>This warning has no impact on switch functionality. | 5.4.0 | |
| <a name="3341214"></a> [3341214](#3341214) <a name="3341214"></a> <br /> | If you use the NVUE REST API to configure a local user with a hashed password, the user cannot log in and the <code>/etc/nvue.d/startup.yaml</code> file shows the password as plain text. | 5.4.0 | |
| <a name="3340890"></a> [3340890](#3340890) <a name="3340890"></a> <br /> | When you run the NVUE <code>nv show interface <interface></code> command, you see an error similar to the following:<pre>Error: GET /nvue_v1/interface/swp45?rev=operational responded with 500 INTERNAL SERVER ERROR</pre> | 5.3.0-5.4.0 | |
| <a name="3336807"></a> [3336807](#3336807) <a name="3336807"></a> <br /> | The <code>ethtool -m</code> command does not show Digital Optical Monitoring (DOM) for SFP transceivers. To work around this issue, run the <code>l1-show or mlxlink</code> command instead. | 5.2.0-5.4.0 | |
| <a name="3331929"></a> [3331929](#3331929) <a name="3331929"></a> <br /> | In a fairly high scale BGP EVPN route environment, running the NVUE <code>nv show vrf default router bgp address-family l2vpn-evpn loc-rib</code> command to obtain data leads to high resource usage. In some cases, there is an out of memory error, which leads to multiple daemon crashes. | 5.4.0 | |
| <a name="3330654"></a> [3330654](#3330654) <a name="3330654"></a> <br /> | When using TACACS+, if the <code>/etc/nsswitch.conf</code> file specifies <code>passwd: files tacplus</code> (<code>files</code> is listed before <code>tacplus</code>), the user name mapping might be incorrect; for example, the user name shown in the default prompt might be incorrect. When you use NVUE, this occurs when the priority for the authentication order of <code>local</code> is higher than <code>tacacs</code>. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3329518"></a> [3329518](#3329518) <a name="3329518"></a> <br /> | When using TACACS+, if the <code>/etc/nsswitch.conf</code> file specifies <code>passwd: files tacplus</code> (files is listed before tacplus), a user that is present in both the local <code>/etc/passwd</code> file and the TACACS+ server cannot log into the switch. | 5.4.0 | |
| <a name="3329494"></a> [3329494](#3329494) <a name="3329494"></a> <br /> | Ethtool HwIfInDot3FrameErrors (Rx FCS Errors) might lead to an incorrect very large HwIfInErrors count. To work around this issue, stop the source of the FCS errors, then reset the interface counters:1. Run the <code>sudo mst status</code> command to find the device<br />2. Run the <code>sudo mlxlink -d <device> -p <port_number> -pc</code> command to reset the interface counters. For example: <code>sudo mlxlink -d /dev/mst/mt53104_pciconf0 -p 39 -pc</code>. | 5.3.1-5.4.0 | |
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | Using <code>su</code> to change to a user specified through TACACS+ results in becoming the local tacacs0 thru tacacs15 user instead of the named user to run sudo commands.  When <code>sudo</code> asks for the password of the named user, it is unlikely to match that of the local tacacs0 thru tacacs15 user. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3326659"></a> [3326659](#3326659) <a name="3326659"></a> <br /> | If you have a large number of MAC addresses, they do not age out at the MAC ageing timeout value configured on the switch. It might take up to 30 seconds more for the MAC addresses to age out and be deleted from the hardware. To work around this issue, wait for the ageing timeout value plus 30 seconds to allow for the MAC addresses to age out and be deleted from the hardware. | 5.4.0 | |
| <a name="3312240"></a> [3312240](#3312240) <a name="3312240"></a> <br /> | On the Spectrum 1 switch if PTP is configured on a bond, the <code>ptp4l</code> service fails to start and you see a message similar to the following:<pre>systemd&#91;1&#93;: ptp4l.service: Failed with result 'exit-code'<br />systemd&#91;1&#93;: Failed to start Precision Time Protocol (PTP) service<br /></pre> | 5.4.0 | |
| <a name="3293560"></a> [3293560](#3293560) <a name="3293560"></a> <br /> | If you run NVUE commands to break out a port into four interfaces, NVUE disables the subsequent port automatically. However, if you run NVUE commands to break out a port into eight interfaces, NVUE does not disable the subsequent port automatically; you have to run the NVUE command to disable the subsequent port. | 5.4.0 | |
| <a name="3258232"></a> [3258232](#3258232) <a name="3258232"></a> <br /> | If you use NVUE to configure multiple SNMP listener addresses at the same time, the SNMP service fails to start. To work around this issue, configure multiple SNMP listener addresses one at a time. | 5.3.0-5.4.0 | |
| <a name="3241567"></a> [3241567](#3241567) <a name="3241567"></a> <br /> | When you apply switch configuration for the first time on a freshly booted switch, you might see the error message <code>Failed to start Hostname Service</code> when you run the <code>nv config apply</code> command after setting the hostname with <code>nv set system hostname</code>. To work around this issue, run the <code>nv config apply</code> command a second time. | 5.3.0-5.4.0 | |
| <a name="3234814"></a> [3234814](#3234814) <a name="3234814"></a> <br /> | With double tagged QinQ interfaces, if the bridge corresponding to the QinQ interface flaps, you might see invalid learning notifications and errors from similar to the following:<pre>Can't set non-static MAC address for non-vPort 0x0001006B when VID is VFID. </pre> | 5.3.0-5.4.0 | |
| <a name="3232091"></a> [3232091](#3232091) <a name="3232091"></a> <br /> | The NVUE <code>nv unset interface <interface> link lanes</code> command does not restore the port lane setting to default value. To work around this issue, run the <code>nv set interface <interface> link lanes <value></code> command. | 5.4.0 | |
| <a name="3226506"></a> [3226506](#3226506) <a name="3226506"></a> <br /> | The <code>l1-show eth0</code> command does not show port information and is not supported in this release.  | 5.3.0-5.4.0 | |
| <a name="3221628"></a> [3221628](#3221628) <a name="3221628"></a> <br /> | Cumulus Linux 5.2.0 and 5.2.1 VX images might include an incorrect entry at the end of <code>/etc/apt/sources.list</code>, which produces warnings when you run <code>apt update</code>. Remove this entry to avoid these warnings. | 5.2.0-5.4.0 | |
| <a name="3172682"></a> [3172682](#3172682) <a name="3172682"></a> <br /> | On rare occasions, when you query the system hostname through the <code>hostnamctl</code> application, you see a timeout. NVUE uses the <code>hostnamctl</code> application to determine the system hostname, which can result in an <code>nv config apply</code> command failure. | 5.2.0-5.4.0 | |
| <a name="3172504"></a> [3172504](#3172504) <a name="3172504"></a> <br /> | When you connect the NVIDIA SN4600C switch to a Spectrum 1 or Spectrum-3 switch with a 40GbE passive copper cable (Part Number: MC2210126-005) on edge ports 1-4 and 61-64, there is an Effective BER of 1E-12 in PHY. | 5.2.0-5.4.0 | |
| <a name="3147782"></a> [3147782](#3147782) <a name="3147782"></a> <br /> | You cannot use NVUE to configure an SNMP view to include a subtree beginning with a period. For example:<pre>$ nv set service snmp-server viewname cumulusOnly included .1.3.6.1.4.1.40310Error: GET /nvue_v1/service/snmp-server/viewname/cumulusOnly/included?pointers=%5B%22%2Fparameters%22%2C+%22%2Fpatch%2FrequestBody%2Fcontent%2Fapplication~1json%2Fschema%22%2C+%22%2Fpatch%2Fparameters%22%2C+%22%2Fpatch%2Fresponses%2F200%2Flinks%22%5D responded with 404 NOT FOUND</pre>To work around this problem, reference the OID without the preceding period ( <code>.</code> ) in the command. | 5.3.0-5.4.0 | |
| <a name="3145224"></a> [3145224](#3145224) <a name="3145224"></a> <br /> | If you disable the NVUE service, the <code>/etc/cumulus/datapath/nvue_traffic.conf</code> file does not delete automatically, which prevents ECMP and LAG hash settings in the <code>/etc/cumulus/datapath/traffic.conf</code> file from taking effect. To work around this issue, delete the <code>nvue_traffic.conf</code> file with the <code>sudo rm /etc/cumulus/datapath/nvue_traffic.conf</code> command. | 5.2.0-5.4.0 | |
| <a name="3145204"></a> [3145204](#3145204) <a name="3145204"></a> <br /> | On the NVIDIA Spectum-1 switch, the <code>nv show system forwarding</code> command shows GTP hashing  output, which is not supported on this switch. | 5.2.0-5.4.0 | |
| <a name="3135952"></a> [3135952](#3135952) <a name="3135952"></a> <br /> | PAM4 split cables (such as 2x100G, 4x100G, and 4x50G) do not work with a forced speed setting (when auto-negotiation is off) as the default speed enabled is for NRZ mode (such as 100G_4X). To work around this issue,  set the appropriate lanes for forced speed (with auto-negotation off) with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example: <pre>ethtool -s swp1 speed 100000 autoneg off lanes 2</pre> | 5.2.0-5.4.0 | |
| <a name="3122301"></a> [3122301](#3122301) <a name="3122301"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.4.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a <code>vlan added to two or more VXLANS</code> warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0-5.4.0 | |
| <a name="3103821"></a> [3103821](#3103821) <a name="3103821"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.4.0 | |
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | QOS traffic shaping doesn’t restore the default configuration after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.4.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.4.0 | |
| <a name="3061656"></a> [3061656](#3061656) <a name="3061656"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.4.0 | |
| <a name="3055283"></a> [3055283](#3055283) <a name="3055283"></a> <br /> | After you run Linux commands to enable a custom ECMP or LAG hash parameter,  if you set the <code>hash_config.enable</code> or <code>lag_hash_config.enable</code> parameter to <code>false</code>, the custom parameters do not restore their default values. To work around this issue, change the custom ECMP or LAG hash parameters to their default values manually. | 5.1.0-5.4.0 | |
| <a name="3053197"></a> [3053197](#3053197) <a name="3053197"></a> <br /> | The <code>cl-resource-query</code> command output shows ECMP nextHop Table exhaustion (above 100 percent utilization) and the <code>switchd.log</code> file contains ECMP resource errors with routes and next hops failing to install. | 4.2.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.4.0 | |
| <a name="3045310"></a> [3045310](#3045310) <a name="3045310"></a> <br /> | If GTP Hashing is set to <code>true</code>, after more than two warm boots, <code>switchd</code> fails and a cl-support file is generated. | 5.1.0-5.4.0 | |
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In a MLAG EVPN deployment when either of the clag peer undergoes reboot then the local host entries in ARP table are incorrectly programmed as remote by FRR. | 4.4.4-4.4.5, 5.1.0-5.4.0 | |
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.4.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.4.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.4.0 | |
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file<br />Vulnerable: <= 2.6.20-0+deb10u1Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.4.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.4.0 | 4.4.2-4.4.5|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the SN4600V to an SNxxxx system, it must run in auto-negotiation mode (not force mode) otherwise the wrong Tx configuration might be chosen. | 5.0.0-5.4.0 | |
| <a name="2859015"></a> [2859015](#2859015) <a name="2859015"></a> <br /> | In a static VXLAN configuration with a traditional VXLAN device, enabling bridge learning on the VNI leads to an incorrect warning and the setting is removed in the next commit. The warning is similar to the following:<pre>warning: vni10: possible mis-configuration detected: l2-vni configured with bridge-learning ON while EVPN is also configured - these two parameters conflict with each other<br /></pre> | 5.0.0-5.4.0 | |
| <a name="2847919"></a> [2847919](#2847919) <a name="2847919"></a> <br /> | Configuring a router with the REST API through the switch front panel ports (swps) is supported in the default VRF only<br />To work around this issue, use the localHost IP address or the MGMT IP address to configure router using the Rest API. | 5.0.0-5.4.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.4.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.4.0 | |
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.4.0 | 4.3.1-4.4.5|
| <a name="2701000"></a> [2701000](#2701000) <a name="2701000"></a> <br /> | A default route learned from DHCP on eth0 in the management VRF might install in the default VRF if eth0 is disconnected and the original next hop is reachable in the default VRF. To work around this issue, delete the DHCP lease file for eth0 with the <code>sudo rm /var/lib/dhcp/dhclient.eth0.leases</code> command. | 4.3.0, 5.0.0-5.4.0 | 4.3.1-4.4.5|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.4.0 | |

### Fixed Issues in 5.4.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3351953"></a> [3351953](#3351953) <a name="3351953"></a> <br /> | In rare circumstances, attempting to install a Cumulus Linux 5.3 image can fail during installation. The device stops at the (initramfs) prompt. To resume installation, enter the <code>exit</code> command at the (initramfs) prompt. | 5.3.0-5.3.1 | |
| <a name="3351951"></a> [3351951](#3351951) <a name="3351951"></a> <br />None | Currently, the default core dump size limit on Cumulus Linux is 256M but the SDK generates core dumps around 800M. To avoid incomplete core files, you can increase the core dump size limit. | 4.2.1-5.3.1 | |
| <a name="3351936"></a> [3351936](#3351936) <a name="3351936"></a> <br /> | Switch fans run at very high speed but the temperature is normal. | 5.2.0-5.3.1 | |
| <a name="3344373"></a> [3344373](#3344373) <a name="3344373"></a> <br /> | When the switch boots up, you might see logs similar to the following in the <code>nvued</code> log files because <code>switchd</code> is not up and running. This does not impact switch functionality<br /><pre>2023-01-29T06:05:18.683152+00:00 cumulus nvued:  INFO: apply_config.py:2177 Apply Issues: (b'),(update-ports returned with error (code 254): ports validation node file is not accessibleswitchd validate_node is absent),(ports configuration(ports.conf/ports_width.conf) is invalid),(')</pre> |  | |
| <a name="3339336"></a> [3339336](#3339336) <a name="3339336"></a> <br /> | The <code>ethtool -m</code> command does not show Digital Optical Monitoring (DOM) for SFP transceivers. To work around this issue, run the <code>l1-show or mlxlink</code> command instead. | 5.2.0-5.3.1 | |
| <a name="3332869"></a> [3332869](#3332869) <a name="3332869"></a> <br /> | When a switch is operating as a PTP Grand Master, the phc2sys service might exit shortly after starting as the initial offset to correct is the delta from epoch, which is too large to correct. |  | |
| <a name="3330705"></a> [3330705](#3330705) <a name="3330705"></a> <br /> | When using TACACS+, a TACACS+ server name that returns more than one IP address, such as an IPv6 and IPv4 address, is counted many times against the limit of seven TACACS+ servers, which might cause some of the later listed servers to be ignored as over the limit. To work around this issue, you can set the <code>prefer_ip_version</code> configuration option (the default value is 4) to choose between an IPv4 or IPv6 address if both are present. | 3.7.0-5.3.1 | |
| <a name="3330600"></a> [3330600](#3330600) <a name="3330600"></a> <br /> | The SNMP monitor might fail to send the expected traps. | 5.3.0-5.3.1 | |
| <a name="3329096"></a> [3329096](#3329096) <a name="3329096"></a> <br />None | The traffic control rules that the EVPN multihoming configuration adds to an interface are deleted when the <code>hsflowd</code> service restarts. The <code>hsflowd</code> service deletes the EVPN multihoming traffic control filters after you stop <code>hsflowd</code>, then adds back the <code>match-all</code> filters with the <code>psample</code> action; however, <code>hsflowd</code> does not add back the EVPN multihoming traffic control rules. | 4.4.0-5.3.1 | |
| <a name="3308248"></a> [3308248](#3308248) <a name="3308248"></a> <br /> | DHCP packets do not forward over VXLAN interfaces in multicast replication environments. This issue does not affect VXLAN environments using head end replication (HER). |  | |
| <a name="3303084"></a> [3303084](#3303084) <a name="3303084"></a> <br /> | The memory consumption in <code>ptmd</code> can grow when the socket being used for a BFD session needs to be recreated. This is often seen when the route being used to forward the BFD packets is removed; for example, if the connected route is removed when an interface goes down, over which a single hop BFD session is formed. | 5.3.0-5.3.1 | |
| <a name="3301988"></a> [3301988](#3301988) <a name="3301988"></a> <br /> | Some EVPN multihoming show commands might cause BGP to crash if you use the <code>json</code> flag and attempt to reference the default VRF by name. For example, <code>show bgp l2vpn evpn es-vrf json</code>. | 5.0.0-5.3.1 | |
| <a name="3301950"></a> [3301950](#3301950) <a name="3301950"></a> <br /> | When upgrading from Cumulus Linux 5.0.0 thru 5.2.1 to Cumulus Linux 5.3.0 or 5.3.1, the <code>babeltrace</code> and <code>python3-babeltrace</code> packages are not added automatically even though they are in the default image in Cumulus Linux 5.3.0 and later. You may need these packages to decode LTTNG traces with <code>/usr/lib/frr/frr_babeltrace.py.</code>. If you need to use this script, run the <code>sudo apt update && sudo apt install babeltrace python3-babeltrace</code> command to install the packages. | 5.3.0-5.3.1 | |
| <a name="3298616"></a> [3298616](#3298616) <a name="3298616"></a> <br /> | NVUE gracefully detects and handles upgrades that include valid flexible snippets. For any invalid (incompatible) flexible snippets, you must delete the snippets before you <code>apt upgrade</code> Cumulus Linux; otherwise, the NVUE <code>nv config apply</code> command and the equivalent REST API, do not run. | 5.3.0-5.3.1 | |
| <a name="3293039"></a> [3293039](#3293039) <a name="3293039"></a> <br /> | When you add the <code>/etc/frr/frr.conf</code> file to the ignore list for NVUE, any configuration change causes FRR to restart because a check is done to see if any running configuration has changed since the previously applied configuration in the vtysh shell.  | 5.3.0-5.3.1 | |
| <a name="3292773"></a> [3292773](#3292773) <a name="3292773"></a> <br /> | NVUE requires the SNMPv2 community string to be a minimum of eight characters. | 5.3.0-5.3.1 | |
| <a name="3289972"></a> [3289972](#3289972) <a name="3289972"></a> <br />None | When the switch needs to forward a frame that has a source MAC address of 00:00:00:00:00:00, the <code>dmesg</code> log might report the message <code>bridge: RTM_NEWNEIGH with invalid ether address</code> in a loop every 30 seconds. The log message is harmless and frames with that MAC forward correctly.  | 5.3.0-5.3.1 | |
| <a name="3289646"></a> [3289646](#3289646) <a name="3289646"></a> <br /> | The memory consumption in <code>ptmd</code> can grow when the socket being used for a BFD session needs to be recreated. This is often seen when the route being used to forward BFD packets is removed; for example, if the connected route is removed when an interface goes down, over which a single hop BFD session is formed. | 5.2.0-5.3.1 | |
| <a name="3283598"></a> [3283598](#3283598) <a name="3283598"></a> <br />None | After you restart the FRR service, show commands incorrectly reflect the VLAN associated with layer 3 VNIs as 0:<pre># net show evpn vni 123VNI: 123Type: L3Tenant VRF: BLUEVlan: 0</pre> | 5.3.0-5.3.1 | |
| <a name="3267328"></a> [3267328](#3267328) <a name="3267328"></a> <br /> | On Spectrum 1 switches when configuring ACLs in non-atomic mode, if there are too many IPv6 matches due to rules with both <code>input-interface</code> and <code>output-interface</code> matches on SVIs, the ACL install fails and <code>switchd</code> crashes. | 5.2.0-5.3.1 | |
| <a name="3266050"></a> [3266050](#3266050) <a name="3266050"></a> <br /> | Due to a race at the initial configuration, the SDK RDQ test may test RDQ configured for WJH and fail the test resulting in a fatal health event. | 5.2.0-5.3.1 | |
| <a name="3262012"></a> [3262012](#3262012) <a name="3262012"></a> <br />None | When an FRR routing service (such as <code>bgpd</code>) becomes unresponsive, <code>watchfrr</code> might fail to stop and restart service. To work around this issue, restart FRR with the <code>systemctl restart frr</code> command. | 4.4.0-5.3.1 | |
| <a name="3255899"></a> [3255899](#3255899) <a name="3255899"></a> <br /> | The Linux utility that sends ARP packets is constrained to 512 interfaces on the system. In large scale deployments, the warm boot process fails repeatedly as it sends gratuitous ARP requests for each local address. This issue does not impact the functionality and can be ignored. | 5.2.0-5.3.1 | |
| <a name="3244955"></a> [3244955](#3244955) <a name="3244955"></a> <br /> | ACL configurations fail when the TCAM memory is exhausted because the CTCAM profile is configured with duplicate entries. | 5.2.0-5.3.1 | |
| <a name="3241047"></a> [3241047](#3241047) <a name="3241047"></a> <br /> | When you delete a route under the following conditions, <code>switchd</code> might crash:- The minimum number of routes is set to a non-zero value<br />- KVD utilization is higher than sixty percent<br />- The number of routes currently configured is less than the minimum reserved value, and multiple KVD linear resources have just been freed and are waiting in the Garbage Collector queue. | 5.2.0-5.3.1 | |
| <a name="3234085"></a> [3234085](#3234085) <a name="3234085"></a> <br />None | When you configure or unconfigure a BGP peer and interface towards a host, memory corruption can cause BGP to crash. | 5.0.1-5.3.1 | |
| <a name="3226525"></a> [3226525](#3226525) <a name="3226525"></a> <br /> | When using TACACS+, if you configure per-command authorization with the <code>tacplus-restrict</code> command, NVUE configuration commands fail for any user with a privilege level lower than 15. This occurs because NVUE is not able to create a <code>.local</code> user directory. | 5.2.0-5.3.1 | |
| <a name="3145222"></a> [3145222](#3145222) <a name="3145222"></a> <br /> | The NVUE <code>nv show system forwarding --output json</code> command does not provide any output. To work around this issue, run the <code>nv show system forwarding</code> command. | 5.2.0-5.3.1 | |
| <a name="3074390"></a> [3074390](#3074390) <a name="3074390"></a> <br /> | You can not apply NVUE configurations when TACACS is enabled for user authentication. To work around this issue, add the <code>nvue</code> account to the <code>exclude_users</code> line in <code>/etc/tacplus_nss.conf</code>:<pre>exclude_users=root,daemon,nobody,cron,radius_user,radius_priv_user,sshd,cumulus,quagga,frr,nvue,snmp,www-data,ntp,man,_lldpd,*</pre> | 5.0.1-5.3.1 | |
| <a name="3037824"></a> [3037824](#3037824) <a name="3037824"></a> <br /> | The NVUE <code>nv show interface <interface-id> link state</code> command shows an empty table instead of showing the port link state. | 5.0.0-5.3.1 | |
| <a name="3015393"></a> [3015393](#3015393) <a name="3015393"></a> <br /> | The NVUE <code>nv show interface <tunnel-name></code> command shows the operational state of the tunnel as down even though the tunnel is up, and encapsulation and decapsulation occurs correctly. | 5.1.0-5.3.1 | |
| <a name="2821929"></a> [2821929](#2821929) <a name="2821929"></a> <br /> | FRR restarts even when the NVUE configuration overwrite mode is set. | 5.0.0-5.3.1 | |

