---
title: Cumulus Linux 5.5 Release Notes
author: Cumulus Networks
weight: -30
product: Cumulus Linux
version: "5.5"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-linux-55" >}}
## 5.5.1 Release Notes
### Open Issues in 5.5.1

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3751952"></a> [3751952](#3751952) <a name="3751952"></a> <br /> | <code>ifupdown2</code> tries to set the multicast database hash elasticity (bridge-hashel attribute) with a value of 4096. However, this attribute is now deprecated in the Linux kernel and the value is always 16. | 5.5.1-5.7.0 | |
| <a name="3730904"></a> [3730904](#3730904) <a name="3730904"></a> <br /> | When sending untagged frames to the CPU with an MTU higher than the SVD (single VXLAN device) MTU, the kernel might crash. | 5.4.0-5.7.0 | |
| <a name="3715651"></a> [3715651](#3715651) <a name="3715651"></a> <br /> | If you run NVUE commands to configure PIM for a VRF before you create the VRF, PIM does not create the <code>pimreg</code> device and the <code>pimd</code> service crashes. | 5.5.1 | 5.6.0-5.7.0|
| <a name="3713419"></a> [3713419](#3713419) <a name="3713419"></a> <br /> | When monitoring system statistics and network traffic with sFlow, an aggressive link flap might produce a memory leak in the sFlow service <code>hsflowd</code>. | 5.1.0-5.7.0 | |
| <a name="3702431"></a> [3702431](#3702431) <a name="3702431"></a> <br /> | Traditional SNMP snippets do not take effect unless you first enable SNMP with the NVUE <code>nv set service snmp-server enable on</code> and <code>nv set service snmp-server listening-address</code> commands. Alternatively, you can use the equivalent REST API methods. | 5.4.0-5.7.0 | |
| <a name="3696061"></a> [3696061](#3696061) <a name="3696061"></a> <br /> | When the MAC address of a neighbor changes, the <code>zebra</code> IP routing manager might crash.  | 5.2.1-5.6.0 | 5.7.0|
| <a name="3695541"></a> [3695541](#3695541) <a name="3695541"></a> <br /> | When applying a full configuration with NVUE that includes VRRP and BGP in VRFs, the VRRP configuration does not come up after you run <code>nv config apply</code>.  BGP routes might also be missing.  This issue only happens during the initial <code>nv config apply</code> of a full configuration, not during a normal initialization during a reboot or FRR restart. To work around this issue, reboot or restart FRR. | 5.5.1 | 5.6.0-5.7.0|
| <a name="3695430"></a> [3695430](#3695430) <a name="3695430"></a> <br /> | When you configure extended nexthop encoding for a peer group, the peers in the group do not inherit the configuration. To work around this issue, configure extended nexthop encoding on each individual peer in the group. NVIDIA recommends that you upgrade to Cumulus Linux 5.6 or later to avoid this issue. | 5.4.0-5.6.0 | 5.7.0|
| <a name="3684998"></a> [3684998](#3684998) <a name="3684998"></a> <br /> | DHCP lease information is not collected in the <code>cl-support</code> file. | 4.3.0-5.6.0 | 5.7.0|
| <a name="3668939"></a> [3668939](#3668939) <a name="3668939"></a> <br /> | When you enable MIB 1.3.6.1.4.1.40310.1 in the <code>snmpd.conf</code> file, you might see high CPU usage by the <code>snmpd</code> service. | 5.5.1-5.6.0 | 5.7.0|
| <a name="3663182"></a> [3663182](#3663182) <a name="3663182"></a> <br /> | Changing non-default BGP timers with NCLU or vtysh commands sets the hold time and keep alive interval to 0 seconds. To work around this issue, restart the FRR service with the <code>sudo systemctl restart frr.service</code> command. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3647426"></a> [3647426](#3647426) <a name="3647426"></a> <br />None | If BGP <code>remote-as</code> is set to an integer and you try to configure the <code>local-as</code> for a BGP instance, you see the following error:<pre>% AS specified for local as is the same as the remote as and this is not allowed<br /></pre>This configuration is not allowed; it is considered to be eBGP and local preference is not advertised. | 5.0.0-5.5.1 | 4.3.2-4.4.5, 5.6.0-5.7.0|
| <a name="3630492"></a> [3630492](#3630492) <a name="3630492"></a> <br /> | On the NVIDIA SN2201 switch, the <code>ledmgrd -d</code> command output shows the system and PSU LED status as orange when the physical LED is green. | 5.5.1-5.7.0 | |
| <a name="3616338"></a> [3616338](#3616338) <a name="3616338"></a> <br /> | When you reboot an MLAG switch with 3000 or more VNIs, there might be extended traffic loss during reboot. To work around this issue, configure the <code>clagd</code> service <code>initDelay</code> to 300 seconds with the <code>nv set mlag init-delay 300</code> command. | 5.5.1-5.6.0 | 5.7.0|
| <a name="3613258"></a> [3613258](#3613258) <a name="3613258"></a> <br /> | With VM migration from one VTEP to another, traffic loss might occur during a MAC move as locally learned MAC addresses are frequently refreshed between <code>switchd</code> and the kernel. | 5.2.1-5.6.0 | 5.7.0|
| <a name="3610967"></a> [3610967](#3610967) <a name="3610967"></a> <br /> | In an EVPN symmetric routing configuration, running the NVUE <code>nv set vrf <vrf> vlan auto</code> command to derive layer 3 VNIs automatically might result in duplicate VLAN entries in the system. This most often occurs at scale when many VRFs have similar names. To work around this issue, manually specify a unique VLAN for each VRF. | 5.3.0-5.7.0 | |
| <a name="3610611"></a> [3610611](#3610611) <a name="3610611"></a> <br /> | Cumulus Linux assigns an IPv4 and IPv6 loopback address to a VRF interface by default. As a result, ping and route lookups for unique remote IP addresses on different VTEPs might not work if there is no source IP on the switch that belongs to the same subnet. To work around this issue, remove the loopback address on the VRF with the nv unset vrf <vrf> loopback ip address command. Only remove the loopback address if you are not running NTP as NTP requires a loopback address to work. Alternatively, you can change the <code>ping</code> command to use a source address (such as an SVI address) with the <code>ip vrf exec <VRF> ping <REMOTE_IP> -I <SVI_SRC_IP></code> command. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3609128"></a> [3609128](#3609128) <a name="3609128"></a> <br /> | When you use <code>vi</code> with root or sudo, visual mode is enabled by default due to a missing <code>vimrc</code> configuration file. This makes it difficult to copy and paste into <code>vi</code>.  In CL5.7.0, the default configuration now includes <code>set mouse-=a</code><br />In addition, the CL5.7.0 default configuration for <code>vi</code> now disables modelines, which can be a security risk. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3603237"></a> [3603237](#3603237) <a name="3603237"></a> <br /> | If the secondary MLAG peer continuously reboots, you might experience momentary traffic loss. | 5.5.1-5.6.0 | 5.7.0|
| <a name="3599699"></a> [3599699](#3599699) <a name="3599699"></a> <br /> | Cumulus Linux assigns an IPv4 and IPv6 loopback address to a VRF interface by default. As a result, ping and route lookups for unique remote IP addresses on different VTEPs might not work if there is no source IP on the switch that belongs to the same subnet. To work around this issue, remove the loopback address on the VRF with the <code>nv unset vrf <vrf> loopback ip address</code> command. Only remove the loopback address if you are not running NTP as NTP requires a loopback address to work. Alternatively, you can change the <code>ping</code> command to use a source address (such as an SVI address) with the ip vrf exec <VRF> ping <REMOTE_IP> -I <SVI_SRC_IP> command. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3597456"></a> [3597456](#3597456) <a name="3597456"></a> <br /> | NVUE does not allow you to use the reserved name <code>lo</code> in an interface name.  | 5.5.1-5.6.0 | 5.7.0|
| <a name="3585467"></a> [3585467](#3585467) <a name="3585467"></a> <br /> | NVUE and <code>ip link</code> show traditional bridge VLAN subinterface counts incorrectly. The ingress (Rx) count increments correctly but the egress (Tx) count does not increment. This issues occurs because the hardware does not support transmit counters for a VLAN subinterface; therefore, no statistics from the hardware are updated. Statistics for software forwarded packets show correctly. | 5.0.0-5.6.0 | 5.7.0|
| <a name="3582826"></a> [3582826](#3582826) <a name="3582826"></a> <br /> | When you enable the FRR SNMP agent (agentx) and configure routing adjacencies with short timers (dead, keepalive, and hold time), the routing adjacencies might go down in certain scenarios; for example when you have frequent or concurrent client SNMP requests, you use custom SNMP MIB extensions, you poll OIDs with large responses, or during high CPU load. To work around this issue, you can increase the routing adjacency timers to accommodate SNMP processing. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3580435"></a> [3580435](#3580435) <a name="3580435"></a> <br /> | On the NVIDIA SN2410 switch with an Innodisk SSD, you might see the following message in syslog:<pre>smartd&#91;501&#93;: Device: /dev/sda &#91;SAT&#93;, CHECK POWER STATUS spins up disk (0x00 -> 0xff)</pre>This is a cosmetic issue and does not affect how the switch operates. To prevent this message from occurring, run the <code>hdparm -S 24 /dev/sda</code> command to change the HD timeout. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3576961"></a> [3576961](#3576961) <a name="3576961"></a> <br /> | The NVUE command to clear all ACL counters at once is not available. To work around this issue, run the <code>cl-acltool -Z all</code> command to reset the statistics for all ACL rules. | 5.5.1-5.6.0 | 5.7.0|
| <a name="3576949"></a> [3576949](#3576949) <a name="3576949"></a> <br /> | When you run the NVUE <code>nv set service snmp listening-address localhost vrf <vrf-name></code> or <code>nv set service snmp listening-address localhost-v6 vrf <vrf-name></code> command to configure the SNMP listening address, Cumulus Linux applies the listening address to the default VRF instead of the VRF you specify. | 5.3.0-5.7.0 | |
| <a name="3573800"></a> [3573800](#3573800) <a name="3573800"></a> <br /> | After you apply a change to the router MAC address on an SVI with the <code>ifreload -a</code> command, the old router MAC address still remains in the FDB table. To work around this issue, remove the old router MAC address with the <code>sudo bridge fdb del <old_mac> dev bridge vlan <vlan_id></code> command. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3572580"></a> [3572580](#3572580) <a name="3572580"></a> <br /> | You cannot set a VLAN match and a MAC protocol IPv4 match in a MAC type ACL rule. To apply ACLs with a VLAN match and layer 3 header matches ( IPV4/IPV6), you need to use type <code>ipv4</code> or <code>ipv6</code> ACLs with the VLAN match specified. | 5.5.1 | 5.6.0-5.7.0|
| <a name="3572566"></a> [3572566](#3572566) <a name="3572566"></a> <br /> | The NVUE <code>nv action</code> commands are missing from <code>nv list-commands</code> output. | 5.5.1 | 5.6.0-5.7.0|
| <a name="3567708"></a> [3567708](#3567708) <a name="3567708"></a> <br /> | In an EVPN multihoming environment with VRRP, when the master VRRP router fails, the standby router takes around 30 seconds to become active. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3566980"></a> [3566980](#3566980) <a name="3566980"></a> <br /> | When running DHCP relay for IPv6 and a downstream interface flaps more than once, relaying might stop working. To recover, restart the <code>dhcrelay6</code> service, making sure the specified downstream interfaces are up and running. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3560622"></a> [3560622](#3560622) <a name="3560622"></a> <br /> | When you configure a route distinguisher (RD) or a route target (RT) manually for layer 2 VNIs, type-1 routes are not properly updated, type-1 EVI routes with the old RD are not properly withdrawn, and type-1 ES routes do not have the corresponding layer 2 VNI route target updated. | 5.0.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3556762"></a> [3556762](#3556762) <a name="3556762"></a> <br /> | On rare occasions, SPT switchover might not happen cleanly in PIM resulting in some dropped packets. If you use PIM-SM to replicate EVPN BUM traffic, you might see a brief drop of multicast traffic before recovering due to normal PIM-SM traffic timeout. | 5.5.0-5.7.0 | |
| <a name="3554231"></a> [3554231](#3554231) <a name="3554231"></a> <br />None | CVE-2023-38408: The PKCS#11 feature in ssh-agent in OpenSSH before 9.3p2 has an insufficiently trustworthy search path, leading to remote code execution if an agent is forwarded to an attacker-controlled system. (Code in /usr/lib is not necessarily safe for loading into ssh-agent.) NOTE: this issue exists because of an incomplete fix for CVE-2016-10009<br />Mitigation: Do not use ssh-agent forwarding (the man page for ssh_config says that "agent forwarding should be enabled with caution"), or start the ssh-agent program with the -P option to allow only specific PKCS#11 libraries (or none with -P '')<br />For Cumulus Linux 4.3.2, the /usr/bin/ssh-agent program has all permissions turned off (chmod 0) to prevent its execution if a vulnerable version is detected. | 4.0.0-4.3.1, 5.0.0-5.7.0 | 4.3.2-4.4.5|
| <a name="3549138"></a> [3549138](#3549138) <a name="3549138"></a> <br /> | In an EVPN environment with ARP suppression enabled, when a host sends a unicast ARP request to a remote host, the ARP reply is duplicated. It is replied once by the remote host and once by the VTEP. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3541912"></a> [3541912](#3541912) <a name="3541912"></a> <br /> | Collecting a <code>cl-support</code> file in a high VNI and interface environment can result in an out-of-memory (OOM) event on the switch. An OOM event can cause critical services to restart and might impact traffic. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3541518"></a> [3541518](#3541518) <a name="3541518"></a> <br /> | When you remove the <code>update-source</code> configuration for a BGP neighbor, the peering is reset if the neighbor is a member of a peer group with the same <code>update-source</code> configuration. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3538497"></a> [3538497](#3538497) <a name="3538497"></a> <br /> | In an EVPN symmetric routing configuration, after rebooting a switch that uses VLAN 1 for a layer 3 VNI, traffic forwarding for VLAN 1 fails. To work around this issue, restart the FRR service with the <code>sudo systemctl restart frr.service</code> command. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3534718"></a> [3534718](#3534718) <a name="3534718"></a> <br /> | The BGP command to suppress longer prefixes inside the aggregate address before sending updates (<code>nv set vrf <vrf> router bgp address-family <address-family> aggregate-route <address> summary-only</code> or vtysh <code>router bgp <asn> aggregate-address <address> summary-only</code>) does not suppress more specific routes from being exported into the EVPN routing table and advertised as EVPN type-5 routes. To work around this issue, announce EVPN type-5 routes by adding an additional outbound policy or export policy to filter out the more specific routes. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3528359"></a> [3528359](#3528359) <a name="3528359"></a> <br /> | A <code>switchd</code> assertion crash occurs after KVD resource exhaustion in the SDK because entries are in a pending delete state, which causes an ECMP allocation failure. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3526004"></a> [3526004](#3526004) <a name="3526004"></a> <br /> | For layer 3 VNIs, Cumulus Linux automatically creates an SVI name that includes an underscore (for example, <code>vlan4036_l3</code>), which is not allowed in SVI names. As a result, commands such as <code>nv show interface</code> for the SVI show an error. The underscore (_) character is now allowed in SVI names. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3522524"></a> [3522524](#3522524) <a name="3522524"></a> <br /> | FRR does not allow eBGP multi hop configuration on unnumbered BGP neighbors.  | 5.5.0-5.6.0 | 5.7.0|
| <a name="3520511"></a> [3520511](#3520511) <a name="3520511"></a> <br /> | If you apply EVPN multihoming configuration such as <code>es-df-pref</code>, <code>es-id</code> and <code>es-sys-mac</code> with vtysh after you remove a bond interface that is part of a bridge and run <code>ifreload -a</code>, FRR crashes. To work around this issue, do not remove a bond from a bridge before you configure EVPN multihoming with vtysh. | 5.5.1 | 5.6.0-5.7.0|
| <a name="3517376"></a> [3517376](#3517376) <a name="3517376"></a> <br /> | When you use CMIS specification based optics,  the <code>l1-show</code> command output provides incorrect values for digital diagnostics (TX Power and RX Power). To work around this issue, run the <code>mlxlink</code> command with either the <code>-m</code> or <code>--cable --ddm</code> flags. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3509445"></a> [3509445](#3509445) <a name="3509445"></a> <br /> | If a BGP numbered session is in a non-established state, SNMP walk commands to the system might time out when the BGPVRF MIB is included in the OIDs to collect. In addition, FRR might report warnings about AgentX in the log files. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3498939"></a> [3498939](#3498939) <a name="3498939"></a> <br /> | In an EVPN environment, VM migration (IP and MAC address migration) might not work because the new local VTEP to which the VM migrates does not install the entry in the kenel. To work around this issue, restart the <code>switchd</code> service. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3496931"></a> [3496931](#3496931) <a name="3496931"></a> <br /> | When you update a prefix list associated with an RP,  the <code>pimd</code> service might crash if the prefix list exists without any prefixes. To work around this issue, ensure that any prefix list associated with an RP includes at least one prefix at all times. | 5.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3496889"></a> [3496889](#3496889) <a name="3496889"></a> <br /> | When PTP is not enabled on the switch, NVUE <code>nv show ptp</code> commands freeze. This might cause other NVUE commands to fail and the NVUE service to restart. | 5.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3495630"></a> [3495630](#3495630) <a name="3495630"></a> <br /> | The NVUE <code>nv show service ptp <instance> current</code> command output shows an incorrect value. To work around this issue, run the <code>nv show service ptp <instance> monitor timestamp-log</code> command or the Linux <code>pmc</code> utility. | 5.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3491259"></a> [3491259](#3491259) <a name="3491259"></a> <br /> | When BGP receives an EVPN type-5 route with a gateway IP overlay attribute, the gateway IP overlay attribute in the <code>attr memory</code> (which is already inserted in the attribute hash) might change. As a result, the modified <code>attr memory</code> might match with another <code>attr</code> in the attribute hash, which produces duplicate entries in the hash table. As a result, BGP might crash when deleting one of the duplicate <code>attr</code> structures.  | 5.0.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3488136"></a> [3488136](#3488136) <a name="3488136"></a> <br /> | When zebra receives route updates that include both a route with a recursive next hop and the route used to resolve that next hop, zebra might mark the route with the recursive next hop as inactive. To work around this issue, reprocess the route updates by running the appropriate clear command for the protocol in use. For example, for BGP, clear inbound routes from the relevant neighbor using the <code>nv action clear vrf <vrf> router bgp neighbor <neighbor> address-family <address-family> in</code> command. | 4.2.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3486102"></a> [3486102](#3486102) <a name="3486102"></a> <br /> | SNMP and TACACS secrets are shown in cleartext. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3484058"></a> [3484058](#3484058) <a name="3484058"></a> <br /> | When you power on the NVIDIA SN3420 switch with no connected cables, the QSFP ports LEDs light in amber. | 5.3.0-5.7.0 | |
| <a name="3479786"></a> [3479786](#3479786) <a name="3479786"></a> <br /> | The <code>switchd</code> service does not handle certain route and next hop updates, which causes a synchronization loop. For example, in a VRF route leaking configuration, where a next hop group spans across multiple VRFs, when one of the routes is withdrawn and the next hop is no longer used, <code>switchd</code> has problems synchronizing other next hops in the group<br />To work around this issue, disable next hop groups in zebra with the vtysh <code>zebra nexthop proto only</code> command, and then reboot the switch. | 5.3.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3474391"></a> [3474391](#3474391) <a name="3474391"></a> <br /> | The SNMP MIB definition file <code>/usr/share/snmp/mibs/Cumulus-BGPVRF-MIB.txt</code> does not  define the INDEX of the <code>bgpPeerEntry</code> correctly. This issue does not impact SNMP functionality for this MIB. | 4.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3472865"></a> [3472865](#3472865) <a name="3472865"></a> <br /> | The json output for the vtysh <code>-c ‘show bgp all json</code> command is missing a string key in front of the list of routes under the <code>l2vpnevpn</code> address family. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3471052"></a> [3471052](#3471052) <a name="3471052"></a> <br /> | On certain QSFP-DD and OSFP optical modules, the <code>ethtool -m</code> command, and the related NCLU and NVUE commands that display optical module information fail. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3467890"></a> [3467890](#3467890) <a name="3467890"></a> <br /> | BGP aggregate routers are not advertised after learning the same route from another protocol. To work around this issue, restart the FRR service or, if possible, don't learn the route from another protocol (use route maps instead). | 5.3.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3466703"></a> [3466703](#3466703) <a name="3466703"></a> <br /> | In rare cases when there is high load, the <code>clagd</code> service might experience a buffer overflow and MLAG bonds stay in a proto-down state on the secondary switch. You see a "NetlinkThread: Netlink overflow" log message and the MLAG state indicates VLAN conflicts between peers. To work around this issue, restart the <code>clagd</code> service with the <code>sudo systemctl restart clagd</code> command on the switch that reports the overflow log message. | 5.2.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3459696"></a> [3459696](#3459696) <a name="3459696"></a> <br /> | If you run the NVUE <code>nv show vrf <vrf> router bgp peer-group <peer-group></code> command when the BGP instance is not enabled, you see an NVUE traceback error. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3455078"></a> [3455078](#3455078) <a name="3455078"></a> <br /> | When you bring down or delete a bridge or all interfaces on the switch, you see the following error message in the <code>/var/log/switchd.log</code> file:<pre>ERR bridge destroy for vlan <vlan id> bridge_id <kernel bridge id> vfid <hw bridge id> failed: Resource is in use</pre>The errors are temporary and have no impact on functionality or traffic. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3452763"></a> [3452763](#3452763) <a name="3452763"></a> <br /> | When you use the NVUE API with TACACS+, users might see a 403 Forbidden message if no TACACS+ user has logged in some other way, such as with SSH.  To work around this issue, log in any TACACS+ user through SSH before you use the NVUE API with TACACS+ users, or run the following commands:<pre>cumulus&#64;switch:~$ sudo touch /run/tacacs_client_mapcumulus&#64;switch:~$ sudo chown root:shadow /run/tacacs_client_mapcumulus&#64;switch:~$ sudo chmod 0644 /run/tacacs_client_map</pre> | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3452732"></a> [3452732](#3452732) <a name="3452732"></a> <br /> | The <code>nv set router policy ext-community-list <policy-name> rule <rule-number> ext-community rt <route-target></code> command does not generate the standard based BGP community list. As a result, routes do not match the expected community list. To work around this issue, create a snippet to add the policy configuration to the <code>/etc/frr/frr.conf</code> file, then patch the configuration. For example:<pre>cumulus&#64;switch:~$ sudo nano frr_policy.yaml- set:<br />   system:<br />     config:<br />       snippet:<br />         frr.conf: \|<br />           bgp extcommunity-list standard EXTCOMMUNITY1 seq 10 permit rt 65102:10</pre><pre>cumulus&#64;switch:~$ nv config patch frr_policy.yaml</pre> | 5.5.0-5.6.0 | 5.7.0|
| <a name="3452681"></a> [3452681](#3452681) <a name="3452681"></a> <br /> | When you run the NVUE <code>nv show system aaa tacacs authorization</code> commands to show per command authorization for a specific TACACS+ user privilege level, you see an error message similar to <code>Error: GET /nvue_v1/system/aaa/tacacs/authorization/1?rev=operational responded with 404 NOT FOUND</code>. | 5.5.0-5.7.0 | |
| <a name="3448984"></a> [3448984](#3448984) <a name="3448984"></a> <br /> | If you use NVUE to apply a configuration when the optional TACACS+ packages are not installed on the switch, you might see messages similar to the following in the <code>/var/log/syslog</code> file when <code>auditd</code> restarts (for example, when the switch reboots):<pre>audispd: Unable to stat /sbin/audisp-tacplus (No such file or directory)</pre><pre>audispd: Skipping audisp-tacplus.conf plugin due to errors</pre>These messages do not affect the functionality of the switch. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3447762"></a> [3447762](#3447762) <a name="3447762"></a> <br /> | If the NVUE <code>startup.yaml</code> configuration file is invalid,  the <code>nv config apply startup</code> command times out without providing details on the error. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3445841"></a> [3445841](#3445841) <a name="3445841"></a> <br /> | FRR does not apply Type-0 ESI configuration for EVPN multihoming bonds consistently after an FRR service reload. This issue occurs because the system MAC address value (<code>es-sys-mac</code>) is only compatible with a 3-byte Ethernet segment ID (<code>es-id</code>) for Type-3 ESIs, but still renders even when the Ethernet segment ID is 10 bytes for Type-0 ESIs. To work around this issue, configure EVPN multihoming bonds with a Type-3 ESI (<code>es-sys-mac</code> plus a 3-byte <code>es-id</code>). | 5.0.0-5.6.0 | 5.7.0|
| <a name="3436595"></a> [3436595](#3436595) <a name="3436595"></a> <br /> | When using WJH, if you export dropped packets to a file in PCAP format, the file contains custom WJH header data. As a result, certain tools, such as Wireshark, cannot decode the data. To work around this issue, use the <code>--no_metadata</code> option with the export command:<pre>cumulus&#64;switch:~$ what-just-happened poll --export --no_metadata</pre> | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3433944"></a> [3433944](#3433944) <a name="3433944"></a> <br /> | The <code>wjh_dissector.lua</code> WJH packet decoder script provided with Cumulus Linux might fail to decode all WJH packets. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3433577"></a> [3433577](#3433577) <a name="3433577"></a> <br /> | When you use a single VXLAN device (SVD) with MLAG and static VXLAN tunnels, Cumulus Linux incorrectly associates the MAC addresses it learns from the VXLAN fabric to the bridge PVID. This issue can lead to a feedback loop between the <code>clagd</code> service and <code>switchd</code>, and might result in critical CPU usage with an out of memory condition. Do not use an SVD when enabling MLAG in a static VXLAN environment. | 5.5.0-5.7.0 | |
| <a name="3428677"></a> [3428677](#3428677) <a name="3428677"></a> <br /> | In certain cases, Cumulus Linux does not process next hop updates because the <code>zebra</code> IP routing manager thinks the state of the next hops is unchanged. As a result, route installation fails and remains in a rejected state. | 5.3.0-5.6.0 | 5.7.0|
| <a name="3424967"></a> [3424967](#3424967) <a name="3424967"></a> <br /> | <code>sudo</code> for TACACS+ users with privilege level 15 does not work when the TACACS+ server is to be reached through the <code>default</code> VRF (with <code>vrf=default</code> set in the <code>/etc/tacplus_servers</code> file). To work around this issue, specify the interface name that the <code>default</code> VRF uses in the <code>vrf=</code> setting of the <code>/etc/tacplus_servers</code> file or run the NVUE <code>nv set system aaa tacacs vrf</code> command. If you don't run either command, a TACACS+ user with privilege level 15 can run <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.7.0 | |
| <a name="3419940"></a> [3419940](#3419940) <a name="3419940"></a> <br /> | When generating a <code>cl-support</code> file either manually or when an issue occurs on the system, you see the following kernel error messages:<pre>'Register access failed (reg_id=0x9029, status=0x4)' followed by a hex dump of a few lines<br /></pre>This error message is benign and has no functional impact. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3419928"></a> [3419928](#3419928) <a name="3419928"></a> <br /> | The NVUE PIM timer command option names <code>keep-alive</code> and <code>rp-keep-alive</code> are inconsistent and need to change to  <code>keepalive</code> and <code>rp-keepalive</code>. | 5.4.0-5.6.0 | 5.7.0|
| <a name="3413785"></a> [3413785](#3413785) <a name="3413785"></a> <br /> | To reach the TACACS+ server through the default VRF, you must specify the egress interface you use in the default VRF. Either run the NVUE <code>nv set system aaa tacacs vrf <interface></code> command (for example, <code>nv set system aaa tacacs vrf swp51</code>) or set the <code>vrf=<interface></code> option in the <code>/etc/tacplus_servers</code> file (for example, <code>vrf=swp51</code>). A similar issue might prevent TACACS+ users with privilege level 15 from using <code>sudo</code> if the TACACS+ server is reachable only on the <code>default</code> VRF.  If this occurs, and you do not run the above configuration workaround, the TACACS+ user with privilege level 15 can use <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3405024"></a> [3405024](#3405024) <a name="3405024"></a> <br /> | You cannot remove PBR map configuration with source and destination rules. To work around this issue, delete the entire PBR map clause. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3394674"></a> [3394674](#3394674) <a name="3394674"></a> <br /> | If you restart FRR with the log file debugging level set to <code>informational</code>, BGP crashes. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3378733"></a> [3378733](#3378733) <a name="3378733"></a> <br /> | After you add or delete a static MAC entry on the bridge FDB, a core dump occurs if the interface is VXLAN and the MAC address is 00:00:00:00:00:00. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3368217"></a> [3368217](#3368217) <a name="3368217"></a> <br />None | When daylight saving time changes, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-4.4.5, 5.2.1-5.7.0 | |
| <a name="3362113"></a> [3362113](#3362113) <a name="3362113"></a> <br /> | If you restore an NVUE <code>startup.yaml</code> file after upgrade that includes breakout ports with QoS configuration or you run the <code>nv config patch</code> command to update a configuration with a <code>yaml</code> file that includes breakout ports with QoS configuration, the NVUE configuration fails to apply. Subsequent attempts to run <code>nv config apply</code> fail with a message similar to <code>Invalid config &#91;rev_id: 11&#93; qos config is not supported on the following invalid interface: swp1s0. Supported on swp and bond interface types</code>. To work around this issue, run <code>nv unset</code> on the configured QoS settings, then apply the breakout port configuration before you configure QoS. Alternatively, you can remove the QoS configuration from the <code>yaml</code> file and patch it separately after applying the breakout configuration. | 5.4.0-5.7.0 | |
| <a name="3350027"></a> [3350027](#3350027) <a name="3350027"></a> <br /> | If you uninstall dynamic NAT rules and <code>switchd</code> restarts before all the dynamic NAT flows age out and are deleted, you might see dynamic flow deletion errors in <code>switchd.log</code>. These errors do not affect new dynamic NAT flows from new NAT rules. | 5.4.0-5.7.0 | |
| <a name="3347677"></a> [3347677](#3347677) <a name="3347677"></a> <br /> | In an MLAG configuration, when a link failure occurs on the peerlink or the peerlink shuts down, the switch in the secondary role attracts traffic to its local VTEP as it advertises the local VTEP IP address momentarily just before the VXLAN device is protodown. This traffic is dropped for a brief moment (between 5 and 10 seconds) because the MLAG bonds on the secondary switch are already protodown. | 5.1.0-5.6.0 | 5.7.0|
| <a name="3347538"></a> [3347538](#3347538) <a name="3347538"></a> <br /> | When connecting NVIDIA-to-NVIDIA in PAM4, you must enable auto-negotiation. | 5.4.0-5.7.0 | |
| <a name="3345054"></a> [3345054](#3345054) <a name="3345054"></a> <br /> | The NVUE <code>nv show interface <interface> qos</code> command takes a significant time to show output or times out. To work around this issue, use specific QoS commands. For example, to show congestion control information, run the <code>nv show interface <interface> qos congestion-control</code> command. | 5.4.0-5.7.0 | |
| <a name="3344846"></a> [3344846](#3344846) <a name="3344846"></a> <br /> | The Spectrum-3 hardware configuration is not optimized for the best PTP accuracy when using 25GbE.  You might see higher than expected PTP offsets on this platforms and interface speed. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3341214"></a> [3341214](#3341214) <a name="3341214"></a> <br /> | If you use the NVUE REST API to configure a local user with a hashed password, the user cannot log in and the <code>/etc/nvue.d/startup.yaml</code> file shows the password as plain text. | 5.4.0-5.7.0 | |
| <a name="3336808"></a> [3336808](#3336808) <a name="3336808"></a> <br /> | If you run the NVUE <code>nv set interface <interface> description</code> command without providing a description, the <code>nv config apply</code> command fails with the error <code>Unable to restart services (ifreload-nvue.service)</code>. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3334275"></a> [3334275](#3334275) <a name="3334275"></a> <br /> | When you run the <code>sensors</code> command, the output shows an erroneous fault on some front panel ports. | 5.2.0-5.7.0 | |
| <a name="3329518"></a> [3329518](#3329518) <a name="3329518"></a> <br /> | When using TACACS+, if the <code>/etc/nsswitch.conf</code> file specifies <code>passwd: files tacplus</code> (files is listed before tacplus), a user that is present in both the local <code>/etc/passwd</code> file and the TACACS+ server cannot log into the switch. NVIDIA recommends that when using TACACS+, you list <code>tacplus</code> before <code>files</code> in <code>/etc/nsswitch.conf</code>.  When using NVUE, ensure that <code>tacacs</code> has priority over <code>local</code>. | 5.4.0-5.7.0 | |
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might not match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="3326659"></a> [3326659](#3326659) <a name="3326659"></a> <br /> | If you have a large number of MAC addresses, they do not age out at the MAC ageing timeout value configured on the switch. It might take up to 30 seconds more for the MAC addresses to age out and be deleted from the hardware. To work around this issue, wait for the ageing timeout value plus 30 seconds to allow for the MAC addresses to age out and be deleted from the hardware. | 5.4.0-5.7.0 | |
| <a name="3293114"></a> [3293114](#3293114) <a name="3293114"></a> <br /> | In Cumulus Linux 5.4 and earlier, the command to enable Neighbor Discovery (ND) router advertisement is inverted and causes confusion; <code>nv set interface <interface> ip neighbor-discovery router-advertisement enable off</code>. In Cumulus Linux 5.5 and later, the command to enable router advertisement is updated to <code>nv set interface <interface> ip neighbor-discovery router-advertisement enable on</code>.  | 5.3.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3266197"></a> [3266197](#3266197) <a name="3266197"></a> <br /> | When you disable BGP globally with the <code>nv set router bgp enable off</code> command, applying the configuration with NVUE might fail due to an FRR reload failure. | 5.2.0-5.6.0 | 5.7.0|
| <a name="3264269"></a> [3264269](#3264269) <a name="3264269"></a> <br /> | When you change the BGP router ID that causes a change to an EVPN VNI RD, EVPN EAD-per-EVI routes are not updated properly. | 5.3.0-5.6.0 | 5.7.0|
| <a name="3258232"></a> [3258232](#3258232) <a name="3258232"></a> <br /> | If you use NVUE to configure multiple SNMP listener addresses at the same time, the SNMP service fails to start. To work around this issue, configure multiple SNMP listener addresses one at a time. | 5.3.0-5.6.0 | 5.7.0|
| <a name="3241567"></a> [3241567](#3241567) <a name="3241567"></a> <br /> | When you apply switch configuration for the first time on a freshly booted switch and you run the <code>nv config apply</code> command after setting the hostname with <code>nv set system hostname</code>, you might see the error message <code>Failed to start Hostname Service</code>. To work around this issue, run the <code>nv config apply</code> command a second time. | 5.3.0-5.7.0 | |
| <a name="3232091"></a> [3232091](#3232091) <a name="3232091"></a> <br /> | The NVUE <code>nv unset interface <interface> link lanes</code> command does not restore the port lane setting to the default value. To work around this issue, run the <code>nv set interface <interface> link lanes <value></code> command. | 5.4.0-5.6.0 | 5.7.0|
| <a name="3226506"></a> [3226506](#3226506) <a name="3226506"></a> <br /> | The <code>l1-show eth0</code> command does not show port information and is not supported in this release.  | 5.3.0-5.7.0 | |
| <a name="3221628"></a> [3221628](#3221628) <a name="3221628"></a> <br /> | Cumulus Linux VX images might include an incorrect entry at the end of <code>/etc/apt/sources.list</code>, which produces warnings when you run <code>apt update</code>. Remove this entry to avoid these warnings. | 5.2.0-5.6.0 | 5.7.0|
| <a name="3187469"></a> [3187469](#3187469) <a name="3187469"></a> <br /> | At high scale with 160 VRFs and 10 VLANs per VRF (a total of 1600 VLANs), you see traffic loss during primary switch reboot. To work around this issue, reduce the scale to 40 VRFs with no more than 400 VLANs in the configuration, and use a common MAC address. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3178090"></a> [3178090](#3178090) <a name="3178090"></a> <br /> | The <code>cl-support</code> generation script causes TC filter collection to run as a background process for each interface, which can lead to memory exhaustion on a high scale configuration and on a switch with a small memory footprint. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3172682"></a> [3172682](#3172682) <a name="3172682"></a> <br /> | On rare occasions, when you query the system hostname through the <code>hostnamctl</code> application, you see a timeout. NVUE uses the <code>hostnamctl</code> application to determine the system hostname, which can result in an <code>nv config apply</code> command failure. | 5.2.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3172504"></a> [3172504](#3172504) <a name="3172504"></a> <br /> | When you connect the NVIDIA SN4600C switch to a Spectrum 1 or Spectrum-3 switch with a 40GbE passive copper cable (Part Number: MC2210126-005) on edge ports 1-4 and 61-64, there is an Effective BER of 1E-12 in PHY. | 5.2.0-5.7.0 | |
| <a name="3147782"></a> [3147782](#3147782) <a name="3147782"></a> <br /> | You cannot use NVUE to configure an SNMP view to include a subtree beginning with a period. For example:<pre>cumulus&#64;switch:~$ nv set service snmp-server viewname cumulusOnly included .1.3.6.1.4.1.40310Error: GET /nvue_v1/service/snmp-server/viewname/cumulusOnly/included?pointers=%5B%22%2Fparameters%22%2C+%22%2Fpatch%2FrequestBody%2Fcontent%2Fapplication~1json%2Fschema%22%2C+%22%2Fpatch%2Fparameters%22%2C+%22%2Fpatch%2Fresponses%2F200%2Flinks%22%5D responded with 404 NOT FOUND</pre>To work around this issue, reference the OID without the preceding period ( <code>.</code> ) in the command. | 5.3.0-5.7.0 | |
| <a name="3145869"></a> [3145869](#3145869) <a name="3145869"></a> <br /> | On a Spectrum-3 switch, the PTP offset in 10GbE changes between +-27. The average offset is around 7. | 5.2.0-5.7.0 | |
| <a name="3141826"></a> [3141826](#3141826) <a name="3141826"></a> <br /> | A slow memory leak (~5KB over 24 hour period at a 60 second polling interval) might occur in SNMP when you walk the following system MIB objects (1.3.6.1.2.1)<br />1.3.6.1.2.1.47 --> Entity MIB<br />1.3.6.1.2.1.99 --> Entity Sensor MIB<br />1.3.6.1.2.1.23 --> rip2<br />1.3.6.1.2.1.2 --> interface/interfaces<br />1.3.6.1.2.1.31 --> ifMIB<br />1.3.6.1.2.1.4 --> IP<br />1.3.6.1.2.1.25 --> hostResource | 5.0.1-5.6.0 | 5.7.0|
| <a name="3135952"></a> [3135952](#3135952) <a name="3135952"></a> <br /> | PAM4 split cables (such as 2x100G, 4x100G, and 4x50G) do not work with a forced speed setting (when auto-negotiation is off) as the default speed enabled is for NRZ mode (such as 100G_4X). To work around this issue,  set the appropriate lanes for forced speed (with auto-negotation off) with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example: <pre>cumulus&#64;switch:~$ sudo ethtool -s swp1 speed 100000 autoneg off lanes 2</pre> | 5.2.0-5.7.0 | |
| <a name="3122301"></a> [3122301](#3122301) <a name="3122301"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.7.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a <code>vlan added to two or more VXLANS</code> warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0-5.7.0 | |
| <a name="3103821"></a> [3103821](#3103821) <a name="3103821"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.7.0 | |
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | The default QOS traffic shaping configuration does not restore after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.7.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.7.0 | |
| <a name="3069069"></a> [3069069](#3069069) <a name="3069069"></a> <br /> | When you run the <code>systemctl reload switchd</code> command, there is momentary traffic loss after a port configured with lossless buffers goes down. This is only temporary and the traffic stabilizes after the initial drops. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3061656"></a> [3061656](#3061656) <a name="3061656"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.7.0 | |
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.7.0 | |
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.7.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.7.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.7.0 | |
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file.<br>Vulnerable: <= 2.6.20-0+deb10u1<br>Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.7.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.7.0 | 4.4.2-4.4.5|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the NVIDIA SN4600 switch to another NVIDIA Spectrum switch, you must use auto-negotiation mode (not force mode); otherwise the switch might use the wrong Tx configuration. | 5.0.0-5.7.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.7.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.7.0 | |
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | When configured with NVUE, SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.7.0 | 4.3.1-4.4.5|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="2671652"></a> [2671652](#2671652) <a name="2671652"></a> <br /> | In VXLAN routing environments, you might experience sub-optimal route convergence delays (greater than five seconds) when a prefix transitions to a new ECMP next-hop group. This condition might occur when a VTEP loses ECMP routes through all uplink peerings, then installs the routes through a different path, such as an MLAG peerlink. | 4.4.0-4.4.5, 5.5.0-5.7.0 | |
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | When you enable a service in the management VRF, <code>systemctl</code> issues a warning similar to the following:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre>You can safely ignore this warning. | 4.0.0-4.4.5, 5.0.0-5.7.0 | |

### Fixed Issues in 5.5.1
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3470941"></a> [3470941](#3470941) <a name="3470941"></a> <br />None | On the NVIDIA SN4700 switch, reversing the upper four lanes on a port does not work and might cause link degradation. If you swap the upper and lower four lanes on a port, the firmware gets stuck. | 5.3.0-5.5.0 | |

## 5.5.0 Release Notes
### Open Issues in 5.5.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3730904"></a> [3730904](#3730904) <a name="3730904"></a> <br /> | When sending untagged frames to the CPU with an MTU higher than the SVD (single VXLAN device) MTU, the kernel might crash. | 5.4.0-5.7.0 | |
| <a name="3713419"></a> [3713419](#3713419) <a name="3713419"></a> <br /> | When monitoring system statistics and network traffic with sFlow, an aggressive link flap might produce a memory leak in the sFlow service <code>hsflowd</code>. | 5.1.0-5.7.0 | |
| <a name="3702431"></a> [3702431](#3702431) <a name="3702431"></a> <br /> | Traditional SNMP snippets do not take effect unless you first enable SNMP with the NVUE <code>nv set service snmp-server enable on</code> and <code>nv set service snmp-server listening-address</code> commands. Alternatively, you can use the equivalent REST API methods. | 5.4.0-5.7.0 | |
| <a name="3696061"></a> [3696061](#3696061) <a name="3696061"></a> <br /> | When the MAC address of a neighbor changes, the <code>zebra</code> IP routing manager might crash.  | 5.2.1-5.6.0 | 5.7.0|
| <a name="3695430"></a> [3695430](#3695430) <a name="3695430"></a> <br /> | When you configure extended nexthop encoding for a peer group, the peers in the group do not inherit the configuration. To work around this issue, configure extended nexthop encoding on each individual peer in the group. NVIDIA recommends that you upgrade to Cumulus Linux 5.6 or later to avoid this issue. | 5.4.0-5.6.0 | 5.7.0|
| <a name="3684998"></a> [3684998](#3684998) <a name="3684998"></a> <br /> | DHCP lease information is not collected in the <code>cl-support</code> file. | 4.3.0-5.6.0 | 5.7.0|
| <a name="3663182"></a> [3663182](#3663182) <a name="3663182"></a> <br /> | Changing non-default BGP timers with NCLU or vtysh commands sets the hold time and keep alive interval to 0 seconds. To work around this issue, restart the FRR service with the <code>sudo systemctl restart frr.service</code> command. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3647426"></a> [3647426](#3647426) <a name="3647426"></a> <br />None | If BGP <code>remote-as</code> is set to an integer and you try to configure the <code>local-as</code> for a BGP instance, you see the following error:<pre>% AS specified for local as is the same as the remote as and this is not allowed<br /></pre>This configuration is not allowed; it is considered to be eBGP and local preference is not advertised. | 5.0.0-5.5.1 | 4.3.2-4.4.5, 5.6.0-5.7.0|
| <a name="3613258"></a> [3613258](#3613258) <a name="3613258"></a> <br /> | With VM migration from one VTEP to another, traffic loss might occur during a MAC move as locally learned MAC addresses are frequently refreshed between <code>switchd</code> and the kernel. | 5.2.1-5.6.0 | 5.7.0|
| <a name="3610967"></a> [3610967](#3610967) <a name="3610967"></a> <br /> | In an EVPN symmetric routing configuration, running the NVUE <code>nv set vrf <vrf> vlan auto</code> command to derive layer 3 VNIs automatically might result in duplicate VLAN entries in the system. This most often occurs at scale when many VRFs have similar names. To work around this issue, manually specify a unique VLAN for each VRF. | 5.3.0-5.7.0 | |
| <a name="3610611"></a> [3610611](#3610611) <a name="3610611"></a> <br /> | Cumulus Linux assigns an IPv4 and IPv6 loopback address to a VRF interface by default. As a result, ping and route lookups for unique remote IP addresses on different VTEPs might not work if there is no source IP on the switch that belongs to the same subnet. To work around this issue, remove the loopback address on the VRF with the nv unset vrf <vrf> loopback ip address command. Only remove the loopback address if you are not running NTP as NTP requires a loopback address to work. Alternatively, you can change the <code>ping</code> command to use a source address (such as an SVI address) with the <code>ip vrf exec <VRF> ping <REMOTE_IP> -I <SVI_SRC_IP></code> command. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3609128"></a> [3609128](#3609128) <a name="3609128"></a> <br /> | When you use <code>vi</code> with root or sudo, visual mode is enabled by default due to a missing <code>vimrc</code> configuration file. This makes it difficult to copy and paste into <code>vi</code>.  In CL5.7.0, the default configuration now includes <code>set mouse-=a</code><br />In addition, the CL5.7.0 default configuration for <code>vi</code> now disables modelines, which can be a security risk. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3599699"></a> [3599699](#3599699) <a name="3599699"></a> <br /> | Cumulus Linux assigns an IPv4 and IPv6 loopback address to a VRF interface by default. As a result, ping and route lookups for unique remote IP addresses on different VTEPs might not work if there is no source IP on the switch that belongs to the same subnet. To work around this issue, remove the loopback address on the VRF with the <code>nv unset vrf <vrf> loopback ip address</code> command. Only remove the loopback address if you are not running NTP as NTP requires a loopback address to work. Alternatively, you can change the <code>ping</code> command to use a source address (such as an SVI address) with the ip vrf exec <VRF> ping <REMOTE_IP> -I <SVI_SRC_IP> command. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3585467"></a> [3585467](#3585467) <a name="3585467"></a> <br /> | NVUE and <code>ip link</code> show traditional bridge VLAN subinterface counts incorrectly. The ingress (Rx) count increments correctly but the egress (Tx) count does not increment. This issues occurs because the hardware does not support transmit counters for a VLAN subinterface; therefore, no statistics from the hardware are updated. Statistics for software forwarded packets show correctly. | 5.0.0-5.6.0 | 5.7.0|
| <a name="3582826"></a> [3582826](#3582826) <a name="3582826"></a> <br /> | When you enable the FRR SNMP agent (agentx) and configure routing adjacencies with short timers (dead, keepalive, and hold time), the routing adjacencies might go down in certain scenarios; for example when you have frequent or concurrent client SNMP requests, you use custom SNMP MIB extensions, you poll OIDs with large responses, or during high CPU load. To work around this issue, you can increase the routing adjacency timers to accommodate SNMP processing. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3580435"></a> [3580435](#3580435) <a name="3580435"></a> <br /> | On the NVIDIA SN2410 switch with an Innodisk SSD, you might see the following message in syslog:<pre>smartd&#91;501&#93;: Device: /dev/sda &#91;SAT&#93;, CHECK POWER STATUS spins up disk (0x00 -> 0xff)</pre>This is a cosmetic issue and does not affect how the switch operates. To prevent this message from occurring, run the <code>hdparm -S 24 /dev/sda</code> command to change the HD timeout. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3576949"></a> [3576949](#3576949) <a name="3576949"></a> <br /> | When you run the NVUE <code>nv set service snmp listening-address localhost vrf <vrf-name></code> or <code>nv set service snmp listening-address localhost-v6 vrf <vrf-name></code> command to configure the SNMP listening address, Cumulus Linux applies the listening address to the default VRF instead of the VRF you specify. | 5.3.0-5.7.0 | |
| <a name="3573800"></a> [3573800](#3573800) <a name="3573800"></a> <br /> | After you apply a change to the router MAC address on an SVI with the <code>ifreload -a</code> command, the old router MAC address still remains in the FDB table. To work around this issue, remove the old router MAC address with the <code>sudo bridge fdb del <old_mac> dev bridge vlan <vlan_id></code> command. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3567708"></a> [3567708](#3567708) <a name="3567708"></a> <br /> | In an EVPN multihoming environment with VRRP, when the master VRRP router fails, the standby router takes around 30 seconds to become active. | 5.3.1-5.6.0 | 5.7.0|
| <a name="3566980"></a> [3566980](#3566980) <a name="3566980"></a> <br /> | When running DHCP relay for IPv6 and a downstream interface flaps more than once, relaying might stop working. To recover, restart the <code>dhcrelay6</code> service, making sure the specified downstream interfaces are up and running. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3560622"></a> [3560622](#3560622) <a name="3560622"></a> <br /> | When you configure a route distinguisher (RD) or a route target (RT) manually for layer 2 VNIs, type-1 routes are not properly updated, type-1 EVI routes with the old RD are not properly withdrawn, and type-1 ES routes do not have the corresponding layer 2 VNI route target updated. | 5.0.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3556762"></a> [3556762](#3556762) <a name="3556762"></a> <br /> | On rare occasions, SPT switchover might not happen cleanly in PIM resulting in some dropped packets. If you use PIM-SM to replicate EVPN BUM traffic, you might see a brief drop of multicast traffic before recovering due to normal PIM-SM traffic timeout. | 5.5.0-5.7.0 | |
| <a name="3554231"></a> [3554231](#3554231) <a name="3554231"></a> <br />None | CVE-2023-38408: The PKCS#11 feature in ssh-agent in OpenSSH before 9.3p2 has an insufficiently trustworthy search path, leading to remote code execution if an agent is forwarded to an attacker-controlled system. (Code in /usr/lib is not necessarily safe for loading into ssh-agent.) NOTE: this issue exists because of an incomplete fix for CVE-2016-10009<br />Mitigation: Do not use ssh-agent forwarding (the man page for ssh_config says that "agent forwarding should be enabled with caution"), or start the ssh-agent program with the -P option to allow only specific PKCS#11 libraries (or none with -P '')<br />For Cumulus Linux 4.3.2, the /usr/bin/ssh-agent program has all permissions turned off (chmod 0) to prevent its execution if a vulnerable version is detected. | 4.0.0-4.3.1, 5.0.0-5.7.0 | 4.3.2-4.4.5|
| <a name="3549138"></a> [3549138](#3549138) <a name="3549138"></a> <br /> | In an EVPN environment with ARP suppression enabled, when a host sends a unicast ARP request to a remote host, the ARP reply is duplicated. It is replied once by the remote host and once by the VTEP. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3541912"></a> [3541912](#3541912) <a name="3541912"></a> <br /> | Collecting a <code>cl-support</code> file in a high VNI and interface environment can result in an out-of-memory (OOM) event on the switch. An OOM event can cause critical services to restart and might impact traffic. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3541518"></a> [3541518](#3541518) <a name="3541518"></a> <br /> | When you remove the <code>update-source</code> configuration for a BGP neighbor, the peering is reset if the neighbor is a member of a peer group with the same <code>update-source</code> configuration. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3538497"></a> [3538497](#3538497) <a name="3538497"></a> <br /> | In an EVPN symmetric routing configuration, after rebooting a switch that uses VLAN 1 for a layer 3 VNI, traffic forwarding for VLAN 1 fails. To work around this issue, restart the FRR service with the <code>sudo systemctl restart frr.service</code> command. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3534718"></a> [3534718](#3534718) <a name="3534718"></a> <br /> | The BGP command to suppress longer prefixes inside the aggregate address before sending updates (<code>nv set vrf <vrf> router bgp address-family <address-family> aggregate-route <address> summary-only</code> or vtysh <code>router bgp <asn> aggregate-address <address> summary-only</code>) does not suppress more specific routes from being exported into the EVPN routing table and advertised as EVPN type-5 routes. To work around this issue, announce EVPN type-5 routes by adding an additional outbound policy or export policy to filter out the more specific routes. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3528359"></a> [3528359](#3528359) <a name="3528359"></a> <br /> | A <code>switchd</code> assertion crash occurs after KVD resource exhaustion in the SDK because entries are in a pending delete state, which causes an ECMP allocation failure. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3526004"></a> [3526004](#3526004) <a name="3526004"></a> <br /> | For layer 3 VNIs, Cumulus Linux automatically creates an SVI name that includes an underscore (for example, <code>vlan4036_l3</code>), which is not allowed in SVI names. As a result, commands such as <code>nv show interface</code> for the SVI show an error. The underscore (_) character is now allowed in SVI names. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3522524"></a> [3522524](#3522524) <a name="3522524"></a> <br /> | FRR does not allow eBGP multi hop configuration on unnumbered BGP neighbors.  | 5.5.0-5.6.0 | 5.7.0|
| <a name="3517376"></a> [3517376](#3517376) <a name="3517376"></a> <br /> | When you use CMIS specification based optics,  the <code>l1-show</code> command output provides incorrect values for digital diagnostics (TX Power and RX Power). To work around this issue, run the <code>mlxlink</code> command with either the <code>-m</code> or <code>--cable --ddm</code> flags. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3509445"></a> [3509445](#3509445) <a name="3509445"></a> <br /> | If a BGP numbered session is in a non-established state, SNMP walk commands to the system might time out when the BGPVRF MIB is included in the OIDs to collect. In addition, FRR might report warnings about AgentX in the log files. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3498939"></a> [3498939](#3498939) <a name="3498939"></a> <br /> | In an EVPN environment, VM migration (IP and MAC address migration) might not work because the new local VTEP to which the VM migrates does not install the entry in the kenel. To work around this issue, restart the <code>switchd</code> service. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3496931"></a> [3496931](#3496931) <a name="3496931"></a> <br /> | When you update a prefix list associated with an RP,  the <code>pimd</code> service might crash if the prefix list exists without any prefixes. To work around this issue, ensure that any prefix list associated with an RP includes at least one prefix at all times. | 5.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3496889"></a> [3496889](#3496889) <a name="3496889"></a> <br /> | When PTP is not enabled on the switch, NVUE <code>nv show ptp</code> commands freeze. This might cause other NVUE commands to fail and the NVUE service to restart. | 5.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3495630"></a> [3495630](#3495630) <a name="3495630"></a> <br /> | The NVUE <code>nv show service ptp <instance> current</code> command output shows an incorrect value. To work around this issue, run the <code>nv show service ptp <instance> monitor timestamp-log</code> command or the Linux <code>pmc</code> utility. | 5.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3491259"></a> [3491259](#3491259) <a name="3491259"></a> <br /> | When BGP receives an EVPN type-5 route with a gateway IP overlay attribute, the gateway IP overlay attribute in the <code>attr memory</code> (which is already inserted in the attribute hash) might change. As a result, the modified <code>attr memory</code> might match with another <code>attr</code> in the attribute hash, which produces duplicate entries in the hash table. As a result, BGP might crash when deleting one of the duplicate <code>attr</code> structures.  | 5.0.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3488136"></a> [3488136](#3488136) <a name="3488136"></a> <br /> | When zebra receives route updates that include both a route with a recursive next hop and the route used to resolve that next hop, zebra might mark the route with the recursive next hop as inactive. To work around this issue, reprocess the route updates by running the appropriate clear command for the protocol in use. For example, for BGP, clear inbound routes from the relevant neighbor using the <code>nv action clear vrf <vrf> router bgp neighbor <neighbor> address-family <address-family> in</code> command. | 4.2.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3486102"></a> [3486102](#3486102) <a name="3486102"></a> <br /> | SNMP and TACACS secrets are shown in cleartext. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3484058"></a> [3484058](#3484058) <a name="3484058"></a> <br /> | When you power on the NVIDIA SN3420 switch with no connected cables, the QSFP ports LEDs light in amber. | 5.3.0-5.7.0 | |
| <a name="3479786"></a> [3479786](#3479786) <a name="3479786"></a> <br /> | The <code>switchd</code> service does not handle certain route and next hop updates, which causes a synchronization loop. For example, in a VRF route leaking configuration, where a next hop group spans across multiple VRFs, when one of the routes is withdrawn and the next hop is no longer used, <code>switchd</code> has problems synchronizing other next hops in the group<br />To work around this issue, disable next hop groups in zebra with the vtysh <code>zebra nexthop proto only</code> command, and then reboot the switch. | 5.3.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3474391"></a> [3474391](#3474391) <a name="3474391"></a> <br /> | The SNMP MIB definition file <code>/usr/share/snmp/mibs/Cumulus-BGPVRF-MIB.txt</code> does not  define the INDEX of the <code>bgpPeerEntry</code> correctly. This issue does not impact SNMP functionality for this MIB. | 4.3.1-5.5.1 | 5.6.0-5.7.0|
| <a name="3472865"></a> [3472865](#3472865) <a name="3472865"></a> <br /> | The json output for the vtysh <code>-c ‘show bgp all json</code> command is missing a string key in front of the list of routes under the <code>l2vpnevpn</code> address family. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3471052"></a> [3471052](#3471052) <a name="3471052"></a> <br /> | On certain QSFP-DD and OSFP optical modules, the <code>ethtool -m</code> command, and the related NCLU and NVUE commands that display optical module information fail. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3470941"></a> [3470941](#3470941) <a name="3470941"></a> <br />None | On the NVIDIA SN4700 switch, reversing the upper four lanes on a port does not work and might cause link degradation. If you swap the upper and lower four lanes on a port, the firmware gets stuck. | 5.3.0-5.5.0 | 5.5.1-5.7.0|
| <a name="3467890"></a> [3467890](#3467890) <a name="3467890"></a> <br /> | BGP aggregate routers are not advertised after learning the same route from another protocol. To work around this issue, restart the FRR service or, if possible, don't learn the route from another protocol (use route maps instead). | 5.3.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3466703"></a> [3466703](#3466703) <a name="3466703"></a> <br /> | In rare cases when there is high load, the <code>clagd</code> service might experience a buffer overflow and MLAG bonds stay in a proto-down state on the secondary switch. You see a "NetlinkThread: Netlink overflow" log message and the MLAG state indicates VLAN conflicts between peers. To work around this issue, restart the <code>clagd</code> service with the <code>sudo systemctl restart clagd</code> command on the switch that reports the overflow log message. | 5.2.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3459696"></a> [3459696](#3459696) <a name="3459696"></a> <br /> | If you run the NVUE <code>nv show vrf <vrf> router bgp peer-group <peer-group></code> command when the BGP instance is not enabled, you see an NVUE traceback error. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3455078"></a> [3455078](#3455078) <a name="3455078"></a> <br /> | When you bring down or delete a bridge or all interfaces on the switch, you see the following error message in the <code>/var/log/switchd.log</code> file:<pre>ERR bridge destroy for vlan <vlan id> bridge_id <kernel bridge id> vfid <hw bridge id> failed: Resource is in use</pre>The errors are temporary and have no impact on functionality or traffic. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3452763"></a> [3452763](#3452763) <a name="3452763"></a> <br /> | When you use the NVUE API with TACACS+, users might see a 403 Forbidden message if no TACACS+ user has logged in some other way, such as with SSH.  To work around this issue, log in any TACACS+ user through SSH before you use the NVUE API with TACACS+ users, or run the following commands:<pre>cumulus&#64;switch:~$ sudo touch /run/tacacs_client_mapcumulus&#64;switch:~$ sudo chown root:shadow /run/tacacs_client_mapcumulus&#64;switch:~$ sudo chmod 0644 /run/tacacs_client_map</pre> | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3452732"></a> [3452732](#3452732) <a name="3452732"></a> <br /> | The <code>nv set router policy ext-community-list <policy-name> rule <rule-number> ext-community rt <route-target></code> command does not generate the standard based BGP community list. As a result, routes do not match the expected community list. To work around this issue, create a snippet to add the policy configuration to the <code>/etc/frr/frr.conf</code> file, then patch the configuration. For example:<pre>cumulus&#64;switch:~$ sudo nano frr_policy.yaml- set:<br />   system:<br />     config:<br />       snippet:<br />         frr.conf: \|<br />           bgp extcommunity-list standard EXTCOMMUNITY1 seq 10 permit rt 65102:10</pre><pre>cumulus&#64;switch:~$ nv config patch frr_policy.yaml</pre> | 5.5.0-5.6.0 | 5.7.0|
| <a name="3452681"></a> [3452681](#3452681) <a name="3452681"></a> <br /> | When you run the NVUE <code>nv show system aaa tacacs authorization</code> commands to show per command authorization for a specific TACACS+ user privilege level, you see an error message similar to <code>Error: GET /nvue_v1/system/aaa/tacacs/authorization/1?rev=operational responded with 404 NOT FOUND</code>. | 5.5.0-5.7.0 | |
| <a name="3448984"></a> [3448984](#3448984) <a name="3448984"></a> <br /> | If you use NVUE to apply a configuration when the optional TACACS+ packages are not installed on the switch, you might see messages similar to the following in the <code>/var/log/syslog</code> file when <code>auditd</code> restarts (for example, when the switch reboots):<pre>audispd: Unable to stat /sbin/audisp-tacplus (No such file or directory)</pre><pre>audispd: Skipping audisp-tacplus.conf plugin due to errors</pre>These messages do not affect the functionality of the switch. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3447762"></a> [3447762](#3447762) <a name="3447762"></a> <br /> | If the NVUE <code>startup.yaml</code> configuration file is invalid,  the <code>nv config apply startup</code> command times out without providing details on the error. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3445841"></a> [3445841](#3445841) <a name="3445841"></a> <br /> | FRR does not apply Type-0 ESI configuration for EVPN multihoming bonds consistently after an FRR service reload. This issue occurs because the system MAC address value (<code>es-sys-mac</code>) is only compatible with a 3-byte Ethernet segment ID (<code>es-id</code>) for Type-3 ESIs, but still renders even when the Ethernet segment ID is 10 bytes for Type-0 ESIs. To work around this issue, configure EVPN multihoming bonds with a Type-3 ESI (<code>es-sys-mac</code> plus a 3-byte <code>es-id</code>). | 5.0.0-5.6.0 | 5.7.0|
| <a name="3436595"></a> [3436595](#3436595) <a name="3436595"></a> <br /> | When using WJH, if you export dropped packets to a file in PCAP format, the file contains custom WJH header data. As a result, certain tools, such as Wireshark, cannot decode the data. To work around this issue, use the <code>--no_metadata</code> option with the export command:<pre>cumulus&#64;switch:~$ what-just-happened poll --export --no_metadata</pre> | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3433944"></a> [3433944](#3433944) <a name="3433944"></a> <br /> | The <code>wjh_dissector.lua</code> WJH packet decoder script provided with Cumulus Linux might fail to decode all WJH packets. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3433577"></a> [3433577](#3433577) <a name="3433577"></a> <br /> | When you use a single VXLAN device (SVD) with MLAG and static VXLAN tunnels, Cumulus Linux incorrectly associates the MAC addresses it learns from the VXLAN fabric to the bridge PVID. This issue can lead to a feedback loop between the <code>clagd</code> service and <code>switchd</code>, and might result in critical CPU usage with an out of memory condition. Do not use an SVD when enabling MLAG in a static VXLAN environment. | 5.5.0-5.7.0 | |
| <a name="3428677"></a> [3428677](#3428677) <a name="3428677"></a> <br /> | In certain cases, Cumulus Linux does not process next hop updates because the <code>zebra</code> IP routing manager thinks the state of the next hops is unchanged. As a result, route installation fails and remains in a rejected state. | 5.3.0-5.6.0 | 5.7.0|
| <a name="3424967"></a> [3424967](#3424967) <a name="3424967"></a> <br /> | <code>sudo</code> for TACACS+ users with privilege level 15 does not work when the TACACS+ server is to be reached through the <code>default</code> VRF (with <code>vrf=default</code> set in the <code>/etc/tacplus_servers</code> file). To work around this issue, specify the interface name that the <code>default</code> VRF uses in the <code>vrf=</code> setting of the <code>/etc/tacplus_servers</code> file or run the NVUE <code>nv set system aaa tacacs vrf</code> command. If you don't run either command, a TACACS+ user with privilege level 15 can run <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.7.0 | |
| <a name="3419940"></a> [3419940](#3419940) <a name="3419940"></a> <br /> | When generating a <code>cl-support</code> file either manually or when an issue occurs on the system, you see the following kernel error messages:<pre>'Register access failed (reg_id=0x9029, status=0x4)' followed by a hex dump of a few lines<br /></pre>This error message is benign and has no functional impact. | 5.5.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3419928"></a> [3419928](#3419928) <a name="3419928"></a> <br /> | The NVUE PIM timer command option names <code>keep-alive</code> and <code>rp-keep-alive</code> are inconsistent and need to change to  <code>keepalive</code> and <code>rp-keepalive</code>. | 5.4.0-5.6.0 | 5.7.0|
| <a name="3413785"></a> [3413785](#3413785) <a name="3413785"></a> <br /> | To reach the TACACS+ server through the default VRF, you must specify the egress interface you use in the default VRF. Either run the NVUE <code>nv set system aaa tacacs vrf <interface></code> command (for example, <code>nv set system aaa tacacs vrf swp51</code>) or set the <code>vrf=<interface></code> option in the <code>/etc/tacplus_servers</code> file (for example, <code>vrf=swp51</code>). A similar issue might prevent TACACS+ users with privilege level 15 from using <code>sudo</code> if the TACACS+ server is reachable only on the <code>default</code> VRF.  If this occurs, and you do not run the above configuration workaround, the TACACS+ user with privilege level 15 can use <code>vrf task exec default sudo ...</code> to execute the <code>sudo</code> command using the TACACS+ server on the <code>default</code> VRF. | 5.0.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3405024"></a> [3405024](#3405024) <a name="3405024"></a> <br /> | You cannot remove PBR map configuration with source and destination rules. To work around this issue, delete the entire PBR map clause. | 5.5.0-5.6.0 | 5.7.0|
| <a name="3394674"></a> [3394674](#3394674) <a name="3394674"></a> <br /> | If you restart FRR with the log file debugging level set to <code>informational</code>, BGP crashes. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3378733"></a> [3378733](#3378733) <a name="3378733"></a> <br /> | After you add or delete a static MAC entry on the bridge FDB, a core dump occurs if the interface is VXLAN and the MAC address is 00:00:00:00:00:00. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3368217"></a> [3368217](#3368217) <a name="3368217"></a> <br />None | When daylight saving time changes, the MLAG <code>initDelay</code> timer resets and all MLAG bonds go down. | 4.4.4-4.4.5, 5.2.1-5.7.0 | |
| <a name="3362113"></a> [3362113](#3362113) <a name="3362113"></a> <br /> | If you restore an NVUE <code>startup.yaml</code> file after upgrade that includes breakout ports with QoS configuration or you run the <code>nv config patch</code> command to update a configuration with a <code>yaml</code> file that includes breakout ports with QoS configuration, the NVUE configuration fails to apply. Subsequent attempts to run <code>nv config apply</code> fail with a message similar to <code>Invalid config &#91;rev_id: 11&#93; qos config is not supported on the following invalid interface: swp1s0. Supported on swp and bond interface types</code>. To work around this issue, run <code>nv unset</code> on the configured QoS settings, then apply the breakout port configuration before you configure QoS. Alternatively, you can remove the QoS configuration from the <code>yaml</code> file and patch it separately after applying the breakout configuration. | 5.4.0-5.7.0 | |
| <a name="3350027"></a> [3350027](#3350027) <a name="3350027"></a> <br /> | If you uninstall dynamic NAT rules and <code>switchd</code> restarts before all the dynamic NAT flows age out and are deleted, you might see dynamic flow deletion errors in <code>switchd.log</code>. These errors do not affect new dynamic NAT flows from new NAT rules. | 5.4.0-5.7.0 | |
| <a name="3347677"></a> [3347677](#3347677) <a name="3347677"></a> <br /> | In an MLAG configuration, when a link failure occurs on the peerlink or the peerlink shuts down, the switch in the secondary role attracts traffic to its local VTEP as it advertises the local VTEP IP address momentarily just before the VXLAN device is protodown. This traffic is dropped for a brief moment (between 5 and 10 seconds) because the MLAG bonds on the secondary switch are already protodown. | 5.1.0-5.6.0 | 5.7.0|
| <a name="3347538"></a> [3347538](#3347538) <a name="3347538"></a> <br /> | When connecting NVIDIA-to-NVIDIA in PAM4, you must enable auto-negotiation. | 5.4.0-5.7.0 | |
| <a name="3345054"></a> [3345054](#3345054) <a name="3345054"></a> <br /> | The NVUE <code>nv show interface <interface> qos</code> command takes a significant time to show output or times out. To work around this issue, use specific QoS commands. For example, to show congestion control information, run the <code>nv show interface <interface> qos congestion-control</code> command. | 5.4.0-5.7.0 | |
| <a name="3344846"></a> [3344846](#3344846) <a name="3344846"></a> <br /> | The Spectrum-3 hardware configuration is not optimized for the best PTP accuracy when using 25GbE.  You might see higher than expected PTP offsets on this platforms and interface speed. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3341214"></a> [3341214](#3341214) <a name="3341214"></a> <br /> | If you use the NVUE REST API to configure a local user with a hashed password, the user cannot log in and the <code>/etc/nvue.d/startup.yaml</code> file shows the password as plain text. | 5.4.0-5.7.0 | |
| <a name="3336808"></a> [3336808](#3336808) <a name="3336808"></a> <br /> | If you run the NVUE <code>nv set interface <interface> description</code> command without providing a description, the <code>nv config apply</code> command fails with the error <code>Unable to restart services (ifreload-nvue.service)</code>. | 5.4.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3334275"></a> [3334275](#3334275) <a name="3334275"></a> <br /> | When you run the <code>sensors</code> command, the output shows an erroneous fault on some front panel ports. | 5.2.0-5.7.0 | |
| <a name="3329518"></a> [3329518](#3329518) <a name="3329518"></a> <br /> | When using TACACS+, if the <code>/etc/nsswitch.conf</code> file specifies <code>passwd: files tacplus</code> (files is listed before tacplus), a user that is present in both the local <code>/etc/passwd</code> file and the TACACS+ server cannot log into the switch. NVIDIA recommends that when using TACACS+, you list <code>tacplus</code> before <code>files</code> in <code>/etc/nsswitch.conf</code>.  When using NVUE, ensure that <code>tacacs</code> has priority over <code>local</code>. | 5.4.0-5.7.0 | |
| <a name="3327477"></a> [3327477](#3327477) <a name="3327477"></a> <br /> | If you use <code>su</code> to change to a user specified through TACACS+, the user becomes the local tacacs0 thru tacacs15 user instead of the named user to run <code>sudo</code> commands. As a result, the named user password might not match the local tacacs0 thru tacacs15 user password. | 3.7.0-3.7.16, 4.0.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="3326659"></a> [3326659](#3326659) <a name="3326659"></a> <br /> | If you have a large number of MAC addresses, they do not age out at the MAC ageing timeout value configured on the switch. It might take up to 30 seconds more for the MAC addresses to age out and be deleted from the hardware. To work around this issue, wait for the ageing timeout value plus 30 seconds to allow for the MAC addresses to age out and be deleted from the hardware. | 5.4.0-5.7.0 | |
| <a name="3293114"></a> [3293114](#3293114) <a name="3293114"></a> <br /> | In Cumulus Linux 5.4 and earlier, the command to enable Neighbor Discovery (ND) router advertisement is inverted and causes confusion; <code>nv set interface <interface> ip neighbor-discovery router-advertisement enable off</code>. In Cumulus Linux 5.5 and later, the command to enable router advertisement is updated to <code>nv set interface <interface> ip neighbor-discovery router-advertisement enable on</code>.  | 5.3.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3266197"></a> [3266197](#3266197) <a name="3266197"></a> <br /> | When you disable BGP globally with the <code>nv set router bgp enable off</code> command, applying the configuration with NVUE might fail due to an FRR reload failure. | 5.2.0-5.6.0 | 5.7.0|
| <a name="3264269"></a> [3264269](#3264269) <a name="3264269"></a> <br /> | When you change the BGP router ID that causes a change to an EVPN VNI RD, EVPN EAD-per-EVI routes are not updated properly. | 5.3.0-5.6.0 | 5.7.0|
| <a name="3258232"></a> [3258232](#3258232) <a name="3258232"></a> <br /> | If you use NVUE to configure multiple SNMP listener addresses at the same time, the SNMP service fails to start. To work around this issue, configure multiple SNMP listener addresses one at a time. | 5.3.0-5.6.0 | 5.7.0|
| <a name="3241567"></a> [3241567](#3241567) <a name="3241567"></a> <br /> | When you apply switch configuration for the first time on a freshly booted switch and you run the <code>nv config apply</code> command after setting the hostname with <code>nv set system hostname</code>, you might see the error message <code>Failed to start Hostname Service</code>. To work around this issue, run the <code>nv config apply</code> command a second time. | 5.3.0-5.7.0 | |
| <a name="3232091"></a> [3232091](#3232091) <a name="3232091"></a> <br /> | The NVUE <code>nv unset interface <interface> link lanes</code> command does not restore the port lane setting to the default value. To work around this issue, run the <code>nv set interface <interface> link lanes <value></code> command. | 5.4.0-5.6.0 | 5.7.0|
| <a name="3226506"></a> [3226506](#3226506) <a name="3226506"></a> <br /> | The <code>l1-show eth0</code> command does not show port information and is not supported in this release.  | 5.3.0-5.7.0 | |
| <a name="3221628"></a> [3221628](#3221628) <a name="3221628"></a> <br /> | Cumulus Linux VX images might include an incorrect entry at the end of <code>/etc/apt/sources.list</code>, which produces warnings when you run <code>apt update</code>. Remove this entry to avoid these warnings. | 5.2.0-5.6.0 | 5.7.0|
| <a name="3187469"></a> [3187469](#3187469) <a name="3187469"></a> <br /> | At high scale with 160 VRFs and 10 VLANs per VRF (a total of 1600 VLANs), you see traffic loss during primary switch reboot. To work around this issue, reduce the scale to 40 VRFs with no more than 400 VLANs in the configuration, and use a common MAC address. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3178090"></a> [3178090](#3178090) <a name="3178090"></a> <br /> | The <code>cl-support</code> generation script causes TC filter collection to run as a background process for each interface, which can lead to memory exhaustion on a high scale configuration and on a switch with a small memory footprint. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3172682"></a> [3172682](#3172682) <a name="3172682"></a> <br /> | On rare occasions, when you query the system hostname through the <code>hostnamctl</code> application, you see a timeout. NVUE uses the <code>hostnamctl</code> application to determine the system hostname, which can result in an <code>nv config apply</code> command failure. | 5.2.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3172504"></a> [3172504](#3172504) <a name="3172504"></a> <br /> | When you connect the NVIDIA SN4600C switch to a Spectrum 1 or Spectrum-3 switch with a 40GbE passive copper cable (Part Number: MC2210126-005) on edge ports 1-4 and 61-64, there is an Effective BER of 1E-12 in PHY. | 5.2.0-5.7.0 | |
| <a name="3147782"></a> [3147782](#3147782) <a name="3147782"></a> <br /> | You cannot use NVUE to configure an SNMP view to include a subtree beginning with a period. For example:<pre>cumulus&#64;switch:~$ nv set service snmp-server viewname cumulusOnly included .1.3.6.1.4.1.40310Error: GET /nvue_v1/service/snmp-server/viewname/cumulusOnly/included?pointers=%5B%22%2Fparameters%22%2C+%22%2Fpatch%2FrequestBody%2Fcontent%2Fapplication~1json%2Fschema%22%2C+%22%2Fpatch%2Fparameters%22%2C+%22%2Fpatch%2Fresponses%2F200%2Flinks%22%5D responded with 404 NOT FOUND</pre>To work around this issue, reference the OID without the preceding period ( <code>.</code> ) in the command. | 5.3.0-5.7.0 | |
| <a name="3145869"></a> [3145869](#3145869) <a name="3145869"></a> <br /> | On a Spectrum-3 switch, the PTP offset in 10GbE changes between +-27. The average offset is around 7. | 5.2.0-5.7.0 | |
| <a name="3141826"></a> [3141826](#3141826) <a name="3141826"></a> <br /> | A slow memory leak (~5KB over 24 hour period at a 60 second polling interval) might occur in SNMP when you walk the following system MIB objects (1.3.6.1.2.1)<br />1.3.6.1.2.1.47 --> Entity MIB<br />1.3.6.1.2.1.99 --> Entity Sensor MIB<br />1.3.6.1.2.1.23 --> rip2<br />1.3.6.1.2.1.2 --> interface/interfaces<br />1.3.6.1.2.1.31 --> ifMIB<br />1.3.6.1.2.1.4 --> IP<br />1.3.6.1.2.1.25 --> hostResource | 5.0.1-5.6.0 | 5.7.0|
| <a name="3135952"></a> [3135952](#3135952) <a name="3135952"></a> <br /> | PAM4 split cables (such as 2x100G, 4x100G, and 4x50G) do not work with a forced speed setting (when auto-negotiation is off) as the default speed enabled is for NRZ mode (such as 100G_4X). To work around this issue,  set the appropriate lanes for forced speed (with auto-negotation off) with the <code>ethtool -s swpX speed <port_speed> autoneg off lanes <no_of_lanes></code> command. For example: <pre>cumulus&#64;switch:~$ sudo ethtool -s swp1 speed 100000 autoneg off lanes 2</pre> | 5.2.0-5.7.0 | |
| <a name="3122301"></a> [3122301](#3122301) <a name="3122301"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.7.0 | |
| <a name="3115242"></a> [3115242](#3115242) <a name="3115242"></a> <br /> | When you configure two VNIs in the same VLAN, ifupdown2  shows a <code>vlan added to two or more VXLANS</code> warning, which is only issued after the VNI is already added to the bridge. This leaves the new VNI in the PVID even if there is already an existing VNI configured in that PVID. | 5.1.0-5.7.0 | |
| <a name="3103821"></a> [3103821](#3103821) <a name="3103821"></a> <br /> | On the NVIDIA SN4700 switch, inserting and removing the PSU might cause loss of frames. | 5.2.0-5.7.0 | |
| <a name="3084476"></a> [3084476](#3084476) <a name="3084476"></a> <br /> | The default QOS traffic shaping configuration does not restore after you disable traffic shaping in the <code>/etc/cumulus/datapath/qos/qos_features.conf</code> file. To work around this issue, restart <code>switchd</code>. | 4.4.3, 5.0.0-5.7.0 | 4.4.4-4.4.5|
| <a name="3084027"></a> [3084027](#3084027) <a name="3084027"></a> <br /> | Under a high load, you might see ingress drop counters increase. The drops are classified as <code>HwIfInDiscards</code> in ethtool and shown as <code>ingress_general</code> in hardware. | 4.3.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="3071652"></a> [3071652](#3071652) <a name="3071652"></a> <br /> | On rare occasions, after you reboot or restart <code>switchd</code> on a Spectrum 1 switch, any 25G connections with Direct Attach Copper (DAC) cables that connect from the switch to a non-NVIDIA device might flap continuously. To work around this issue, bring the affected link administratively down for a few seconds on the non-NVIDIA device, then bring the link back up. | 4.4.4-4.4.5, 5.1.0-5.7.0 | |
| <a name="3069069"></a> [3069069](#3069069) <a name="3069069"></a> <br /> | When you run the <code>systemctl reload switchd</code> command, there is momentary traffic loss after a port configured with lossless buffers goes down. This is only temporary and the traffic stabilizes after the initial drops. | 5.1.0-5.5.1 | 5.6.0-5.7.0|
| <a name="3061656"></a> [3061656](#3061656) <a name="3061656"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.7.0 | |
| <a name="3053094"></a> [3053094](#3053094) <a name="3053094"></a> <br /> | When the CPU load is high during a warm boot, bonds with a slow LACP rate fail to forward layer 2 traffic for up to 60 seconds (depending on the duration of the CPU load) and static bonds fail to forward layer 2 traffic for up to 5 seconds. | 5.1.0-5.7.0 | |
| <a name="2972540"></a> [2972540](#2972540) <a name="2972540"></a> <br /> | With RADIUS enabled for user shell authentication, there might be a delay in local user authentication for non cumulus user accounts. | 5.0.0-5.7.0 | |
| <a name="2964279"></a> [2964279](#2964279) <a name="2964279"></a> <br /> | When a VNI flaps, an incorrect list of layer 2 VNIs are associated with a layer 3 VNI. The NCLU <code>net show evpn vni detail</code> command output shows duplicate layer 2 VNIs under a layer 3 VNI.  | 3.7.15, 4.4.2-4.4.5, 5.0.0-5.7.0 | 3.7.16|
| <a name="2951110"></a> [2951110](#2951110) <a name="2951110"></a> <br /> | The <code>net show time ntp servers</code> command does not show any output with the management VRF. | 3.7.15-3.7.16, 4.1.1-4.4.5, 5.0.0-5.7.0 | |
| <a name="2904450"></a> [2904450](#2904450) <a name="2904450"></a> <br /> | When you run the <code>ethtool -m</code> or the <code>l1-show</code> command, the 400G interface optical values do not show.  | 4.4.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="2891255"></a> [2891255](#2891255) <a name="2891255"></a> <br /> | CVE-2021-39925: Buffer overflow in the Bluetooth SDP dissector in Wireshark 3.4.0 to 3.4.9 and 3.2.0 to 3.2.17 allows denial of service via packet injection or crafted capture file.<br>Vulnerable: <= 2.6.20-0+deb10u1<br>Fixed: 2.6.20-0+deb10u2 | 4.0.0-4.4.1, 5.0.0-5.7.0 | 4.4.2-4.4.5|
| <a name="2890681"></a> [2890681](#2890681) <a name="2890681"></a> <br /> | CVE-2021-42771: relative path traversal in Babel, a set of tools for internationalising Python applications, could result in the execution of arbitrary code<br />Vulnerable: 2.6.0+dfsg.1-1Fixed: 2.6.0+dfsg.1-1+deb10u1 | 4.0.0-4.4.1, 5.0.0-5.7.0 | 4.4.2-4.4.5|
| <a name="2867042"></a> [2867042](#2867042) <a name="2867042"></a> <br /> | When connecting the NVIDIA SN4600 switch to another NVIDIA Spectrum switch, you must use auto-negotiation mode (not force mode); otherwise the switch might use the wrong Tx configuration. | 5.0.0-5.7.0 | |
| <a name="2847755"></a> [2847755](#2847755) <a name="2847755"></a> <br /> | When you use NCLU to remove the configuration for a peer that is a member of a group but also has other peer-specific configuration, you must remove the peer-specific configuration before you delete the peer in a separate NCLU commit. | 5.0.0-5.7.0 | |
| <a name="2823307"></a> [2823307](#2823307) <a name="2823307"></a> <br /> | Cumuls Linux does not support a bond with more than 64 ports.  Any configuration with more than 64 ports in a bond changes all ports to down when you apply the configuration.  | 5.0.0-5.7.0 | |
| <a name="2736108"></a> [2736108](#2736108) <a name="2736108"></a> <br /> | When you change the VRRP advertisement interval on the master, the <code>master advertisement interval</code> field in the <code>show vrrp</code> command output does not show the updated value. | 4.4.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="2705056"></a> [2705056](#2705056) <a name="2705056"></a> <br /> | When configured with NVUE, SVIs do not inherit the pinned MAC address of the bridge. | 4.3.0, 5.0.0-5.7.0 | 4.3.1-4.4.5|
| <a name="2684925"></a> [2684925](#2684925) <a name="2684925"></a> <br /> | The NVUE <code>nv show vrf default router bgp peer</code> command produces a 404 not found error. | 4.4.0-4.4.5, 5.0.0-5.7.0 | |
| <a name="2671652"></a> [2671652](#2671652) <a name="2671652"></a> <br /> | In VXLAN routing environments, you might experience sub-optimal route convergence delays (greater than five seconds) when a prefix transitions to a new ECMP next-hop group. This condition might occur when a VTEP loses ECMP routes through all uplink peerings, then installs the routes through a different path, such as an MLAG peerlink. | 4.4.0-4.4.5, 5.5.0-5.7.0 | |
| <a name="2543915"></a> [2543915](#2543915) <a name="2543915"></a> <br />CM-26301 | When you enable a service in the management VRF, <code>systemctl</code> issues a warning similar to the following:<pre>Warning: The unit file, source configuration file or drop-ins of ntp&#64;mgmt.service changed on disk. Run 'systemctl daemon-reload' to reload unit</pre>You can safely ignore this warning. | 4.0.0-4.4.5, 5.0.0-5.7.0 | |

### Fixed Issues in 5.5.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3562767"></a> [3562767](#3562767) <a name="3562767"></a> <br /> | ACLs do not process inbound DHCP packets and the packets do not contribute to ACL counters | 5.2.0-5.4.0 | |
| <a name="3446455"></a> [3446455](#3446455) <a name="3446455"></a> <br /> | The vtysh <code>show version</code> command shows an incorrect version number; for  example, instead of Cumulus Linux 5.4, the command output shows Cumulus Linux 5.3. | 5.4.0 | |
| <a name="3437980"></a> [3437980](#3437980) <a name="3437980"></a> <br /> | If the number of bonds and its bond members exceeds the total number of physical ports on the switch  and LACP bypass is enabled, <code>switchd</code> might crash when frequent link flaps occur or <code>switchd</code> restarts. To work around this issue, disable LACP bypass. | 5.4.0 | |
| <a name="3434791"></a> [3434791](#3434791) <a name="3434791"></a> <br /> | Changing the <code>ebgp-multihop</code> setting for a BGP peer always resets the peer, even if the configured TTL value matches the existing TTL value of the peer. | 5.3.1-5.4.0 | |
| <a name="3432897"></a> [3432897](#3432897) <a name="3432897"></a> <br /> | When you remove the restriction from a TACACS+ mapped user to remove per command authorization, the <code>tacplus-restrict -R</code> command does not restore ownership of restored files correctly. As a result, some commands might fail due to permission errors in the files or directories under the home directory. To work around this issue, run the <code>sudo chown</code> command  to correct the ownership of the affected files and directories. | 5.0.0-5.4.0 | |
| <a name="3429530"></a> [3429530](#3429530) <a name="3429530"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, multiple interfaces (in the same PLL quarter) might flap intermittently at the same time. | 4.2.1-5.4.0 | |
| <a name="3418103"></a> [3418103](#3418103) <a name="3418103"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch, if you use module SPQCELRCDFB when connected to a 3rd party switch, you might see no link or a very long link up time (around two minutes). To work around this issue, bring down the port, then bring it back up. | 5.4.0 | |
| <a name="3413860"></a> [3413860](#3413860) <a name="3413860"></a> <br />None | If MLAG is configured but disconnected from an MLAG peer for an extended period of time (days or more), there is a long delay (up to a minute per day) before traffic forwarding stabilizes after the MLAG peer connection re-establishes. | 3.7.0-4.3.1 | |
| <a name="3413827"></a> [3413827](#3413827) <a name="3413827"></a> <br />None | During upgrade, when one MLAG node is upgraded and the other MLAG node is not yet upgraded, permanent neighbors cannot synchronize between MLAG nodes. The <code>clagctl dumppermanentneighs</code> command only shows local neighbors. | 5.0.0-5.4.0 | |
| <a name="3412357"></a> [3412357](#3412357) <a name="3412357"></a> <br /> | When you configure EVPN either with or without MLAG and change the mapping for a layer 2 or layer 3 VNI, you see a permanent traffic drop for the VNI. To work around this issue, remove the VNI configuration, then add and apply it again. |  | |
| <a name="3410303"></a> [3410303](#3410303) <a name="3410303"></a> <br /> | The NVUE command to set the frequency of LLDP updates <code>nv set service lldp tx-interval</code> and the NVUE command to set the amount of time to hold the information before discarding it <code>nv set service lldp tx-hold-multiplier</code> do not provide reasonable maximum and minimum values. Cumulus Linux 5.5.0 and later provides new values. For the <code>nv set service lldp tx-interval</code> command, you can now set a minimum value of 5 and a maximum value of 32768. For the <code>nv set service lldp tx-hold</code> command, you can set a minimum value of 1 and a maximum value of 8192. | 5.4.0 | |
| <a name="3409223"></a> [3409223](#3409223) <a name="3409223"></a> <br /> | NGNIX might be listening on port 80 through its default configuration in <code>/etc/nginx/sites-enabled/default</code>. To work around this issue, run the following commands:<pre> cumulus&#64;switch:~$ sudo rm -f /etc/nginx/sites-enabled/defaultcumulus&#64;switch:~$ systemctl is-active nginx && sudo invoke-rc.d nginx restart</pre> | 5.4.0 | |
| <a name="3402935"></a> [3402935](#3402935) <a name="3402935"></a> <br />None | For layer 3 interfaces configured on the switch, certain triggers, such as port flaps and subinterface flaps, or when configuring the ports to and from layer 2 and layer 3, cause the dummy internal VLAN to not free up, which can result in exhaustion of the dummy internal VLANs designated for the layer 3 interfaces. When this occurs, you see the following <code>switchd</code> log messages:<pre>ERR dummy internal vlans exhaustedERR cannot allocate vlan for sub-interface</pre> | 5.0.0-5.4.0 | |
| <a name="3397649"></a> [3397649](#3397649) <a name="3397649"></a> <br /> | When an ECMP route is present in a non-default VRF, resilient hashing does not work as expected and flows might get remapped to a new next hop when the set of nexthops changes. | 5.4.0 | |
| <a name="3395247"></a> [3395247](#3395247) <a name="3395247"></a> <br /> | The NVUE <code>nv show system forwarding profile-option</code> command reports an incorrect <code>Max ipv4 mcast routes</code> value. To work around this issue, validate values with <code>cl-resource-query</code>. | 5.4.0 | |
| <a name="3393866"></a> [3393866](#3393866) <a name="3393866"></a> <br /> | On a VX, NVUE commands with an argument parameter that can be multiple types (such as IPv4 and IPv6) do not provide auto complete or additional options when you use a question mark. | 5.4.0 | |
| <a name="3393306"></a> [3393306](#3393306) <a name="3393306"></a> <br /> | The <code>python-netaddr</code> package is not preinstalled on the switch, which leads to an error similar to the following when SNMP accesses data from the CUMULUS-BGPVRF-MIB<br /><pre>CUMULUS-BGPVRF-MIB::bgpPeerFsmEstablishedTransitions = No Such Instance currently exists at this OID</pre>To work around this issue, manually install the <code>python-netaddr</code> package with the <code>sudo -E apt-get install python-netaddr</code> command. | 5.3.1-5.4.0 | |
| <a name="3390758"></a> [3390758](#3390758) <a name="3390758"></a> <br /> | The <code>neighmgrd</code> service does not enable the snooper unless ARP suppression is enabled on at least one VXLAN interface. This can result in missing ARP and NDP entries if the host does not directly interact with the switch. | 5.3.1-5.4.0 | |
| <a name="3389198"></a> [3389198](#3389198) <a name="3389198"></a> <br /> | The NVUE <code>nv unset</code> command does not completely remove IPv6 DNS server configuration<br /> | 5.3.1-5.4.0 | |
| <a name="3388201"></a> [3388201](#3388201) <a name="3388201"></a> <br /> | Cumulus Linux does not let you add an interface to the bond interface when the <code>bridge-allow-untagged no</code> option is present. | 5.4.0 | |
| <a name="3388067"></a> [3388067](#3388067) <a name="3388067"></a> <br /> | TACACS+ packages in the local <code>apt</code> repository might be out of date; as a result, the upgrade does not install tacacs0 through tacacs15 users in the correct NVUE groups. When you run NVUE commands as a TACACS+ user, the commands fail and you see the error <code>You do not have permission to execute that command</code><br />To obtain the correct packages, install the <code>tacplus-client</code> package and its dependencies from <code>apt.cumulusnetworks.com</code>. | 5.1.0-5.4.0 | |
| <a name="3379873"></a> [3379873](#3379873) <a name="3379873"></a> <br /> | <code>apt source linux</code> fails to download the Linux kernel source code.  To work around this issue, run the <code>sudo apt update && sudo apt install linux-source-5.10</code> command or download the desired version from <code>https://apt.cumulusnetworks.com/repo/pool/cumulus/l/linux/</code> and install it with the <code>sudo dpkg -i $filename</code> command.  The source code in a <code>tar.xz</code> file will then be located in the <code>/usr/src/</code> directory. | 5.2.0-5.4.0 | |
| <a name="3378838"></a> [3378838](#3378838) <a name="3378838"></a> <br /> | When configuring PTP, NVUE does not use the PTP priority2 setting but uses the priority1 setting instead. | 5.4.0 | |
| <a name="3375047"></a> [3375047](#3375047) <a name="3375047"></a> <br /> | If you run the NVUE <code>nv set service snmp-server readonly-community</code> command to set an SNMP V2 trap community string that includes fewer than eight characters,  the configuration fails.  The SNMP V2 trap community string must include eight or more characters. | 5.4.0 | |
| <a name="3361904"></a> [3361904](#3361904) <a name="3361904"></a> <br /> | The NVUE PTP shaping commands are available in the NVUE command list; however, these commands are disabled and do not configure PTP shaping. PTP shaping is not supported in Cumulus Linux 5.4. | 5.4.0 | |
| <a name="3351941"></a> [3351941](#3351941) <a name="3351941"></a> <br /> | Cumulus Linux 5.4 package upgrade (<code>apt-upgrade</code>) does not support warm restart to complete the upgrade; performing an unsupported upgrade can result in unexpected or undesirable behavior, such as a traffic outage. | 5.4.0 | |
| <a name="3350789"></a> [3350789](#3350789) <a name="3350789"></a> <br /> | NVUE deprecated the port split command options (2x10G, 2x25G, 2x40G, 2x50G, 2x100G, 2x200G, 4x10G, 4x25G, 4x50G, 4x100G, 8x50G) with no backwards compatibility. | 5.0.0-5.4.0 | |
| <a name="3350061"></a> [3350061](#3350061) <a name="3350061"></a> <br /> | If you use TACACS+ authentication, modifying the TACACS+ configuration with NVUE might result in a timeout error when you run the <code>nv config apply</code> command. To work around the issue, restart the <code>nvued</code> service with the <code>sudo systemctl restart nvued.service</code> command, then apply the configuration again. | 5.4.0 | |
| <a name="3349533"></a> [3349533](#3349533) <a name="3349533"></a> <br /> | On the Spectrum-2 and Spectrum-3 switch with ports operating at 1G speed, there is loss of frames that have an odd or random frame size. In the frame size range of 75 to 1000 bytes, there is frame loss of less than approximately one percent for all odd or random frame sizes in the range. In the frame size range greater than 1000 bytes, there is no loss observed. | 5.4.0 | |
| <a name="3349207"></a> [3349207](#3349207) <a name="3349207"></a> <br /> | The switch does not learn MAC addresses from DHCP packets. When a DHCP enabled host is plugged in for the first time, it tries to obtain an IP address through DHCP. The switch  does not learn the MAC address of the host when it receives these DHCP packets; therefore, the host MAC address is not updated in the local forwarding database and it does not get advertised across EVPN. The switch learns the MAC address when it receives other packets, such as ARP or ND from the host. To work around this issue, either configure a temporary IP address on the host to initiate ARP/ND or enable IPv6, which sends ND after link local address creation. | 5.2.0-5.4.0 | |
| <a name="3340890"></a> [3340890](#3340890) <a name="3340890"></a> <br /> | When you run the NVUE <code>nv show interface <interface></code> command, you see an error similar to the following:<pre>Error: GET /nvue_v1/interface/swp45?rev=operational responded with 500 INTERNAL SERVER ERROR</pre> | 5.3.0-5.4.0 | |
| <a name="3339278"></a> [3339278](#3339278) <a name="3339278"></a> <br /> | When you use the NVUE REST API with a TACACS+ user account, you see authentication failures.  To work around this issue, replace the <code>/etc/pam.d/nvueapi</code> file with the following content:<pre>&#64;include common-auth&#64;include common-account&#64;include common-session-noninteractive</pre>After you replace the content, run these two commands:<pre>cumulus&#64;switch:~$ sudo chown root:shadow /run/tacacs_client_map</pre><pre>cumulus&#64;switch:~$ sudo chmod 0664 /run/tacacs_client_map</pre> | 5.4.0 | |
| <a name="3329494"></a> [3329494](#3329494) <a name="3329494"></a> <br /> | Ethtool <code>HwIfInDot3FrameErrors</code> (Rx FCS Errors) might lead to an incorrect and very large <code>HwIfInErrors</code> count. To work around this issue, stop the source of the FCS errors, then reset the interface counters. First, run the <code>sudo mst status</code> command to find the device, then run the <code>sudo mlxlink -d <device> -p <port_number> -pc</code> command to reset the interface counters; for example, <code>sudo mlxlink -d /dev/mst/mt53104_pciconf0 -p 39 -pc</code>. | 5.3.1-5.4.0 | |
| <a name="3293560"></a> [3293560](#3293560) <a name="3293560"></a> <br /> | If you run NVUE commands to break out a port into four interfaces, NVUE disables the subsequent port automatically. However, if you run NVUE commands to break out a port into eight interfaces, NVUE does not disable the subsequent port automatically; you have to run the NVUE command to disable the subsequent port. | 5.4.0 | |
| <a name="3234814"></a> [3234814](#3234814) <a name="3234814"></a> <br /> | With double tagged QinQ interfaces, if the bridge corresponding to the QinQ interface flaps, you might see invalid learning notifications and errors from similar to the following:<pre>Can't set non-static MAC address for non-vPort 0x0001006B when VID is VFID. </pre> | 5.3.0-5.4.0 | |
| <a name="3145204"></a> [3145204](#3145204) <a name="3145204"></a> <br /> | On the NVIDIA Spectrum-1 switch, the <code>nv show system forwarding</code> command shows GTP hashing  output, which is not supported on this switch. | 5.2.0-5.4.0 | |
| <a name="3144740"></a> [3144740](#3144740) <a name="3144740"></a> <br /> | The <code>/var/lib/snmp/snmpd.conf</code> file contains multiple <code>Warning: Unknown token: ifXTable</code> messages. To avoid these warnings, add the <code>-noTokenWarnings</code> option to the SNMPDOPTS variable in the <code>/etc/defaults/snmpd</code> file, then restart the <code>snmpd</code> service. | 5.2.0-5.4.0 | |
| <a name="3142615"></a> [3142615](#3142615) <a name="3142615"></a> <br /> | The <code>BGP4-MIB.txt</code> file is missing from Net-SNMP agent. | 5.0.0-5.4.0 | |
| <a name="3055283"></a> [3055283](#3055283) <a name="3055283"></a> <br /> | After you run Linux commands to enable a custom ECMP or LAG hash parameter,  if you set the <code>hash_config.enable</code> or <code>lag_hash_config.enable</code> parameter to <code>false</code>, the custom parameters do not restore their default values. To work around this issue, change the custom ECMP or LAG hash parameters to their default values manually. | 5.1.0-5.4.0 | |
| <a name="3045310"></a> [3045310](#3045310) <a name="3045310"></a> <br /> | If GTP Hashing is set to <code>true</code>, after more than two warm boots, <code>switchd</code> fails and a cl-support file is generated. | 5.1.0-5.4.0 | |
| <a name="3034435"></a> [3034435](#3034435) <a name="3034435"></a> <br /> | In an MLAG EVPN deployment when either of the MLAG peers reboots, FRR incorrectly programs the local host entries in the ARP table as remote. To work around this issue, either restart FRR or use BGP policies to mark and drop routes within an MLAG pair. Both MLAG peers must have an outbound policy that add a community representing the unique MLAG pair to Type-2 EVPN routes and an inbound policy to match and drop that community. | 4.4.4-5.4.0 | |

