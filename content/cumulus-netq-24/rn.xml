<tables>
<table name="Open Issues in 2.4.1">
<tr>
<th> Issue ID </th>
<th> Description </th>
<th> Affects </th>
<th> Fixed </th>
</tr>
<tr>
<td>2893000</td>
<td>CVE-2021-44228: Apache Log4j2 &lt;=2.14.1 JNDI features used in configuration, log messages, and parameters do not protect against attacker controlled LDAP and other JNDI related endpoints.</td>
<td>2.4.0-4.0.1</td>
<td>4.1.0-4.7.0</td>
</tr>
<tr>
<td>2551641</td>
<td>Infra: NetQ VM installation fails if the designated disk size is greater than 2TB. To work around this issue, specify the disk for cloud deployments to be between 256GB and 2TB SSD, and for on-premises deployments to be between 32 GB and 2TB.</td>
<td>2.4.0-3.1.1</td>
<td>3.2.0-3.3.1</td>
</tr>
<tr>
<td>2549246</td>
<td>NetQ UI: Snapshot comparison cards may not render correctly after navigating away from a workbench and then returning to it. If you are viewing the Snapshot comparison card(s) on a custom workbench, refresh the page to reload the data. If you are viewing it on the Cumulus Default workbench, after refreshing the page you must recreate the comparison(s).</td>
<td>2.4.0-3.2.1</td>
<td>3.3.0-3.3.1</td>
</tr>
<tr>
<td>2548560</td>
<td>When a switch or host reports its memory size in GB rather than MB, the NetQ Agent cannot parse the information and thus fails to register with the NetQ server. Contact customer support if you run into this issue.</td>
<td>2.4.0-2.4.1</td>
<td>3.0.0-3.3.1</td>
</tr>
<tr>
<td>2547642</td>
<td>Admin UI: If the Master Installation phase fails during NetQ installation, refreshing the page causes the error log to be lost. On failure, download the error log, then run {{netq bootstrap reset}} followed by {{netq bootstrap master interface}} on the node before restarting the installation process.</td>
<td>2.4.1-3.0.1</td>
<td>3.1.0-3.3.1</td>
</tr>
</table>
<table name="Fixed Issues in 2.4.1">
<tr>
<th> Issue ID </th>
<th> Description </th>
<th> Affects </th>
</tr>
<tr>
<td>2546397</td>
<td>NetQ Admin UI: When installing NetQ with the Admin UI, the job status is presented to show progress. However, when an error is encountered while running individual tasks, the UI may feel unresponsive. Please wait for at least 15 minutes to receive a response.</td>
<td>2.4.0</td>
</tr>
<tr>
<td>2545685</td>
<td>NetQ UI: On medium- and large-sized Scheduled Trace cards, the destination field does not accept IPv6 addresses. They are reported as invalid destination IP addresses. The source field on these cards accepts IPv6 addresses.</td>
<td>2.3.1-2.4.0</td>
</tr>
<tr>
<td>2545119</td>
<td>NetQ UI and CLI: EVPN failure details do not appear in the full screen EVPN Service card or when running &apos;netq show validation results type evpn&apos; in the NetQ CLI, even though the EVPN failure is seen on validation.</td>
<td>2.3.1-2.4.0</td>
</tr>
</table>
<table name="Open Issues in 2.4.0">
<tr>
<th> Issue ID </th>
<th> Description </th>
<th> Affects </th>
<th> Fixed </th>
</tr>
<tr>
<td>2893000</td>
<td>CVE-2021-44228: Apache Log4j2 &lt;=2.14.1 JNDI features used in configuration, log messages, and parameters do not protect against attacker controlled LDAP and other JNDI related endpoints.</td>
<td>2.4.0-4.0.1</td>
<td>4.1.0-4.7.0</td>
</tr>
<tr>
<td>2551641</td>
<td>Infra: NetQ VM installation fails if the designated disk size is greater than 2TB. To work around this issue, specify the disk for cloud deployments to be between 256GB and 2TB SSD, and for on-premises deployments to be between 32 GB and 2TB.</td>
<td>2.4.0-3.1.1</td>
<td>3.2.0-3.3.1</td>
</tr>
<tr>
<td>2549246</td>
<td>NetQ UI: Snapshot comparison cards may not render correctly after navigating away from a workbench and then returning to it. If you are viewing the Snapshot comparison card(s) on a custom workbench, refresh the page to reload the data. If you are viewing it on the Cumulus Default workbench, after refreshing the page you must recreate the comparison(s).</td>
<td>2.4.0-3.2.1</td>
<td>3.3.0-3.3.1</td>
</tr>
<tr>
<td>2548560</td>
<td>When a switch or host reports its memory size in GB rather than MB, the NetQ Agent cannot parse the information and thus fails to register with the NetQ server. Contact customer support if you run into this issue.</td>
<td>2.4.0-2.4.1</td>
<td>3.0.0-3.3.1</td>
</tr>
<tr>
<td>2546397</td>
<td>NetQ Admin UI: When installing NetQ with the Admin UI, the job status is presented to show progress. However, when an error is encountered while running individual tasks, the UI may feel unresponsive. Please wait for at least 15 minutes to receive a response.</td>
<td>2.4.0</td>
<td>2.4.1</td>
</tr>
<tr>
<td>2545685</td>
<td>NetQ UI: On medium- and large-sized Scheduled Trace cards, the destination field does not accept IPv6 addresses. They are reported as invalid destination IP addresses. The source field on these cards accepts IPv6 addresses.</td>
<td>2.3.1-2.4.0</td>
<td>2.4.1</td>
</tr>
<tr>
<td>2545119</td>
<td>NetQ UI and CLI: EVPN failure details do not appear in the full screen EVPN Service card or when running &apos;netq show validation results type evpn&apos; in the NetQ CLI, even though the EVPN failure is seen on validation.</td>
<td>2.3.1-2.4.0</td>
<td>2.4.1</td>
</tr>
</table>
<table name="Fixed Issues in 2.4.0">
<tr>
<th> Issue ID </th>
<th> Description </th>
<th> Affects </th>
</tr>
<tr>
<td>2545622</td>
<td>NetQ UI: This only applies to the NetQ 2.3.1 UI installed on the NetQ Server or NetQ Appliance in on-premises deployments. Cloud deployments are not impacted by this bug. Trace results are not shown after running an on-demand or scheduled trace request in the NetQ UI. The medium Trace Result cards are blank whether the trace was successful or not. The full-screen Trace Result card and the NetQ CLI show the results correctly.
To work around this issue, apply the update to your existing 2.3.1 build as follows:

* Download the update tarball.
If your server or appliance has internet access, use {{wget}} to perform the download. Be sure to use your download directory in place of _/home/cumulus_ indicated in this example.

cumulus@opta:~$ wget http://netq-shared.s3-us-west-2.amazonaws.com/NetQ-2.3.1.1.tgz -O /home/cumulus/NetQ-2.3.1.1.tgz

If your server or appliance is air-gapped, first download the tarball and then, as a root user, copy it to the appropriate directory on your server or appliance.

root@opta:~# cd /mnt/swinstalls/
root@opta:/mnt/swinstalls# cp /home/cumulus/NetQ-2.3.1.1.tgz ./ 

* Extract the script.

cumulus@opta:~$ tar -xvzf /home/cumulus/NetQ-2.3.1.1.tgz update-app.sh

* Run the script. On completion, a new GUI container will be running and the card will display the trace result.

cumulus@opta:~$ ./update-app.sh /home/cumulus/NetQ-2.3.1.1.tgz
Loading the new app
e9b2c1648ab5: Loading layer [==================================================&gt;]  2.048kB/2.048kB
e7acfa3378f4: Loading layer [==================================================&gt;]  20.59MB/20.59MB
...
Loaded image: 498186410471.dkr.ecr.us-west-2.amazonaws.com/netq-gui:2.3.1
Restarting the app with new image
deployment.extensions/netq-gui-deploy scaled
Sleeping for 15 seconds
Confirming the app is running with new image
Found the container running with new image.

* Close and reopen the NetQ UI to run the new image. 
*Note*: You may need to press Cmd+Shift+R to fully clear the cache on the Chrome browser.</td>
<td></td>
</tr>
<tr>
<td>2545549</td>
<td>When you upgrade both the NetQ Agent and the NetQ Apps in on-premises deployments, a temporary increase in event messages is seen. They are the result of collecting package information from the NetQ Agent on each monitored node. This only happens on initial upgrade and there is no functional impact to the operation of the NetQ software.</td>
<td>2.3.1</td>
</tr>
<tr>
<td>2545296</td>
<td>NetQ UI: When a warning occurs during a VXLAN validation, the small, medium, and large VXLAN Scheduled Validation Result cards incorrectly display the text of the warning instead of the Failed icon and text.</td>
<td>2.3.1</td>
</tr>
<tr>
<td>2545113</td>
<td>NetQ UI: When troubleshooting a user may wish to disable auto-refresh so that the data is not changed in the middle of analysis. If auto-refresh causes any state loss on the card of interest, pause the auto-refresh feature by clicking the Refresh icon in the workbench header. When finished with the analysis, re-enable the auto-refresh feature by clicking the Refresh icon again to ensure the card data is always the most recent available.</td>
<td>2.3.1</td>
</tr>
<tr>
<td>2543333</td>
<td>NetQ UI: Trace configuration information is not captured until the trace has been run at least once, leaving the large Trace Result card blank. The schedule information remains missing even after the trace has been run.</td>
<td>2.2.2-2.3.1</td>
</tr>
</table>
</tables>