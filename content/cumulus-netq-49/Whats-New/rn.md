---
title: NVIDIA NetQ 4.9 Release Notes
author: Cumulus Networks
weight: 30
product: Cumulus NetQ
version: "4.9"
toc: 1
type: rn
pdfhidden: True
---
{{<rn_xls_link dir="cumulus-netq-49" >}}
## 4.9.0 Release Notes
### Open Issues in 4.9.0

|  Issue ID 	|   Description	|   Affects	|   Fixed |
|---	        |---	        |---	    |---	                |
| <a name="3820671"></a> [3820671](#3820671) <a name="3820671"></a> <br /> | When you upgrade NetQ cluster deployments with DPUs in the device inventory, the DPUs might not be visible in the NetQ UI after the upgrade. To work around this issue, restart the DTS container on the DPUs in your network. | 4.9.0 | |
| <a name="3819688"></a> [3819688](#3819688) <a name="3819688"></a> <br /> | When you upgrade NetQ cluster deployments, the configured LCM credential profile assigned to switches in the inventory is reset to the default access profile. To work around this issue, reconfigure the correct access profile on switches before managing them with LCM after the upgrade.  | 4.9.0 | |
| <a name="3819364"></a> [3819364](#3819364) <a name="3819364"></a> <br /> | When you attempt to delete a scheduled trace using the NetQ UI, the trace record is not deleted. | 4.7.0-4.9.0 | |
| <a name="3814701"></a> [3814701](#3814701) <a name="3814701"></a> <br /> | After you upgrade NetQ, devices that were in a rotten state before the upgrade might not appear in the UI or CLI after the upgrade. To work around this issue, decommission rotten devices before performing the upgrade. | 4.9.0 | |
| <a name="3813819"></a> [3813819](#3813819) <a name="3813819"></a> <br /> | When you perform a switch discovery by specifying an IP range, an error message is displayed if switches included in the range have different credentials. To work around this issue, batch switches based on their credentials and run a switch discovery for each batch. | 4.9.0 | |
| <a name="3813078"></a> [3813078](#3813078) <a name="3813078"></a> <br /> | When you perform a NetQ upgrade, the upgrade might fail with the following error message:<pre>Command '&#91;'kubectl', 'version --client'&#93;' returned non-zero exit status 1.</pre>To work around this issue, run the <code>netq bootstrap reset keep-db</code> command and then reinstall NetQ using the <code>netq install</code> <a href="https://docs.nvidia.com/networking-ethernet-software/cumulus-netq/More-Documents/NetQ-CLI-Reference-Manual/install/">command for your deployment.</a> | 4.9.0 | |
| <a name="3808200"></a> [3808200](#3808200) <a name="3808200"></a> <br /> | When you perform a <code>netq bootstrap reset</code> on a NetQ cluster VM and perform a fresh install with the <code>netq install</code> command, the install might fail with the following error:<pre> master-node-installer: Running sanity check on cluster_vip: 10.10.10.10 Virtual IP 10.10.10.10 is already used</pre>To work around this issue, run the <code>netq install</code> command again. | 4.9.0 | |
| <a name="3800434"></a> [3800434](#3800434) <a name="3800434"></a> <br /> | When you upgrade NetQ from a version prior to 4.9.0, What Just Happened data that was collected before the upgrade is no longer present. | 4.9.0 | |
| <a name="3798677"></a> [3798677](#3798677) <a name="3798677"></a> <br /> | In a NetQ cluster environment, if your master node goes offline and is restored, subsequent NetQ validations for MLAG and EVPN might unexpectedly indicate failures. To work around this issue, either restart NetQ agents on devices in the inventory or wait up to 24 hours for the issue to clear. | 4.9.0 | |
| <a name="3787946"></a> [3787946](#3787946) <a name="3787946"></a> <br /> | When you install a NetQ cluster deployment on a subnet with other NetQ clusters or other devices using VRRP, there might be connectivity loss to the cluster virtual IP (VIP). The VIP is established using the VRRP protocol, and during cluster installation a virtual router ID (VRID) is selected. If another device on the subnet running VRRP selects the same VRID, connectivity issues may occur. To work around this issue, avoid multiple VRRP speakers on the subnet, or ensure the VRID used on all VRRP devices is unique. To validate the VRID used by NetQ, check the assigned <code>virtual_router_id</code> value in <code>/mnt/keepalived/keepalived.conf</code>. | 4.9.0 | |
| <a name="3773879"></a> [3773879](#3773879) <a name="3773879"></a> <br /> | When you upgrade a switch running Cumulus Linux using NetQ LCM, any configuration files in <code>/etc/cumulus/switchd.d</code> for adaptive routing or other features are not restored after the upgrade. To work around this issue, manually back up these files and restore them after the upgrade. | 4.9.0 | |
| <a name="3772274"></a> [3772274](#3772274) <a name="3772274"></a> <br /> | After you upgrade NetQ, data from snapshots taken prior to the NetQ upgrade will contain unreliable data and should not be compared to any snapshots taken after the upgrade. In cluster deployments, snapshots from prior NetQ versions will not be visible in the UI. | 4.9.0 | |
| <a name="3771124"></a> [3771124](#3771124) <a name="3771124"></a> <br /> | When you reconfigure a VNI to map to a different VRF or remove and recreate a VNI in the same VRF, NetQ EVPN validations might incorrectly indicate a failure for the VRF consistency test. | 4.9.0 | |
| <a name="3769936"></a> [3769936](#3769936) <a name="3769936"></a> <br /> | When there is a NetQ interface validation failure for admin state mismatch, the validation failure might clear unexpectedly while one side of the link is still administratively down. | 4.9.0 | |
| <a name="3764718"></a> [3764718](#3764718) <a name="3764718"></a> <br /> | When you reboot the master node of a NetQ cluster deployment, NIC telemetry is no longer collected. To recover from this issue, restart the Prometheus pod with the following commands: <br>1. Retrieve the Prometheus pod name with the <code>kubectl get pods \| grep netq-prom</code> command <br>2. Restart the pod by deleting the pod name with the <code>kubectl delete pod <pod-name></code> command <br>Example: <br><pre>cumulus&#64;netq-server:~$ kubectl get pods \| grep netq-prom<br>netq-prom-adapter-ffd9b874d-hxhbz                    2/2     Running   0          3h50m<br>cumulus&#64;netq-server:~$ kubectl delete pod netq-prom-adapter-ffd9b874d-hxhbz </pre> | 4.9.0 | |
| <a name="3760442"></a> [3760442](#3760442) <a name="3760442"></a> <br /> | When you export events from NetQ to a CSV file, the timestamp of the exported events does not match the timestamp reported in the NetQ UI based on the user profile's time zone setting. | 4.9.0 | |
| <a name="3755207"></a> [3755207](#3755207) <a name="3755207"></a> <br /> | When you export digital optics table data from NetQ, some fields might be visible in the UI that are not exported to CSV or JSON files. | 4.9.0 | |
| <a name="3752422"></a> [3752422](#3752422) <a name="3752422"></a> <br /> | When you run a NetQ trace and specify MAC addresses for the source and destination, NetQ displays the message “No valid path to destination” and does not display trace data. | 4.9.0 | |
| <a name="3738840"></a> [3738840](#3738840) <a name="3738840"></a> <br /> | When you upgrade a Cumulus Linux switch configured for TACACS authentication using NetQ LCM, the switch's TACACS configuration is not restored after upgrade. | 4.8.0-4.9.0 | |
| <a name="3721754"></a> [3721754](#3721754) <a name="3721754"></a> <br /> | After you decommission a switch, the switch's interfaces are still displayed in the NetQ UI in the Interfaces view. | 4.9.0 | |
| <a name="3656965"></a> [3656965](#3656965) <a name="3656965"></a> <br /> | After you upgrade NetQ and try to decommission a switch, the decommission might fail with the message "Timeout encountered while processing." | 4.8.0-4.9.0 | |
| <a name="3633458"></a> [3633458](#3633458) <a name="3633458"></a> <br /> | The legacy topology diagram might categorize devices into tiers incorrectly. To work around this issue, use the updated topology diagram by selecting Topology Beta in the latest version of the NetQ UI. | 4.7.0-4.9.0 | |
| <a name="3613811"></a> [3613811](#3613811) <a name="3613811"></a> <br /> | LCM operations using in-band management are unsupported on switches that use eth0 connected to an out-of-band network. To work around this issue, configure NetQ to use out-of-band management in the <code>mgmt</code> VRF on Cumulus Linux switches when interface eth0 is in use. | 4.8.0-4.9.0 | |
| <a name="3735959"></a> [3735959](#3735959) <a name="3735959"></a> <br /> | When you upgrade a Cumulus Linux switch using NetQ LCM, NetQ presents a warning indicating that there are unsaved NVUE configuration changes when NVUE is not in use and no NVUE configuration is present on the switch. You can safely ignore this warning. | 4.9.0 | |
| <a name="3824873"></a> [3824873](#3824873) <a name="3824873"></a> <br /> | When you upgrade an on-premises NetQ deployment, the upgrade might fail with the following message: <pre>master-node-installer: Upgrading NetQ Appliance with tarball : /mnt/installables/NetQ-4.9.0.tgz<br>master-node-installer: Migrating H2 db list index out of range.</pre> To work around this issue, re-run the <code>netq upgrade</code> command.  | 4.9.0 | |

### Fixed Issues in 4.9.0
|  Issue ID 	|   Description	|   Affects	|
|---	        |---	        |---	    |
| <a name="3782784"></a> [3782784](#3782784) <a name="3782784"></a> <br /> | After performing a new NetQ cluster installation, some MLAG and EVPN NetQ validations might incorrectly report errors. To work around this issue, run the <code>netq check mlag legacy</code> and <code>netq check evpn legacy</code> commands instead of running a default streaming check.  | 4.8.0 | |
| <a name="3781503"></a> [3781503](#3781503) <a name="3781503"></a> <br /> | When you upgrade a Cumulus Linux switch running the nslcd service with NetQ LCM, the <code>nslcd</code> service fails to start after the upgrade. To work around this issue, manually back up your <code>nslcd</code> configuration and restore it after the upgrade. | 4.8.0 | |
| <a name="3761602"></a> [3761602](#3761602) <a name="3761602"></a> <br /> |  NetQ does not display queue histogram data for switches running Cumulus Linux 5.8.0 and NetQ agent version 4.8.0. To work around this issue, upgrade the NetQ agent package to 4.9.0. | 4.8.0 | |
| <a name="3739222"></a> [3739222](#3739222) <a name="3739222"></a> <br /> | The <code>opta-check</code> command does not properly validate if the required 16 CPU cores are present on the system for NetQ. The command only presents an error if there are fewer than 8 CPU cores detected. | 4.2.0-4.8.0 | |
| <a name="3688985"></a> [3688985](#3688985) <a name="3688985"></a> <br /> | After upgrading a NetQ VM with LDAP authentication configured, adding a new LDAP user to NetQ fails with the error message "LDAP not enabled." | 4.8.0 | |
| <a name="3676723"></a> [3676723](#3676723) <a name="3676723"></a> <br /> | When you use the NetQ agent on a Cumulus Linux switch to export gNMI data and there is a period of inactivity in the gNMI stream, the NetQ agent service might stop. To recover from this issue, restart the service with the <code>netq config restart agent</code> command. | 4.7.0-4.8.0 | |
| <a name="3670180"></a> [3670180](#3670180) <a name="3670180"></a> <br /> | The medium Validation Summary card might incorrectly display a failure or lack of data for the latest time interval. To work around this issue, expand the card to the largest view for an accurate representation of validation results. | 4.8.0 | |
| <a name="3650422"></a> [3650422](#3650422) <a name="3650422"></a> <br /> | The OPTA-on-switch service does not send agent data when the NetQ CLI is not configured. To work around this issue, configure the NetQ CLI on the switch. | 4.8.0 | |
| <a name="3644644"></a> [3644644](#3644644) <a name="3644644"></a> <br /> | When you perform an LCM upgrade of Cumulus Linux on a switch using the <code>netq lcm upgrade cl-image</code> CLI command, an error message of <code>NetQ cloud token invalid</code> is displayed though the upgrade completes successfully. This issue is not encountered when using the NetQ LCM UI to perform the upgrade. | 4.8.0 | |
| <a name="3634648"></a> [3634648](#3634648) <a name="3634648"></a> <br /> | The topology graph might show unexpected connections when devices in the topology do not have LLDP adjacencies. | 4.8.0 | |
| <a name="3632378"></a> [3632378](#3632378) <a name="3632378"></a> <br /> | After you upgrade your on-premises NetQ VM from version 4.7.0 to 4.8.0, NIC telemetry using the Prometheus adapter is not collected. To work around this issue, run the following commands on your NetQ VM:<pre>sudo kubectl set image deployment/netq-prom-adapter netq-prom-adapter=docker-registry:5000/netq-prom-adapter:4.8.0<br>sudo kubectl set image deployment/netq-prom-adapter prometheus=docker-registry:5000/prometheus-v2.41.0:4.8.0</pre> | 4.8.0 | |
| <a name="3549877"></a> [3549877](#3549877) <a name="3549877"></a> <br /> | NetQ cloud deployments might unexpectedly display validation results for checks that did not run on any nodes. | 4.6.0-4.8.0 | |
| <a name="3429528"></a> [3429528](#3429528) <a name="3429528"></a> <br /> | EVPN and RoCE validation cards in the NetQ UI might not display data when Cumulus Linux switches are configured with high VNI scale. | 4.6.0-4.8.0 | |