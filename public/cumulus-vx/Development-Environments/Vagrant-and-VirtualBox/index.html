<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Vagrant and VirtualBox | Cumulus Networks Documentation</title>

  
  <link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/docs.cumulusnetworks.com/book.min.a378d8a2da6f5357a83a43dff33d6f77fb70401e0399d5ba78faf81d7a1ae1a8.css">

  
  <link rel="icon" href="/docs.cumulusnetworks.com/icons/favicon.png" type="image/x-icon">

  
  <!--
  Made with Book Theme
  https://github.com/alex-shpak/hugo-book
  -->

  
  
  <script src = "/docs.cumulusnetworks.com/js/codecopy.js"> </script>

</head>


<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  
  <header id="site-nav">
    <div class="header-wrapper flex">
      <a href="/">
        <img src="/header-logo.png" alt="Cumulus Networks">
        <img src="/cumulus-networks-rt-white.svg" alt="Cumulus Networks" class="header-mobile">
        <span>Docs</span>
      </a>
      <ul class="flex">
        <li><a href="//cumulusnetworks.com">HOME</a></li>
        <li><a href="//support.cumulusnetworks.com/">SUPPORT</a></li>
        <li><a href="//docs.cumulusnetworks.com/">DOCS</a></li>
        <li><a href="//education.cumulusnetworks.com">EDUCATION</a></li>
        <li><a href="//cumulusnetworks.com/blog/">BLOG</a></li>
        <li><a href="//forums.cumulusnetworks.com/">FORUMS</a></li>
      </ul>
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>
  <div id="product-nav" class="flex">
      
    
    <ul>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-linux/ >
        Cumulus Linux </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-netq/ >
        Cumulus NetQ </a> </li>
    
      <li class = "active" ><a href = docs.cumulusnetworks.com/cumulus-vx/ >
        Cumulus VX </a> </li>
    
      <li>
        <div id="products-dropdown" class="dropdown">
            <button class="btn" type="button" id="dropdownMenuButton">
              Products
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="">Cumulus RMP</a>
              <a class="dropdown-item" href="">Cumulus Chassis</a>
              <a class="dropdown-item" href="">Cumulus Host Pack</a>
            </div>
        </div>
      </li>
    </ul>
    <div class="search-container">
      <div id="doc-search-box">
        <input type="text" class="doc-search-input" placeholder="Search" value="">
        <span><button type="submit"><img src="/icons/search_20x20.svg" alt=""></button></span>
      </div>
      <div id="dropdown" class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton">
            v3.4
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/cumulus-vx/"> v3.4</a>
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-vx-25/"> v2.5</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-vx-30/"> v3.0</a>
            
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
          </div>
      </div>
    </div>
  </div>
  <main class="flex container">
    <aside class="book-menu fixed">

      <nav role="navigation">
        <h2 class="book-brand">
          <a href="docs.cumulusnetworks.com">Cumulus Networks Documentation</a>
        </h2>
        
        




  <ul id = "top" class = "cn-book-section-container">
  
    

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/" >
    Cumulus VX Documentation
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/" >
    Getting Started
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/VMware-vSphere-ESXi-5.5/" >
    VMware vSphere - ESXi 5.5
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/VMware-Fusion/" >
    VMware Fusion
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/VMware-Workstation/" >
    VMware Workstation
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/VirtualBox/" >
    VirtualBox
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/Libvirt-and-KVM-QEMU/" >
    Libvirt and KVM - QEMU
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Getting-Started/ONIE-Virtual-Machine/" >
    ONIE Virtual Machine
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Development-Environments/" >
    Development Environments
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Development-Environments/Vagrant-and-VirtualBox/"  class="active" >
    Vagrant and VirtualBox
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Development-Environments/Vagrant-and-Libvirt-with-KVM-or-QEMU/" >
    Vagrant and Libvirt with KVM or QEMU
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Development-Environments/GNS3-and-VirtualBox/" >
    GNS3 and VirtualBox
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Development-Environments/GNS3-and-QEMU-KVM/" >
    GNS3 and QEMU - KVM
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Whats-New-in-Cumulus-VX/" >
    What&#39;s New in Cumulus VX
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Comparing-Cumulus-VX-to-other-Cumulus-Networks-Products/" >
    Comparing Cumulus VX to other Cumulus Networks Products
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Cumulus-VX-Support-Policy/" >
    Cumulus VX Support Policy
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Create-a-Two-Leaf-Two-Spine-Topology/" >
    Create a Two-Leaf, Two-Spine Topology
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Next-Steps/" >
    Next Steps
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/cumulus-vx/Cumulus-VX-Getting-Started-Guide/" >
    Cumulus VX Getting Started Guide
  </a>


    </li>
    
  </ul>


  </li>


  
  </ul>









      </nav>

      
      
      
      

      <script src = "/docs.cumulusnetworks.com/js/menuBundle.js"> </script>


    </aside>

    <div class="book-page">

      
      <header class="align-center justify-between book-header">
        <label for="menu-control">
          <img src="/docs.cumulusnetworks.com/svg/menu.svg" alt="Menu" />
        </label>
        <strong>Vagrant and VirtualBox</strong>
      </header>

      
      
<article class="markdown">
<h1>Vagrant and VirtualBox</h1>

<p>This document describes how to install and set up Cumulus Linux within a
Vagrant environment, using VirtualBox as the hypervisor.</p>


<div class="notices note" > <p>These sections assume a basic level of Vagrant, VirtualBox, and Linux
experience. For detailed instructions, refer to the <a href="https://www.vagrantup.com/docs/" target="_blank">Vagrant
documentation</a> and the <a href="https://www.vagrantup.com/intro/getting-started/index.html" target="_blank">getting started
guide</a>.</p>
 </div>


<h2 id="span-configure-the-vagrant-environment-span"><span>Configure the Vagrant Environment</span></h2>


<div class="notices note" > <p>This section assumes that you have installed the VirtualBox hypervisor.
For detailed instructions, refer to the
<a href="/cumulus-vx/Getting-Started/VirtualBox">VirtualBox</a> installation
section.</p>
 </div>



<div class="notices note" > <p>Cumulus VX requires Vagrant version 1.7 or later. The installation steps
below use Vagrant version 1.9.4 for the example commands.</p>
 </div>


<p>To set up the Vagrant environment:</p>

<ol>
<li><p>Download and install Vagrant: <a href="https://www.vagrantup.com/downloads.html" target="_blank">Vagrant
Downloads</a>.</p></li>

<li><p>In a terminal, add the Cumulus VX Vagrant box image. Ensure option
<code>2</code> is specified.</p>


<div class="notices note" > <pre><code>Vagrant downloads and installs the latest Cumulus VX VirtualBox
image.
</code></pre>
 </div>


<pre><code>local@host:~$ vagrant box add cumuluscommunity/cumulus-vx
==&gt; box: Loading metadata for box 'cumuluscommunity/cumulus-vx'
box: URL: https://atlas.hashicorp.com/cumuluscommunity/cumulus-vx
This box can work with multiple providers! The providers that it
can work with are listed below. Please review the list and choose
the provider you will be working with.
1) libvirt
2) virtualbox
Enter your choice: 2
==&gt; box: Adding box 'CumulusCommunity/cumulus-vx' (v3.3.0) for provider: virtual box
 
...
</code></pre></li>
</ol>


<div class="notices note" > <p>Cumulus Networks provides several preconfigured demos to run with
Vagrant using Ansible to configure the VMs. To run these demos, download
and install <a href="https://pypi.python.org/pypi/ansible" target="_blank">Ansible 1.7 or
newer</a>.</p>
 </div>


<h2 id="span-configure-a-cumulus-vx-vm-with-vagrant-span"><span>Configure a Cumulus VX VM with Vagrant</span></h2>

<ol>
<li><p>In a terminal, create a folder to contain the Vagrant environment,
then change directories into that folder.</p>

<pre><code>local@host:~$ mkdir vagrant
local@host:~$ cd vagrant
</code></pre></li>

<li><p>Initialize the Vagrant environment so you can provision your VMs.
This creates a file called <code>Vagrantfile</code> within the folder you just
created.</p>

<pre><code>local@host:~/vagrant$ vagrant init
</code></pre></li>

<li><p>Configure Vagrant to spin up a Cumulus VX VM. Modify the newly
created <code>Vagrantfile</code> to configure the VMs, then save the file:</p>

<pre><code>local@host:~/vagrant$ sudo vi Vagrantfile 
 
Vagrant.configure(2) do |config|
  config.vm.box = &quot;CumulusCommunity/cumulus-vx&quot;
end
</code></pre>


<div class="notices note" > <pre><code>Cumulus VX 3.y.z images require at least 512MB to be fully
functional. The default Vagrant memory size is 512MB. If performance
issues exist, increase the amount of memory by setting the
`v.memory` variable in the `Vagrantfile` to *512* or more. You can
also adjust the memory size in the VirtualBox UI when the VM is
powered off.
</code></pre>
 </div>
</li>

<li><p>Run <code>vagrant up</code> to start the VM:</p>

<pre><code>local@host:~/vagrant$ vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
==&gt; default: Importing base box 'cumulus-vx-3.3.0'...
==&gt; default: Matching MAC address for NAT networking...
==&gt; default: Setting the name of the VM: temp_default_1437562573479_23184
==&gt; default: Clearing any previously set network interfaces...
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==&gt; default: Forwarding ports...
    default: 22 =&gt; 2222 (adapter 1)
==&gt; default: Booting VM...
==&gt; default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection timeout. Retrying...
    default:
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default:
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if it's present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==&gt; default: Machine booted and ready!
==&gt; default: Checking for guest additions in VM...
==&gt; default: Mounting shared folders...
    default: /vagrant =&gt; /Users/cumulus/vx-example
</code></pre></li>
</ol>

<p>After you start a VM, you can log in using the <code>ssh</code> option:</p>

<pre><code>local@host:~/vagrant$ vagrant ssh
</code></pre>

<p>The <code>vagrant ssh</code> command logs in as the preconfigured <code>vagrant</code> user. A
shared file system is automatically mounted inside the VM under the
<code>/vagrant</code> mount point; you can transfer files between the host and
Cumulus VX instance from there.</p>

<p>To shut down the VM, use the <code>destroy</code> command:</p>

<pre><code>local@host:~/vagrant$ vagrant destroy
</code></pre>

<p>For more information on configuring VMs with Vagrant, see
<a href="https://docs.vagrantup.com/v2/" target="_blank">docs.vagrantup.com/v2/</a>.</p>

<p>You can explore the various demos available as part of the
cldemo-vagrant family of repositories located here:
<a href="https://github.com/CumulusNetworks/cldemo-vagrant#available-demos" target="_blank">https://github.com/CumulusNetworks/cldemo-vagrant#available-demos</a>.</p>

<h2 id="span-additional-configuration-options-span"><span>Additional Configuration Options</span></h2>

<h3 id="span-add-switch-port-interfaces-to-a-cumulus-vx-vm-span"><span>Add Switch Port Interfaces to a Cumulus VX VM</span></h3>

<p>By default Vagrant only configures the first network interface (eth0)
for its own use. You must configure additional network interfaces, such
as the Cumulus Linux switch port interfaces, in the <code>Vagrantfile</code>.
Normally, you configure these interfaces to use a private network. By
default, Vagrant provides one preconfigured private network, although
you can choose to create additional private networks. You can connect
one or more network interfaces to a private network.</p>

<p>The following example creates a Cumulus VX VM where the interfaces swp1
through swp4 are created and connected to the preconfigured private
network:</p>

<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = &quot;CumulusCommunity/cumulus-vx&quot;
 
  config.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp1&quot;, auto_config: false
  config.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp2&quot;, auto_config: false
  config.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp3&quot;, auto_config: false
  config.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp4&quot;, auto_config: false
end
</code></pre>

<p>For more information on creating and using private networks, see
<a href="https://docs.vagrantup.com/v2/networking/private_network.html" target="_blank">docs.vagrantup.com/v2/networking/private_network.html</a>
and
<a href="https://docs.vagrantup.com/v2/virtualbox/networking.html" target="_blank">docs.vagrantup.com/v2/virtualbox/networking.html</a>.</p>

<h3 id="span-create-multiple-cumulus-vx-vms-span"><span>Create Multiple Cumulus VX VMs</span></h3>

<p>Vagrant can create and configure multiple VMs with a single command. For
example, you can use Vagrant to create multiple Cumulus VX VMs and then
connect the network interfaces of those VMs together.</p>

<p>The following example creates two Cumulus VX VMs, leaf1 and leaf2, where
the interfaces swp1 through swp4 are connected together via separate
private networks:</p>

<pre><code>Vagrant.configure(2) do |config|
 
  config.vm.define &quot;leaf1&quot; do |leaf1|
    leaf1.vm.box = &quot;CumulusCommunity/cumulus-vx&quot;
 
    # Internal network for swp* interfaces.
    leaf1.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp1&quot;, auto_config: false
    leaf1.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp2&quot;, auto_config: false
    leaf1.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp3&quot;, auto_config: false
    leaf1.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp4&quot;, auto_config: false
  end
 
  config.vm.define &quot;leaf2&quot; do |leaf2|
    leaf2.vm.box = &quot;CumulusCommunity/cumulus-vx&quot;
 
    # Internal network for swp* interfaces.
    leaf2.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp1&quot;, auto_config: false
    leaf2.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp2&quot;, auto_config: false
    leaf2.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp3&quot;, auto_config: false
    leaf2.vm.network &quot;private_network&quot;, virtualbox__intnet: &quot;swp4&quot;, auto_config: false
  end
 
end
</code></pre>

<p>When you run <code>vagrant up</code>, both VMs are created. You can log in to each
VM and configure the interfaces as you want; the interfaces will pass
traffic between themselves as if they are two physical switches
connected together by four cables.</p>

<h2 id="span-limitations-span"><span>Limitations</span></h2>

<p>At this time, there are some limitations to using Vagrant with Cumulus
VX:</p>

<ul>
<li><p>VirtualBox can only support a maximum of 36 network interfaces.</p></li>

<li><p>The first network interface (eth0) is always managed by Vagrant and
must be connected to a NAT network.</p></li>
</ul>

<h2 id="span-test-configuration-span"><span>Test Configuration</span></h2>

<p>Cumulus VX for Vagrant has been tested in the following environments:</p>

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Host OS</p></th>
<th><p>Vagrant Version(s)</p></th>
<th><p>VirtualBox Version(s)</p></th>
<th><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>OS X 10.10</p></td>
<td><p>1.7.3<br />
1.7.4</p></td>
<td><p>4.3<br />
5.0</p></td>
<td><p> </p></td>
</tr>
<tr class="even">
<td><p>Ubuntu 14.04</p></td>
<td><p>1.7.4</p></td>
<td><p>4.3</p></td>
<td><p> </p></td>
</tr>
<tr class="odd">
<td><p>Ubuntu 16.04</p></td>
<td><p>1.8.5<br />
1.8.6<br />
1.8.7<br />
1.9.1</p></td>
<td><p>5.0.26</p></td>
<td><p> </p></td>
</tr>
<tr class="even">
<td><p>Windows 7</p></td>
<td><p>1.7.3</p></td>
<td><p>5.0</p></td>
<td><p>While both VirtualBox and Vagrant are fully supported on Windows hosts, Vagrant provisioning with Ansible is not.<br />
Cumulus VX demos that use Ansible do not work on Windows.</p></td>
</tr>
</tbody>
</table>

<article id="html-search-results" class="ht-content" style="display: none;">

</article>

<footer id="ht-footer">

</footer>
</article>

      <script src="https://utteranc.es/client.js"
        repo="CumulusNetworks/docs-internal"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>

    </div>
    

      


  

    <aside class="book-toc fixed">

  
    <div class="toc">
    
      <button>
      <a href="https://github.com/CumulusNetworks/docs/edit/master/content/cumulus-vx/Development-Environments/Vagrant-and-VirtualBox.md" target="_blank" rel="noopener"><img src="/docs.cumulusnetworks.com/svg/pencil-circle.svg" alt="Edit" /> Edit this page</a>
      </button>
    
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#span-configure-the-vagrant-environment-span"><span>Configure the Vagrant Environment</span></a></li>
<li><a href="#span-configure-a-cumulus-vx-vm-with-vagrant-span"><span>Configure a Cumulus VX VM with Vagrant</span></a></li>
<li><a href="#span-additional-configuration-options-span"><span>Additional Configuration Options</span></a>
<ul>
<li><a href="#span-add-switch-port-interfaces-to-a-cumulus-vx-vm-span"><span>Add Switch Port Interfaces to a Cumulus VX VM</span></a></li>
<li><a href="#span-create-multiple-cumulus-vx-vms-span"><span>Create Multiple Cumulus VX VMs</span></a></li>
</ul></li>
<li><a href="#span-limitations-span"><span>Limitations</span></a></li>
<li><a href="#span-test-configuration-span"><span>Test Configuration</span></a></li>
</ul></li>
</ul>
</nav>
    </div>
  

</aside>






  </main>
  <footer class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="footer-content">
            <div class="mb-4">
                <img src="https://static.cumulusnetworks.com/static/images/shared/cumulus-networks-rt-white-trademarked.ff839f1b2570.svg">
                <p>© <script type="text/javascript">document.write(new Date().getFullYear());</script> Cumulus Networks.<br>
                Site by <a href="//unomena.com/" target="_blank">Unomena</a>.</p>
            </div>
            <ul class="mb-4">
              <li><h4>Products</h4></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-linux/">Cumulus Linux</a></li>
              <li><a href="//cumulusnetworks.com/products/netq/">Cumulus NetQ</a></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-express/">Cumulus Express</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>Learn</h4></li>
              <li><a href="//cumulusnetworks.com/learn/web-scale-networking-education/">Going web-scale</a></li>
              <li><a href="//cumulusnetworks.com/learn/events/">Events</a></li>
              <li><a href="//cumulusnetworks.com/blog/">Blog</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>About</h4></li>
              <li><a href="//cumulusnetworks.com/about/">Our story</a></li>
              <li><a href="//cumulusnetworks.com/about/careers/">Careers</a></li>
              <li><a href="//cumulusnetworks.com/about/media-coverage/">Media coverage</a></li>
              <li><a href="//docs.cumulusnetworks.com/" target="_blank">Tech docs</a></li>
              <li><a href="//cumulusnetworks.com/community/">Community</a></li>
            </ul>
            <ul>
              <li>
                <a href="//twitter.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M23 6.628l-2-.5 1-2-2.464.7A4.48 4.48 0 0 0 12 8.128v1c-3.539.73-6.634-1.2-9.5-4.5q-.75 4 1.5 6l-3-.5c.405 2.069 1.362 3.7 4 4l-2.5 1c1 2 2.566 2.31 5 2.5a10.748 10.748 0 0 1-6.5 2c12.755 5.669 20-2.664 20-10V8.3z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.facebook.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M17.768 7.5H13.5V5.6a.972.972 0 0 1 1.012-1.1c.418 0 2.988.01 2.988.01V.5h-4.329C9.244.5 8.5 3.474 8.5 5.355V7.5h-3v4h3v12h5v-12h3.851z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//linkedin.com/company/cumulus-networks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M6.5 22.5h-5v-13h5zm9-9a2 2 0 0 0-2 2v7h-5v-13h5v1.485a6.307 6.307 0 0 1 3.99-1.495c2.962 0 5.01 2.2 5.01 6.355V22.5h-5v-7a2 2 0 0 0-2-2zM6.5 5A2.5 2.5 0 1 1 4 2.5 2.5 2.5 0 0 1 6.5 5z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//vimeo.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M.5 7.393l.933 1.224S3.36 7.1 4 7.859s3.1 9.925 3.915 11.617c.714 1.483 2.684 3.444 4.845 2.042s9.34-7.529 10.626-14.769-8.642-5.723-9.693.583c2.627-1.577 4.03.642 2.686 3.154s-2.569 4.145-3.211 4.145-1.135-1.679-1.868-4.613c-.76-3.035-.755-8.5-3.911-7.882C4.412 2.721.5 7.393.5 7.393z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.github.com/cumulusnetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <path class="a" d="M19.459 17c0-5.969-4.126-3.532-7.5-3.532s-7.5-2.375-7.5 3.532a3.5 3.5 0 0 0 3.5 3.5h8a3.5 3.5 0 0 0 3.5-3.5z"></path>
                    <path class="a" d="M21.489 10.214l.032.023s2.646-4.572-.6-7.237c-2 0-5.058 3.3-5.058 3.3l.022.016A14.152 14.152 0 0 0 8.1 6.3C8.083 6.285 5.037 3 3.042 3c-3.173 2.6-.729 7.012-.614 7.217a8.876 8.876 0 0 0-1.395 5.743c.241 3.126 2.847 6.54 5.982 6.54H16.9c3.135 0 5.742-3.414 5.982-6.54a8.857 8.857 0 0 0-1.393-5.746z"></path>
                    <ellipse class="a" cx="15.48" cy="17" rx="1" ry="1.5"></ellipse>
                    <ellipse class="a" cx="8.48" cy="17" rx="1" ry="1.5"></ellipse>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//slack.cumulusnetworks.com/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <rect class="a" x=".5" y=".5" width="23" height="23" rx="6" ry="6"></rect>
                    <circle class="a" cx="12" cy="12" r="6"></circle>
                    <circle class="a" cx="19" cy="5" r="1.5"></circle>
                  </svg>
                </a>
              </li>
              <li>
                <p>Cumulus Networks<sup>®</sup> — Data center networking software for the open, modern data center.</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div class="footer-bottom">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <ul>
                      <li><a href="//cumulusnetworks.com/legal/trademarks/">Trademarks</a></li>
                      <li><a href="//cumulusnetworks.com/legal/privacy/">Privacy</a></li>
                      <li><a href="//cumulusnetworks.com/legal/">Terms of service</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>

  
  

</body>

</html>
