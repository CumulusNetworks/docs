<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>SNMP Monitoring | Cumulus Networks Documentation</title>

  
  <link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/docs.cumulusnetworks.com/book.min.a378d8a2da6f5357a83a43dff33d6f77fb70401e0399d5ba78faf81d7a1ae1a8.css">

  
  <link rel="icon" href="/docs.cumulusnetworks.com/icons/favicon.png" type="image/x-icon">

  
  <link rel="alternate" type="application/rss+xml" href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/SNMP-Monitoring/index.xml" title="Cumulus Networks Documentation" />
  <!--
  Made with Book Theme
  https://github.com/alex-shpak/hugo-book
  -->

  
  
  <script src = "/docs.cumulusnetworks.com/js/codecopy.js"> </script>

</head>


<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  
  <header id="site-nav">
    <div class="header-wrapper flex">
      <a href="/">
        <img src="/header-logo.png" alt="Cumulus Networks">
        <img src="/cumulus-networks-rt-white.svg" alt="Cumulus Networks" class="header-mobile">
        <span>Docs</span>
      </a>
      <ul class="flex">
        <li><a href="//cumulusnetworks.com">HOME</a></li>
        <li><a href="//support.cumulusnetworks.com/">SUPPORT</a></li>
        <li><a href="//docs.cumulusnetworks.com/">DOCS</a></li>
        <li><a href="//education.cumulusnetworks.com">EDUCATION</a></li>
        <li><a href="//cumulusnetworks.com/blog/">BLOG</a></li>
        <li><a href="//forums.cumulusnetworks.com/">FORUMS</a></li>
      </ul>
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>
  <div id="product-nav" class="flex">
      
    
    <ul>
    
      <li class = "active" ><a href = docs.cumulusnetworks.com/cumulus-linux/ >
        Cumulus Linux </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-netq/ >
        Cumulus NetQ </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-vx/ >
        Cumulus VX </a> </li>
    
      <li>
        <div id="products-dropdown" class="dropdown">
            <button class="btn" type="button" id="dropdownMenuButton">
              Products
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="">Cumulus RMP</a>
              <a class="dropdown-item" href="">Cumulus Chassis</a>
              <a class="dropdown-item" href="">Cumulus Host Pack</a>
            </div>
        </div>
      </li>
    </ul>
    <div class="search-container">
      <div id="doc-search-box">
        <input type="text" class="doc-search-input" placeholder="Search" value="">
        <span><button type="submit"><img src="/icons/search_20x20.svg" alt=""></button></span>
      </div>
      <div id="dropdown" class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton">
            v3.3.0
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/cumulus-linux/"> v3.7.7</a>
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-25esr/"> v2.5.12</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-30/"> v3.0.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-31/"> v3.1.2</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-321/"> v3.2.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-330/"> v3.3.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-332/"> v3.3.2</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-343/"> v3.4.3</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-35/"> v3.5</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-linux-36/"> v3.6</a>
            
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
          </div>
      </div>
    </div>
  </div>
  <main class="flex container">
    <aside class="book-menu fixed">

      <nav role="navigation">
        <h2 class="book-brand">
          <a href="docs.cumulusnetworks.com">Cumulus Networks Documentation</a>
        </h2>
        
        




  <ul class = "cn-book-section-container" id = "top">
    
        
          
      
          
      
          
      
          
      
          
            

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/" >
    Cumulus Linux User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/" >
    Installation Management
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/Managing-Cumulus-Linux-Disk-Images/" >
    Managing Cumulus Linux Disk Images
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/Installing-a-New-Cumulus-Linux-Image/" >
    Installing a New Cumulus Linux Image
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/Upgrading-Cumulus-Linux/" >
    Upgrading Cumulus Linux
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/Using-Snapshots/" >
    Using Snapshots
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/Adding-and-Updating-Packages/" >
    Adding and Updating Packages
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Installation-Management/Zero-Touch-Provisioning-ZTP/" >
    Zero Touch Provisioning - ZTP
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/" >
    System Configuration
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Authentication-Authorization-and-Accounting/" >
    Authentication, Authorization and Accounting
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Authentication-Authorization-and-Accounting/SSH-for-Remote-Access/" >
    SSH for Remote Access
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Authentication-Authorization-and-Accounting/User-Accounts/" >
    User Accounts
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Authentication-Authorization-and-Accounting/Using-sudo-to-Delegate-Privileges/" >
    Using sudo to Delegate Privileges
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Authentication-Authorization-and-Accounting/LDAP-Authentication-and-Authorization/" >
    LDAP Authentication and Authorization
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Authentication-Authorization-and-Accounting/TACACS-Plus/" >
    TACACS Plus
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Netfilter-ACLs/" >
    Netfilter - ACLs
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Netfilter-ACLs/Default-Cumulus-Linux-ACL-Configuration/" >
    Default Cumulus Linux ACL Configuration
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Netfilter-ACLs/Filtering-Learned-MAC-Addresses/" >
    Filtering Learned MAC Addresses
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Network-Command-Line-Utility/" >
    Network Command Line Utility
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Setting-Date-and-Time/" >
    Setting Date and Time
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Managing-Application-Daemons/" >
    Managing Application Daemons
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Configuring-switchd/" >
    Configuring switchd
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Power-over-Ethernet-PoE/" >
    Power over Ethernet - PoE
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/System-Configuration/Configuring-a-Global-Proxy/" >
    Configuring a Global Proxy
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/" >
    Interface Configuration and Management
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/Buffer-and-Queue-Management/" >
    Buffer and Queue Management
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/Buffer-and-Queue-Management/Configuring-Hardware-enabled-DDOS-Protection/" >
    Configuring Hardware-enabled DDOS Protection
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/Layer-1-and-Switch-Port-Attributes/" >
    Layer 1 and Switch Port Attributes
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/Configuring-DHCP-Relays/" >
    Configuring DHCP Relays
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/Configuring-DHCP-Servers/" >
    Configuring DHCP Servers
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Interface-Configuration-and-Management/802.1X-Interfaces/" >
    802.1X Interfaces
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/" >
    Layer One and Two
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Ethernet-Bridging-VLANs/" >
    Ethernet Bridging - VLANs
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Ethernet-Bridging-VLANs/VLAN-aware-Bridge-Mode-for-Large-scale-Layer-2-Environments/" >
    VLAN-aware Bridge Mode for Large-scale Layer 2 Environments
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Ethernet-Bridging-VLANs/Traditional-Mode-Bridges/" >
    Traditional Mode Bridges
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Ethernet-Bridging-VLANs/VLAN-Tagging/" >
    VLAN Tagging
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Virtual-Router-Redundancy-VRR/" >
    Virtual Router Redundancy - VRR
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Virtual-Router-Redundancy-VRR/ifplugd/" >
    ifplugd
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Spanning-Tree-and-Rapid-Spanning-Tree/" >
    Spanning Tree and Rapid Spanning Tree
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Link-Layer-Discovery-Protocol/" >
    Link Layer Discovery Protocol
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Prescriptive-Topology-Manager-PTM/" >
    Prescriptive Topology Manager - PTM
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Bonding-Link-Aggregation/" >
    Bonding - Link Aggregation
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/Multi-Chassis-Link-Aggregation-MLAG/" >
    Multi-Chassis Link Aggregation - MLAG
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/LACP-Bypass/" >
    LACP Bypass
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-One-and-Two/IGMP-and-MLD-Snooping/" >
    IGMP and MLD Snooping
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/" >
    Network Virtualization
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Lightweight-Network-Virtualization-LNV-Overview/" >
    Lightweight Network Virtualization - LNV Overview
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Lightweight-Network-Virtualization-LNV-Overview/LNV-VXLAN-Active-Active-Mode/" >
    LNV VXLAN Active-Active Mode
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Lightweight-Network-Virtualization-LNV-Overview/LNV-Full-Example/" >
    LNV Full Example
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Integrating-with-VMware-NSX/" >
    Integrating with VMware NSX
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Integrating-Hardware-VTEPs-with-Midokura-MidoNet-and-OpenStack/" >
    Integrating Hardware VTEPs with Midokura MidoNet and OpenStack
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Static-MAC-Bindings-with-VXLAN/" >
    Static MAC Bindings with VXLAN
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Ethernet-Virtual-Private-Network-EVPN/" >
    Ethernet Virtual Private Network - EVPN
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/VXLAN-Hyperloop/" >
    VXLAN Hyperloop
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Virtualization/Static-VXLAN-Tunnels/" >
    Static VXLAN Tunnels
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/" >
    Layer Three
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Configuring-Quagga/" >
    Configuring Quagga
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Configuring-Quagga/Comparing-NCLU-and-vtysh-Commands/" >
    Comparing NCLU and vtysh Commands
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Routing/" >
    Routing
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Introduction-to-Routing-Protocols/" >
    Introduction to Routing Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Network-Topology/" >
    Network Topology
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Quagga-Overview/" >
    Quagga Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Open-Shortest-Path-First-OSPF-Protocol/" >
    Open Shortest Path First - OSPF - Protocol
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Open-Shortest-Path-First-v3-OSPFv3-Protocol/" >
    Open Shortest Path First v3 - OSPFv3 - Protocol
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Border-Gateway-Protocol-BGP/" >
    Border Gateway Protocol - BGP
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Bidirectional-Forwarding-Detection-BFD/" >
    Bidirectional Forwarding Detection - BFD
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Equal-Cost-Multipath-Load-Sharing-Hardware-ECMP/" >
    Equal Cost Multipath Load Sharing - Hardware ECMP
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Redistribute-Neighbor/" >
    Redistribute Neighbor
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Virtual-Routing-and-Forwarding-VRF/" >
    Virtual Routing and Forwarding - VRF
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Management-VRF/" >
    Management VRF
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Layer-Three/Protocol-Independent-Multicast-PIM/" >
    Protocol Independent Multicast - PIM
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/" >
    Monitoring and Troubleshooting
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Monitoring-System-Hardware/" >
    Monitoring System Hardware
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Monitoring-System-Hardware/Network-Switch-Port-LED-and-Status-LED-Guidelines/" >
    Network Switch Port LED and Status LED Guidelines
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Understanding-the-cl-support-Output-File/" >
    Understanding the cl-support Output File
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Understanding-the-cl-support-Output-File/Troubleshooting-Log-Files/" >
    Troubleshooting Log Files
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Understanding-the-cl-support-Output-File/Troubleshooting-the-etc-Directory/" >
    Troubleshooting the etc Directory
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Troubleshooting-Network-Interfaces/" >
    Troubleshooting Network Interfaces
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Troubleshooting-Network-Interfaces/Monitoring-Interfaces-and-Transceivers-Using-ethtool/" >
    Monitoring Interfaces and Transceivers Using ethtool
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Network-Troubleshooting/" >
    Network Troubleshooting
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Network-Troubleshooting/Using-NCLU-to-Troubleshoot-Your-Network-Configuration/" >
    Using NCLU to Troubleshoot Your Network Configuration
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Network-Troubleshooting/Monitoring-System-Statistics-and-Network-Traffic-with-sFlow/" >
    Monitoring System Statistics and Network Traffic with sFlow
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/SNMP-Monitoring/"  class="active" >
    SNMP Monitoring
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/SNMP-Monitoring/Using-Nutanix-Prism-as-a-Monitoring-Tool/" >
    Using Nutanix Prism as a Monitoring Tool
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Single-User-Mode-Boot-Recovery/" >
    Single User Mode - Boot Recovery
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Resource-Diagnostics-Using-cl-resource-query/" >
    Resource Diagnostics Using cl-resource-query
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Monitoring-Virtual-Device-Counters/" >
    Monitoring Virtual Device Counters
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Buffer-Monitoring/" >
    Buffer Monitoring
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Monitoring-and-Troubleshooting/Monitoring-Best-Practices/" >
    Monitoring Best Practices
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Solutions/" >
    Network Solutions
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Solutions/Data-Center-Host-to-ToR-Architecture/" >
    Data Center Host to ToR Architecture
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Solutions/Cumulus-Networks-Services-Demos/" >
    Cumulus Networks Services Demos
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Solutions/Docker-on-Cumulus-Linux/" >
    Docker on Cumulus Linux
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Solutions/OpenStack-Neutron-ML2-and-Cumulus-Linux/" >
    OpenStack Neutron ML2 and Cumulus Linux
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Network-Solutions/Anycast-Design-Guide/" >
    Anycast Design Guide
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Quick-Start-Guide/" >
    Quick Start Guide
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-linux-330/Cumulus-Linux-Index/" >
    Cumulus Linux Index
  </a>


    </li>
    
  </ul>


  </li>


          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
    
  </ul>









      </nav>

      
      
      
      

      <script src = "/docs.cumulusnetworks.com/js/menuBundle.js"> </script>


    </aside>

    <div class="book-page">

      
      <header class="align-center justify-between book-header">
        <label for="menu-control">
          <img src="/docs.cumulusnetworks.com/svg/menu.svg" alt="Menu" />
        </label>
        <strong>SNMP Monitoring</strong>
      </header>

      
      
<div class= "notices info" id = "info" >
  This documentation is for an older version of the software. If you are using the current version of Cumulus Linux, this content may not be up to date. The current version of the documentation is available [here](https://docs.cumulusnetworks.com/).
  </div>
<article class="markdown">
<h1>SNMP Monitoring</h1>

<p>Cumulus Linux utilizes the open source Net-SNMP agent <code>snmpd</code>, v5.7.3,
which provides support for most of the common industry-wide MIBs,
including interface counters and TCP/UDP IP stack data.</p>

<h2 id="span-introduction-to-snmp-simple-network-management-protocol-span"><span>Introduction to SNMP (Simple Network Management Protocol)</span></h2>

<p>SNMP is an IETF standards-based network management architecture and
protocol that traces its roots back to Carnegie-Mellon University in
1982. Since then, it&rsquo;s been modified by programmers at the University of
California. In 1995, this code was also made publicly available as the
UCD project. After that, <code>ucd-snmp</code> was extended by work done at the
University of Liverpool as well as later in Denmark. In late 2000, the
project name changed to net-snmp and became a fully-fledged
collaborative open source project. The version used by Cumulus Networks
is base on the latest <code>net-snmp</code> 5.7.3 branch with added custom MIBs and
pass through and pass persist scripts.</p>

<h2 id="span-configuring-ports-for-snmp-to-listen-for-requests-span"><span>Configuring Ports for SNMP to Listen for Requests</span></h2>

<p>For security reasons, the default port binding for <code>snmpd</code> is the
loopback local address; consequently by default, the SNMP service does
not listen for SNMP requests from outside the switch. In order to listen
to requests from outside the switch, you need to change this binding to
a specific IP address (or all interfaces) after configuring security
access (community strings, users, and so forth). This is a change from
older versions of Cumulus Linux (before version 3.0), which listened to
incoming requests on all interfaces by default. The <code>snmpd</code>
configuration file is <code>/etc/snmp/snmpd.conf</code> and should be modified
before enabling and starting <code>snmpd</code>. The default configuration has no
access community strings defined so <code>snmpd</code> will not respond to any SNMP
requests until this is added.</p>

<h2 id="span-quick-start-guide-span"><span>Quick Start Guide</span></h2>

<p>The SNMP daemon, <code>snmpd</code>, uses the configuration file
<code>/etc/snmp/snmpd.conf</code> for almost all of its configuration. The syntax
of the most important keywords are defined in the following table.</p>

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Syntax</p></th>
<th><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>agentAddress</strong></p></td>
<td><p>This command sets the protocol, IP address, and the port for <code>snmpd</code> to listen on for <strong>incoming</strong> requests. The IP address must exist on an interface that has link UP on the switch where <code>snmpd</code> is being used. By default, this is set to <em>udp:127.0.0.1:161</em>, which means <code>snmpd</code> listens on the loopback interface and so only responds to requests (<code>snmpwalk</code>, <code>snmpget</code>, <code>snmpgetnext</code>) originating from the switch. A wildcard setting of <em>udp:161,udp6:161</em> forces <code>snmpd</code> to listen on all IPv4 and IPv6 interfaces for incoming SNMP requests. Multiple IP address can be configured as comma-separated values, as in <em>udp:66.66.66.66:161,udp:77.77.77.77:161,udp6:[2001::1]:161.</em></p></td>
</tr>
<tr class="even">
<td><p><strong>view</strong></p></td>
<td><p>This commands defines a view name that specifies a subset of the overall OID tree. This restricted view can then be referenced by name in the <code>rocommunity</code> command to link the view to a password that is used to see this restricted OID subset. By default, the <code>snmpd.conf</code> file contains numerous views with the <em>systemonly</em> view name:</p>
<pre><code>view   systemonly  included   .1.3.6.1.2.1.1 


view   systemonly  included   .1.3.6.1.2.1.2  


view   systemonly  included   .1.3.6.1.2.1.3 </code></pre>
<p>The <em>systemonly</em> view is used by <code>rocommunity</code> to create a password for access to only these branches of the OID tree.</p></td>
</tr>
<tr class="odd">
<td><p><strong>rocommunity</strong></p></td>
<td><p>This command defines the password that is required for SNMP version 1 or 2c requests for GET or GETNEXT. By default, this provides access to the full OID tree for such requests, regardless of from where they were sent. There is no default password set, so that <code>snmpd</code> does not respond to any requests that arrive. Users often specify a source IP address token to restrict access to only that host or network given. Users also specify a view name (as defined above) to restrict the subset of the OID tree.</p>
<p>Some examples of <code>rocommunity</code> commands are shown below. The first command sets the read only community string to "simplepassword" for SNMP requests sourced from the 10.10.10.0/24 subnet and restricts viewing to the <em>systemonly</em> view name defined previously with the <code>view</code> command. The second example simply creates a read-only community password that allows access to the entire OID tree from any source IP address.</p>
<pre><code>rocommunity simplepassword 10.10.10.0/24 -V systemonly

rocommunity cumulustestpassword</code></pre></td>
</tr>
<tr class="even">
<td><p><strong>trapsink</strong></p>
<p><strong>trap2sink</strong></p></td>
<td><p>This command defines the IP address of the notification (or trap) receiver for either SNMPv1 traps or SNMPv2 traps. If several sink directives are specified, multiple copies of each notification (in the appropriate formats) are generated. Note that a trap server must be configured to receive and decode these trap messages (for example, <code>snmptrapd</code>). The address of the trap receiver can be configured with a different protocol and port but this is most often left out. The defaults are to use the well-known UDP packets and port 162.</p></td>
</tr>
<tr class="odd">
<td><p><strong>createUser</strong></p>
<p><strong>iquerySecName</strong></p>
<p><strong>rouser</strong></p></td>
<td><p>These three commands define an internal SNMPv3 username that is required in order for <code>snmpd</code> to send traps. This username is required to authorize the DisMan service even though SNMPv3 is not being configured for use. The example <code>snmpd.conf</code> configuration shown below creates <em>snmptrapusernameX</em> as the username (this is just an example username) using the <code>createUser</code> command. <code>iquerySecName</code> defines the default SNMPv3 username to be used when making internal queries to retrieve monitored expressions. <code>rouser</code> specifies which username should be used for these SNMPv3 queries. All three are required for <code>snmpd</code> to retrieve information and send built-in traps or for those configured with the <code>monitor</code> command shown below in the examples.</p>
<pre><code>createUser snmptrapusernameX


iquerySecName snmptrapusernameX


rouser snmptrapusernameX</code></pre></td>
</tr>
<tr class="even">
<td><p><strong>linkUpDownNotifications yes</strong></p></td>
<td><p>This command enables link up and link down trap notifications, assuming the other trap configurations settings are set. This command configures the Event MIB tables to monitor the ifTable for network interfaces being taken up or down, and triggering a linkUp or linkDown notification as appropriate. This is exactly equivalent to the following configuration:</p>
<pre><code>notificationEvent  linkUpTrap    linkUp   ifIndex ifAdminStatus ifOperStatus


notificationEvent  linkDownTrap  linkDown ifIndex ifAdminStatus ifOperStatus 


monitor  -r 60 -e linkUpTrap   &quot;Generate linkUp&quot; ifOperStatus != 2


monitor  -r 60 -e linkDownTrap &quot;Generate linkDown&quot; ifOperStatus == 2</code></pre></td>
</tr>
<tr class="odd">
<td><p><strong>defaultMonitors yes</strong></p></td>
<td><p>This command configures the Event MIB tables to monitor the various UCD-SNMP-MIB tables for problems (as indicated by the appropriate xxErrFlag column objects) and send a trap. This assumes the user has downloaded the <code>snmp-mibs-downloader</code> Debian package and comments out "mibs" from <code>/etc/snmp/snmp.conf</code> (as in: "#mibs"). This command is exactly equivalent to the following configuration:</p>
<pre><code>monitor   -o prNames -o prErrMessage &quot;process table&quot; prErrorFlag != 0


monitor   -o memErrorName -o memSwapErrorMsg &quot;memory&quot; memSwapError != 0


monitor   -o extNames -o extOutput &quot;extTable&quot; extResult != 0


monitor   -o dskPath -o dskErrorMsg &quot;dskTable&quot; dskErrorFlag != 0


monitor   -o laNames -o laErrMessage  &quot;laTable&quot; laErrorFlag != 0


monitor   -o fileName -o fileErrorMsg  &quot;fileTable&quot; fileErrorFlag != 0</code></pre></td>
</tr>
</tbody>
</table>

<h2 id="span-starting-the-snmp-daemon-span"><span>Starting the SNMP Daemon</span></h2>

<p>The following procedure is the recommended process to start <code>snmpd</code> and
monitor it using <code>systemctl</code>.</p>

<p>To start the SNMP daemon:</p>

<ol>
<li><p>Start the <code>snmpd</code> daemon:</p>

<pre><code>cumulus@switch:~$ sudo systemctl start snmpd.service
</code></pre></li>

<li><p>Configure the <code>snmpd</code> daemon to start automatically after reboot:</p>

<pre><code>cumulus@switch:~$ sudo systemctl enable snmpd.service
</code></pre></li>

<li><p>To enable <code>snmpd</code> to restart automatically after failure:</p>

<ol>
<li><p>Create a file called
<code>/etc/systemd/system/snmpd.service.d/restart.conf</code>.</p></li>

<li><p>Add the following lines:</p>

<pre><code>[Service]
Restart=always
RestartSec=60
</code></pre></li>

<li><p>Run <code>sudo systemctl daemon-reload</code>.</p></li>
</ol></li>
</ol>

<p>Once the service is started, SNMP can be used to manage various
components on the Cumulus Linux switch.</p>

<h2 id="span-configuring-snmp-span"><span>Configuring SNMP</span></h2>

<p>Cumulus Linux ships with a production usable default <code>snmpd.conf</code> file
included. This section covers a few basic configuration options in
<code>snmpd.conf</code>. For more information regarding further configuring this
file, refer to the <code>snmpd.conf</code> man page.</p>


<div class="notices warning" > <p>The default <code>snmpd.conf</code> file does not include all supported MIBs or
OIDs that can be exposed.</p>
 </div>



<div class="notices note" > <p>Customers must at least change the default community string for v1 or
v2c environments or the <code>snmpd</code> daemon will not respond to any requests.</p>
 </div>


<h3 id="span-setting-up-the-custom-cumulus-networks-mibs-span"><span>Setting up the Custom Cumulus Networks MIBs</span></h3>


<div class="notices note" > <p>No changes are required in the <code>/etc/snmp/snmpd.conf</code> file on the
switch, in order to support the custom Cumulus Networks MIBs. The
following lines are already included by default:</p>

<pre><code>view systemonly included .1.3.6.1.4.1.40310.1
view systemonly included .1.3.6.1.4.1.40310.2
sysObjectID 1.3.6.1.4.1.40310
pass_persist .1.3.6.1.4.1.40310.1 /usr/share/snmp/resq_pp.py
pass_persist .1.3.6.1.4.1.40310.2 /usr/share/snmp/cl_drop_cntrs_pp.py
</code></pre>
 </div>


<p>However, several files need to be copied to the server, in order for the
custom Cumulus MIB to be recognized on the destination NMS server.</p>

<ul>
<li><p><code>/usr/share/snmp/mibs/Cumulus-Snmp-MIB.txt</code></p></li>

<li><p><code>/usr/share/snmp/mibs/Cumulus-Counters-MIB.txt</code></p></li>

<li><p><code>/usr/share/snmp/mibs/Cumulus-Resource-Query-MIB.txt</code></p></li>
</ul>

<h3 id="span-enabling-the-1-3-6-1-2-1-range-span"><span>Enabling the .1.3.6.1.2.1 Range</span></h3>

<p>Some MIBs, including storage information, are not included by default in
<code>snmpd.conf</code> in Cumulus Linux. This results in some default views on
common network tools (like <code>librenms</code>) to return less than optimal data.
More MIBs can be included, by enabling all the .1.3.6.1.2.1 range. This
simplifies the configuration file, removing concern that any required
MIBs will be missed by the monitoring system. Various MIBs were added to
version 3.0 and include the following: ENTITY and ENTITY-SENSOR MIB and
parts of the BRIDGE-MIB and Q-BRIDGE-MIBs. These are included in the
default configuration.</p>


<div class="notices note" > <p>The view of the BRIDGE-MIB and Q-BRIDGE-MIB are commented out.</p>
 </div>



<div class="notices warning" > <p>This configuration grants access to a large number of MIBs, including
all MIB2 MIBs, which could reveal more data than expected. In addition
to being a security vulnerability, it could consume more CPU resources.</p>
 </div>


<p>To enable the .1.3.6.1.2.1 range:</p>

<ol>
<li><p>Open <code>/etc/snmp/snmpd.conf</code> in a text editor.</p></li>

<li><p>Make sure the following lines are included in the configuration:</p>

<pre><code>###############################################################################
#
#  ACCESS CONTROL 
#

# system
view   systemonly  included   .1.3.6.1.2.1
# quagga ospf6
view   systemonly  included   .1.3.6.1.3.102
# lldpd (Note: lldpd must be restarted with the -x option
#     configured in order to send info to snmpd via Agent X
view   systemonly  included   .1.0.8802.1.1.2
# Cumulus specific
view   systemonly  included   .1.3.6.1.4.1.40310.1
view   systemonly  included   .1.3.6.1.4.1.40310.2
</code></pre></li>

<li><p>Restart <code>snmpd</code>:</p>

<pre><code>cumulus@switch:~$ sudo systemctl restart snmpd.service
</code></pre></li>
</ol>

<h3 id="span-enabling-public-community-span"><span>Enabling Public Community</span></h3>

<p>The <code>snmpd</code> authentication for versions 1 and 2 is disabled by default
in Cumulus Linux. This password (called a community string) can be
enabled by setting <strong>rocommunity</strong> (for read-only access) or
<strong>rwcommunity</strong> (for read-write acces). To enable read-only querying by
a client:</p>

<ol>
<li><p>Open <code>/etc/snmp/snmpd.conf</code> in a text editor.</p></li>

<li><p>To allow read-only access using a password <em>public</em> from any client
IP address (<em>default</em>) for the view you defined before with
<em>systemonly</em>, add the following line to the end of the file, then
save it:</p>

<pre><code>rocommunity public default -V systemonly
</code></pre>

<table>
<thead>
<tr>
<th>Syntax</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>rocommunity</td>
<td>Read-only community; (<em>rwcommunity</em> is for read-write access).</td>
</tr>

<tr>
<td>public</td>
<td>Plain text password.</td>
</tr>

<tr>
<td>default</td>
<td>&ldquo;default&rdquo; allows connections from any system. &ldquo;localhost&rdquo; allows requests only from the local host. A restricted source can either be a specific hostname (or address), or a subnet, represented as IP/MASK (like 10.10.10.0/255.255.255.0), or IP/BITS (like 10.10.10.0/24), or the IPv6 equivalents.</td>
</tr>

<tr>
<td>systemonly</td>
<td>The name of this particular SNMP view. This is a user-defined value.</td>
</tr>
</tbody>
</table></li>

<li><p>Restart <code>snmpd</code>:</p>

<pre><code>cumulus@switch:~$ sudo systemctl restart snmpd.service
</code></pre></li>
</ol>

<h3 id="span-configuring-snmpv3-span"><span>Configuring SNMPv3</span></h3>

<p>Since community strings in versions 1 and 2c are sent in the clear,
SNMPv3 is often used to enable authentication and encryption. SNMPv3 was
first release around 2000. A minimal example is shown here for
<code>/etc/snmp/snmpd.conf</code> that defines three users, each with a different
combination of authentication and encryption. Please change these
usernames and passwords before using this in a network:</p>


<div class="notices note" > <p>Make sure you change the usernames and passwords in the sample code
below, as the ones used here are for explanatory purposes only.</p>
 </div>


<pre><code># simple no auth user
#createUser user1

# user with MD5 authentication
#createUser user2 MD5 user2password

# user with MD5 for auth and DES for encryption
#createUser user3 MD5 user3password DES user3encryption

# user666 with SHA for authentication and AES for encryption
createUser user666 SHA user666password AES user666encryption

# user999 with MD5 for authentication and DES for encryption
createUser user999 MD5 user999password DES user999encryption

# restrict users to certain OIDs
# (Note: creating rouser or rwuser will give
# access regardless of the createUser command above. However,
# createUser without rouser or rwuser will not provide any access).
rouser user1 noauth 1.3.6.1.2.1.1
rouser user2 auth 1.3.6.1.2.1
rwuser user3 priv 1.3.6.1.2.1
rwuser user666
rwuser user999
</code></pre>

<p>Once you make this configuration and restart the <code>snmpd</code> daemon, the
user access can be checked with a client  the Debian package called
<code>snmp</code> contains <code>snmpget</code> and <code>snmpwalk</code>, as well as other programs that
are useful for checking daemon functionality from the switch itself or
from another workstation. The following commands check the access for
each user defined above from the localhost (the switch itself):</p>

<pre><code># check user1 which has no authentication or encryption (NoauthNoPriv)
snmpget -v 3 -u user1 -l NoauthNoPriv localhost 1.3.6.1.2.1.1.1.0
snmpwalk -v 3 -u user1 -l NoauthNoPriv localhost 1.3.6.1.2.1.1

# check user2 which has authentication but no encryption (authNoPriv)
snmpget -v 3 -u user2 -l authNoPriv -a MD5 -A user2password localhost 1.3.6.1.2.1.1.1.0
snmpget -v 3 -u user2 -l authNoPriv -a MD5 -A user2password localhost 1.3.6.1.2.1.2.1.0
snmpwalk -v 3 -u user2 -l authNoPriv -a MD5 -A user2password localhost 1.3.6.1.2.1

# check user3 which has both authentication and encryption (authPriv)
snmpget -v 3 -u user3 -l authPriv -a MD5 -A user3password -x DES -X user3encryption localhost .1.3.6.1.2.1.1.1.0
snmpwalk -v 3 -u user3 -l authPriv -a MD5 -A user3password -x DES -X user3encryption localhost .1.3.6.1.2.1
snmpwalk -v 3 -u user666 -l authPriv -a SHA -x AES -A user666password -X user666encryption localhost 1.3.6.1.2.1.1
snmpwalk -v 3 -u user999 -l authPriv -a MD5 -x DES -A user999password -X user999encryption localhost 1.3.6.1.2.1.1
</code></pre>

<p>A slightly more secure method of configuring SNMPv3 users without
creating cleartext passwords is the following:</p>

<ol>
<li><p>Install the <code>net-snmp-config</code> script that is in <code>libsnmp-dev</code>
package:</p>

<pre><code>cumulus@switch:~$ sudo apt-get update
cumulus@switch:~$ sudo apt-get install libsnmp-dev
</code></pre></li>

<li><p>Stop the daemon:</p>

<pre><code>cumulus@switch:~$ sudo systemctl stop snmpd.service
</code></pre></li>

<li><p>Use the <code>net-snmp-config</code> command to create two users, one with MD5
and DES, and the next with SHA and AES.</p>


<div class="notices note" > <pre><code>The minimum password length is 8 characters and the arguments `-a`
and `-x` to `net-snmp-config` have different meanings than they do
for `snmpwalk`.
</code></pre>
 </div>


<pre><code>cumulus@switch:~$ sudo net-snmp-config --create-snmpv3-user -a md5authpass -x desprivpass -A MD5 -X DES userMD5withDES 
cumulus@switch:~$ sudo net-snmp-config --create-snmpv3-user -a shaauthpass -x aesprivpass -A SHA -X AES userSHAwithAES
cumulus@switch:~$ sudo systemctl start snmpd.service
</code></pre></li>
</ol>

<p>This adds a <code>createUser</code> command in <code>/var/lib/snmp/snmpd.conf</code>. Do
<strong>not</strong> edit this file by hand, unless you are removing usernames. It
also adds the rwuser in <code>/usr/share/snmp/snmpd.conf</code>. You may want to
edit this file and restrict access to certain parts of the MIB by adding
<em>noauth</em>, <em>auth</em> or <em>priv</em> to allow unauthenticated access, require
authentication or to enforce use of encryption, respectively.</p>

<p>The <code>snmpd</code> daemon reads the information from the
<code>/var/lib/snmp/snpmd.conf</code> file and then the line is removed
(eliminating the storage of the master password for that user) and
replaced with the key that is derived from it (using the EngineID). This
key is a localized key, so that if it is stolen it cannot be used to
access other agents. To remove the two users userMD5withDES and
userSHAwithAES, you need simply stop the <code>snmpd</code> daemon and edit the
files <code>/var/lib/snmp/snmpd.conf</code> and <code>/usr/share/snmp/snmpd.conf</code>.
Simply remove the lines containing the username. Then restart the
<code>snmpd</code> daemon as in step 3 above.</p>

<p>From a client, you would access the MIB with the correct credentials.
(Again, note that the roles of <code>-x</code>, <code>-a</code> and <code>-X</code> and <code>-A</code> are reversed
on the client side as compared with the <code>net-snmp-config</code> command used
above.)</p>

<pre><code>snmpwalk -v 3 -u userMD5withDES -l authPriv -a MD5 -x DES -A md5authpass -X desprivpass localhost 1.3.6.1.2.1.1.1
snmpwalk -v 3 -u userSHAwithAES -l authPriv -a SHA -x AES -A shaauthpass -X aesprivpass localhost 1.3.6.1.2.1.1.1
</code></pre>

<h2 id="span-snmpwalk-a-switch-from-another-linux-device-span"><span>snmpwalk a Switch from Another Linux Device</span></h2>

<p>One of the most important ways to troubleshoot is to <code>snmpwalk</code> the
switch from another Linux device that can reach the Cumulus Linux
switch.</p>


<div class="notices note" > <p><code>snmpwalk</code> does not show enterprise MIBs by default (from the
1.3.6.1.4.1 tree). These need to be explicitly named.</p>
 </div>


<p>For this demonstration, another switch running Cumulus Linux within the
network is used.</p>

<ol>
<li><p>Open <code>/etc/apt/sources.list</code> in an editor.</p></li>

<li><p>Add the following line, and save the file:</p>

<pre><code>deb http://ftp.us.debian.org/debian/ jessie main non-free
</code></pre></li>

<li><p>Update the switch:</p>

<pre><code>cumulus@switch:~$ sudo apt-get update
</code></pre></li>

<li><p>Many SNMP clients (<code>snmpwalk</code>, <code>snmpget</code> and <code>snmpgetnext</code>) as well
as the SNMP agent (<code>snmpd</code>) can benefit from having MIBs installed.</p>


<div class="notices note" > <pre><code>Enabling monitoring for traps with **defaultMonitors** and
**monitor** (when referring to OIDs by name) require MIBs to be
installed on the switch.
</code></pre>
 </div>


<p>Install the <code>snmp</code> and <code>snmp-mibs-downloader</code> packages:</p>

<pre><code>cumulus@switch:~$ sudo apt-get install snmp snmp-mibs-downloader
</code></pre></li>

<li><p>Verify that the &ldquo;mibs :&rdquo; line is commented out in
<code>/etc/snmp/snmp.conf</code>:</p>

<pre><code>#
# As the snmp packages come without MIB files due to license reasons, loading
# of MIBs is disabled by default. If you added the MIBs you can reenable
# loading them by commenting out the following line.
#mibs :
</code></pre></li>

<li><p>Perform an <code>snmpwalk</code> on the switch. The switch running <code>snmpd</code> in
the demonstration is using IP address 192.168.0.111. It is possible
to <code>snmpwalk</code> the switch from itself. Run the following command,
which rules out an SNMP problem against a networking problem.</p>

<pre><code>cumulus@switch:~$ snmpwalk -c public -v2c 192.168.0.111  .1
</code></pre>

<p>Here is some sample output:</p>

<pre><code>IF-MIB::ifPhysAddress.2 = STRING: 74:e6:e2:f5:a2:80
IF-MIB::ifPhysAddress.3 = STRING: 0:e0:ec:25:b8:54
IF-MIB::ifPhysAddress.4 = STRING: 74:e6:e2:f5:a2:81
IF-MIB::ifPhysAddress.5 = STRING: 74:e6:e2:f5:a2:82
IF-MIB::ifPhysAddress.6 = STRING: 74:e6:e2:f5:a2:83
IF-MIB::ifPhysAddress.7 = STRING: 74:e6:e2:f5:a2:84
IF-MIB::ifPhysAddress.8 = STRING: 74:e6:e2:f5:a2:85
IF-MIB::ifPhysAddress.9 = STRING: 74:e6:e2:f5:a2:86
IF-MIB::ifPhysAddress.10 = STRING: 74:e6:e2:f5:a2:87
IF-MIB::ifPhysAddress.11 = STRING: 74:e6:e2:f5:a2:88
IF-MIB::ifPhysAddress.12 = STRING: 74:e6:e2:f5:a2:89
IF-MIB::ifPhysAddress.13 = STRING: 74:e6:e2:f5:a2:8a
IF-MIB::ifPhysAddress.14 = STRING: 74:e6:e2:f5:a2:8b
IF-MIB::ifPhysAddress.15 = STRING: 74:e6:e2:f5:a2:8c
IF-MIB::ifPhysAddress.16 = STRING: 74:e6:e2:f5:a2:8d
IF-MIB::ifPhysAddress.17 = STRING: 74:e6:e2:f5:a2:8e
IF-MIB::ifPhysAddress.18 = STRING: 74:e6:e2:f5:a2:8f
IF-MIB::ifPhysAddress.19 = STRING: 74:e6:e2:f5:a2:90
</code></pre></li>
</ol>

<p>Any information gathered here should verify that <code>snmpd</code> is running
correctly on the Cumulus Linux side, reducing locations where a problem
may reside.</p>

<h3 id="span-troubleshooting-tips-table-for-snmpwalks-span"><span>Troubleshooting Tips Table for snmpwalks</span></h3>

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Run snmpwalk from</p></th>
<th><p>If it works</p></th>
<th><p>If it does not work</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>switch</strong> (switch to monitor)</p></td>
<td><p><code>snmpd</code> is serving information correctly.</p>
<p>The problem resides somewhere else. For example, network connectivity, or Prism misconfiguration.</p></td>
<td><p>Is snmpd misconfigured or installed incorrectly?</p></td>
</tr>
<tr class="even">
<td><p><strong>switch2</strong> (another Cumulus Linux switch in the network)</p></td>
<td><p><code>snmpd</code> is serving information correctly and network reachability works between <strong>switch</strong> and <strong>switch2</strong>.</p>
<p>The problem resides somewhere else. For example, Prism cannot reach <strong>switch</strong>, or there is a Prism misconfiguration.</p></td>
<td><p>Network connectivity is not able to grab information?<br />
Is there an <code>iptables</code> rule blocking? Is the <code>snmpwalk</code> being run correctly?</p></td>
</tr>
<tr class="odd">
<td><p><strong><a href="/version/cumulus-linux-330/Monitoring-and-Troubleshooting/SNMP-Monitoring/Using-Nutanix-Prism-as-a-Monitoring-Tool">Nutanix Prism CLI</a></strong> (SSH to the cluster IP address)</p></td>
<td><p><code>snmpd</code> is serving information correctly and network reachability works between <strong>switch</strong> and the <strong>Nutanix Appliance</strong>.</p>
<p>The problem resides somewhere else. For example, the GUI might be misconfigured.</p></td>
<td><p>Is the right community name being used in the GUI? Is <code>snmp v2c</code> being used?</p></td>
</tr>
</tbody>
</table>

<h2 id="span-snmp-traps-span"><span>SNMP Traps</span></h2>

<h3 id="span-generating-event-notification-traps-span"><span>Generating Event Notification Traps</span></h3>

<p>The Net-SNMP agent provides a method to generate SNMP trap events via
the Distributed Management (DisMan) Event MIB for various system events,
including:</p>

<ul>
<li><p>Link up/down.</p></li>

<li><p>Exceeding the temperature sensor threshold, CPU load or memory
threshold.</p></li>

<li><p>Other SNMP MIBs.</p></li>
</ul>

<p>Iin order to enable specific types of traps, you need to create the
following configurations in <code>/etc/snmp/snmpd.conf</code>.</p>

<h4 id="span-defining-access-credentials-span"><span>Defining Access Credentials</span></h4>

<p>An SNMPv3 username is required to authorize the DisMan service even
though you are not configuring SNMPv3 here. The example <code>snmpd.conf</code>
configuration shown below creates <em>trapusername</em> as the username using
the <code>createUser</code> command. <code>iquerySecName</code> defines the default SNMPv3
username to be used when making internal queries to retrieve monitored
expressions. <code>rouser</code> specifies which username should be used for these
SNMPv3 queries. All three are required for <code>snmpd</code> to retrieve
information and send traps (even with the <strong>monitor</strong> command shown
below in the examples). Add the following lines to your
<code>/etc/snmp/snmpd.conf</code> configuration file:</p>

<pre><code>createUser trapusername
iquerySecName trapusername
rouser trapusername
</code></pre>


<div class="notices note" > <p><code>iquerySecName</code> specifies the default SNMPv3 username to be used when
making internal queries to retrieve any necessary information  either
for evaluating the monitored expression or building a notification
payload. These internal queries always use SNMPv3, even if normal
querying of the agent is done using SNMPv1 or SNMPv2c. Note that this
user must also be explicitly created via <code>createUser</code> and given
appropriate access rights, for <code>rouser</code>, for example. The
<code>iquerySecName</code> directive is purely concerned with defining which user
should be used, not with actually setting this user up.</p>
 </div>


<h4 id="span-defining-trap-receivers-span"><span>Defining Trap Receivers</span></h4>

<p>The following configuration defines the trap receiver IP address where
SNMPv2 traps are sent:</p>

<pre><code>trap2sink 192.168.1.1 public
# For SNMPv1 Traps, use
# trapsink  192.168.1.1  public 
</code></pre>


<div class="notices note" > <p>Although the traps are sent to an SNMPV2 receiver, the SNMPv3 user is
still required. Starting with Net-SNMP 5.3, <code>snmptrapd</code> no longer
accepts all traps by default. <code>snmptrapd</code> must be configured with
authorized SNMPv1/v2c community strings and/or SNMPv3 users.
Non-authorized traps/informs will be dropped. Please refer to the
<a href="http://www.net-snmp.org/docs/man/snmptrapd.conf.html" target="_blank">snmptrapd.conf(5) manual
page</a> for details.</p>
 </div>



<div class="notices note" > <p>It is possible to define multiple trap receivers and to use the domain
name instead of an IP address in the <code>trap2sink</code> directive.</p>
 </div>


<p>Once configured, restart the <code>snmpd</code> service to apply the changes.</p>

<pre><code>cumulus@switch:~$ sudo systemctl restart snmpd.service
</code></pre>

<h4 id="span-sourcing-traps-from-a-different-source-ip-address-span"><span>Sourcing Traps from a Different Source IP Address</span></h4>

<p>When client SNMP programs (such as <code>snmpget</code>, <code>snmpwalk</code> or <code>snmptrap</code>)
are run from the command line, or when <code>snmpd</code> is configured to send a
trap (based on <code>snmpd.conf</code>), you can configure a <em>clientaddr</em> in
<code>snmp.conf</code> that allow the SNMP client programs or snmpd (for traps) to
source requests from a different source IP address.</p>


<div class="notices note" > <p><code>snmptrap</code>, <code>snmpget</code>, <code>snmpwalk</code> and <code>snmpd</code> itself must be able to
bind to this address.</p>
 </div>


<p>For more information, read the the <code>snmp.conf</code> man page:</p>

<pre><code>clientaddr [&lt;transport-specifier&gt;:]&lt;transport-address&gt;
              specifies the source address to be used by command-line applica
              tions when sending SNMP requests. See snmpcmd(1) for more infor
              mation about the format of addresses.
              This value is also used by snmpd when generating notifications.
</code></pre>

<h4 id="span-monitoring-fans-power-supplies-and-transformers-span"><span>Monitoring Fans, Power Supplies and Transformers</span></h4>

<p>The usual behavior of an SNMP agent (<code>snmpd</code>) is to wait for incoming
SNMP requests and respond to them. If no requests are received, an agent
will typically not initiate any actions. However, various commands can
configure <code>snmpd</code> to send traps based on preconfigured settings (<code>load</code>,
<code>file</code>, <code>proc</code>, <code>disk</code> or <code>swap</code> commands) or customized <code>monitor</code>
commands.</p>

<p>From the <code>snmpd.conf</code> man page, the <code>monitor</code> command is defined this
way:</p>

<pre><code>monitor [OPTIONS] NAME EXPRESSION

              defines  a  MIB  object to monitor.  If the EXPRESSION condition holds then 
              this will trigger the corresponding event, and either send a notification or
              apply a SET assignment (or both).  Note that the event will only be triggered once,
              when the expression first matches.  This monitor entry will not fire again until the
              monitored condition first becomes false, and then matches again.  NAME is an administrative
              name for this expression, and is used for indexing the mteTriggerTable (and related tables).
              Note also that such monitors use an internal SNMPv3 request to retrieve the values
              being monitored (even  if  normal  agent  queries  typically  use SNMPv1 or SNMPv2c).
              See the iquerySecName token described above.

       EXPRESSION
              There are three types of monitor expression supported by the Event MIB - existence, boolean and threshold tests.

              OID | ! OID | != OID

                     defines  an  existence(0)  monitor  test.  A bare OID specifies a present(0) test,
                     which will fire when (an instance of) the monitored OID is created.  An expression
                     of the form ! OID specifies an absent(1) test, which will fire when the monitored
                     OID is delected.  An expression of the form != OID specifies a changed(2) test,
                     which will fire whenever the monitored value(s) change.  Note that there must be
                     whitespace before the OID token.

              OID OP VALUE

                     defines a boolean(1) monitor test.  OP should be one of the defined comparison operators
                     (!=, ==, &lt;, &lt;=, &gt;, &gt;=) and VALUE should be an integer value to compare against.  Note that
                     there must be whitespace around the OP token.  A comparison such as OID !=0 will not be
                     handled correctly.

              OID MIN MAX [DMIN DMAX]

                     defines a threshold(2) monitor test.  MIN and MAX are integer values, specifying
                     lower and upper thresholds.  If the value of the monitored OID falls below the lower
                     threshold (MIN) or rises above the upper threshold (MAX), then the monitor entry will
                     trigger the corresponding event.

                     Note that the rising threshold event will only be re-armed when the monitored value
                     falls below the lower threshold (MIN).  Similarly, the falling threshold event will
                     be re-armed by the upper threshold (MAX).

                     The optional parameters DMIN and DMAX configure a pair of similar threshold tests,
                     but working with the delta differences between successive sample values.

       OPTIONS

              There are various options to control the behaviour of the monitored expression.  These include:
              -D     indicates that the expression should be evaluated using delta differences between sample
                     values (rather than the values themselves).
              -d OID  or  -di OID
                     specifies a discontinuity marker for validating delta differences.  A -di object instance
                     will be used exactly as given.  A -d object will have the instance subidentifiers from
                     the corresponding (wildcarded) expression object appended.  If the -I flag is specified,
                     then there is no difference between these two options. This option also implies -D.
              -e EVENT
                     specifies the event to be invoked when this monitor entry is triggered.  If this option
                     is not given, the monitor entry will generate one of the standard notifications defined
                     in the DISMAN-EVENT-MIB.
              -I     indicates that the monitored expression should be applied to the specified OID as a
                     single instance.  By default, the OID will be treated as a wildcarded object, and the
                     monitor expanded to cover all matching instances.
              -i OID or -o OID
                     define additional varbinds to be added to the notification payload when this monitor
                     trigger fires.  For a wildcarded expression, the suffix of the matched instance will be
                     added to any OIDs specified using -o, while OIDs specified using -i will be treated
                     as exact instances.  If the -I flag is specified,  then  there  is  no difference between
                     these two options.
                     See strictDisman for details of the ordering of notification payloads.
              -r FREQUENCY
                     monitors the given expression every FREQUENCY, where FREQUENCY is in seconds or optionally
                     suffixed by one of s (for seconds), m (for minutes), h (for hours), d (for days),
                     or w (for weeks).  By default, the expression will be evaluated every 600s (10 minutes).
              -S     indicates that the monitor expression should not be evaluated when the agent first starts up.
                     The first evaluation will be done once the first repeat interval has expired.
              -s     indicates that the monitor expression should be evaluated when the agent first starts up.
                     This is the default behaviour.
                     Note:  Notifications triggered by this initial evaluation will be sent before the coldStart trap.
              -u SECNAME
                     specifies a security name to use for scanning the local host, instead of the default
                     iquerySecName.  Once again, this user must be explicitly created and given suitable access rights.
</code></pre>

<p><code>snmpd</code> can be configured to monitor the operational status of an Entity
MIB or Entity-Sensor MIB. The operational status, given as a value of
<em>ok(1)</em>, <em>unavailable(2)</em> or <em>nonoperational(3)</em>, can be determined by
adding the following example configuration to <code>/etc/snmp/snmpd.conf</code>,
and adjusting the values:</p>

<ul>
<li><p>Using the <code>entPhySensorOperStatus</code> integer:</p>

<pre><code># without installing extra MIBS we can check the check Fan1 status
# if the Fan1 index is 100011001, monitor this specific OID (-I) every 10 seconds (-r), and defines additional information to be included in the trap (-o).
monitor -I -r 10  -o 1.3.6.1.2.1.47.1.1.1.1.7.100011001 &quot;Fan1 Not OK&quot;  1.3.6.1.2.1.99.1.1.1.5.100011001 &gt; 1
# Any Entity Status non OK (greater than 1)
monitor  -r 10  -o 1.3.6.1.2.1.47.1.1.1.1.7  &quot;Sensor Status Failure&quot;  1.3.6.1.2.1.99.1.1.1.5 &gt; 1
</code></pre></li>

<li><p>Using the OID name:</p>

<pre><code># for a specific fan called Fan1 with an index 100011001
monitor -I -r 10  -o entPhysicalName.100011001 &quot;Fan1 Not OK&quot;  entPhySensorOperStatus.100011001 &gt; 1
# for any Entity Status not OK ( greater than 1)
monitor  -r 10  -o entPhysicalName  &quot;Sensor Status Failure&quot;  entPhySensorOperStatus &gt; 1
</code></pre>


<div class="notices note" > <pre><code>The OID name can be used if the `snmp-mibs-download` package is
installed.
</code></pre>
 </div>



<div class="notices note" > <pre><code>The `entPhySensorOperStatus` integer can be found by walking the
`entPhysicalName` table.
</code></pre>
 </div>
</li>

<li><p>To get all sensor information, run <code>snmpwalk</code> on the entPhysicalName
table. For example:</p>

<pre><code>cumulus@leaf01:~$ snmpwalk -v 2c -cpublic localhost .1.3.6.1.2.1.47.1.1.1.1.7
iso.3.6.1.2.1.47.1.1.1.1.7.100000001 = STRING: &quot;PSU1Temp1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100000002 = STRING: &quot;PSU2Temp1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100000003 = STRING: &quot;Temp1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100000004 = STRING: &quot;Temp2&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100000005 = STRING: &quot;Temp3&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100000006 = STRING: &quot;Temp4&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100000007 = STRING: &quot;Temp5&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011001 = STRING: &quot;Fan1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011002 = STRING: &quot;Fan2&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011003 = STRING: &quot;Fan3&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011004 = STRING: &quot;Fan4&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011005 = STRING: &quot;Fan5&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011006 = STRING: &quot;Fan6&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011007 = STRING: &quot;PSU1Fan1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.100011008 = STRING: &quot;PSU2Fan1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.110000001 = STRING: &quot;PSU1&quot;
iso.3.6.1.2.1.47.1.1.1.1.7.110000002 = STRING: &quot;PSU2&quot;
</code></pre></li>
</ul>

<h4 id="span-enabling-mib-to-oid-translation-span"><span>Enabling MIB to OID Translation</span></h4>

<p>MIB names can be used instead of OIDs, by installing the
<code>snmp-mibs-downloader</code>, to download SNMP MIBs to the switch prior to
enabling traps. This greatly improves the readability of the
<code>snmpd.conf</code> file.</p>

<ol>
<li><p>Open <code>/etc/apt/sources.list</code> in a text editor.</p></li>

<li><p>Add the <code>non-free</code> repository, and save the file:</p>

<pre><code>cumulus@switch:~$ sudo deb http://ftp.us.debian.org/debian/ jessie main non-free
</code></pre></li>

<li><p>Update the switch:</p>

<pre><code>cumulus@switch:~$ sudo apt-get update
</code></pre></li>

<li><p>Install the <code>snmp-mibs-downloader</code>:</p>

<pre><code>cumulus@switch:~$ sudo apt-get install snmp-mibs-downloader
</code></pre></li>

<li><p>Open the <code>/etc/snmp/snmp.conf</code> file to verify that the <code>mibs :</code> line
is commented out:</p>

<pre><code>#
# As the snmp packages come without MIB files due to license reasons, loading
# of MIBs is disabled by default. If you added the MIBs you can reenable
# loading them by commenting out the following line.
#mibs :
</code></pre></li>

<li><p>Open the <code>/etc/default/snmpd</code> file to verify that the <code>export MIBS=</code>
line is commented out:</p>

<pre><code># This file controls the activity of snmpd and snmptrapd

# Don't load any MIBs by default.
# You might comment this lines once you have the MIBs Downloaded.
#export MIBS=
</code></pre></li>

<li><p>Once the configuration has been confirmed, remove or comment out the
<code>non-free</code> repository in <code>/etc/apt/sources.list</code>.</p>

<pre><code>#deb http://ftp.us.debian.org/debian/ jessie main non-free
</code></pre></li>
</ol>

<h4 id="span-configuring-link-up-down-notifications-span"><span>Configuring Link Up/Down Notifications</span></h4>

<p>The <code>linkUpDownNotifications</code> directive is used to configure link
up/down notifications when the operational status of the link changes.</p>

<pre><code>linkUpDownNotifications yes
</code></pre>


<div class="notices note" > <p>The default frequency for checking link up/down is 60 seconds. The
default frequency can be changed using the <code>monitor</code> directive directly
instead of the <code>linkUpDownNotifications</code> directive. See <code>man snmpd.conf</code>
for details.</p>
 </div>


<h4 id="span-configuring-temperature-notifications-span"><span>Configuring Temperature Notifications</span></h4>

<p>Temperature sensor information for each available sensor is maintained
in the the lmSensors MIB. Each platform may contain a different number
of temperature sensors. The example below generates a trap event when
any temperature sensors exceeds a threshold of 68 degrees (centigrade).
It monitors each <code>lmTempSensorsValue</code>. When the threshold value is
checked and exceeds the <code>lmTempSensorsValue</code>, a trap is generated. The
<code>-o lmTempSenesorsDevice</code> option is used to instruct SNMP to also
include the lmTempSensorsDevice MIB in the generated trap. The default
frequency for the <code>monitor</code> directive is 600 seconds. The default
frequency may be changed using the <code>-r</code> option.:</p>

<pre><code>monitor lmTemSensor -o lmTempSensorsDevice lmTempSensorsValue &gt; 68000
</code></pre>

<p>Alternatively, temperature sensors may be monitored individually. To
monitor the sensors individually, first use the <code>sensors</code> command to
determine which sensors are available to be monitored on the platform.</p>

<pre><code>cumulus@switch:~$ sudo sensors

CY8C3245-i2c-4-2e
Adapter: i2c-0-mux (chan_id 2)
fan5: 7006 RPM (min = 2500 RPM, max = 23000 RPM)
fan6: 6955 RPM (min = 2500 RPM, max = 23000 RPM)
fan7: 6799 RPM (min = 2500 RPM, max = 23000 RPM)
fan8: 6750 RPM (min = 2500 RPM, max = 23000 RPM)
temp1: +34.0 C (high = +68.0 C)
temp2: +28.0 C (high = +68.0 C)
temp3: +33.0 C (high = +68.0 C)
temp4: +31.0 C (high = +68.0 C)
temp5: +23.0 C (high = +68.0 C)
</code></pre>

<p>Configure a <code>monitor</code> command for the specific sensor using the <code>-I</code>
option. The <code>-I</code> option indicates that the monitored expression is
applied to a single instance. In this example, there are five
temperature sensors available. The following monitor directive can be
used to monitor only temperature sensor three at five minute intervals.</p>

<pre><code>monitor -I -r 300 lmTemSensor3 -o lmTempSensorsDevice.3 lmTempSensorsValue.3 &gt; 68000
</code></pre>

<h4 id="span-configuring-free-memory-notifications-span"><span>Configuring Free Memory Notifications</span></h4>

<p>You can monitor free memory using the following directives. The example
below generates a trap when free memory drops below 1,000,000KB. The
free memory trap also includes the amount of total real memory:</p>

<pre><code>monitor MemFreeTotal -o memTotalReal memTotalFree &lt;  1000000
</code></pre>

<h4 id="span-configuring-processor-load-notifications-span"><span>Configuring Processor Load Notifications</span></h4>

<p>To monitor CPU load for 1, 5 or 15 minute intervals, use the <code>load</code>
directive in conjunction with the <code>monitor</code> directive. The following
example will generate a trap when the 1 minute interval reaches 12%, the
5 minute interval reaches 10% or the 15 minute interval reaches 5%.</p>

<pre><code>load 12 10 5
</code></pre>

<h4 id="span-configuring-disk-utilization-notifications-span"><span>Configuring Disk Utilization Notifications</span></h4>

<p>To monitor disk utilization for all disks, use the <code>includeAllDisks</code>
directive in conjunction with the <code>monitor</code> directive. The example code
below generates a trap when a disk is 99% full:</p>

<pre><code>includeAllDisks 1%
monitor -r 60 -o dskPath -o DiskErrMsg &quot;dskTable&quot; diskErrorFlag !=0
</code></pre>

<h4 id="span-configuring-authentication-notifications-span"><span>Configuring Authentication Notifications</span></h4>

<p>To generate authentication failure traps, use the <code>authtrapenable</code>
directive:</p>

<pre><code>authtrapenable 1
</code></pre>

<h3 id="span-snmptrapd-conf-span"><span>snmptrapd.conf</span></h3>

<p>To <strong>receive</strong> SNMP traps, the Net-SNMP trap daemon can be used on the
switch. The configuration file, <code>/etc/snmp/snmptrapd.conf</code>, is used to
configure how <strong>incoming</strong> traps should be processed. Starting with
release 5.3, it is necessary to explicitly specify who is authorized to
send traps and informs to the notification receiver (and what types of
processing these are allowed to trigger). There are currently three
types of processing that can be specified:</p>

<ul>
<li><p><em>log</em>: Logs the details of the notification, in a specified file, to
standard output (or stderr), or via syslog (or similar).</p></li>

<li><p><em>execute</em>: Passes the details of the trap to a specified handler
program, including embedded Perl.</p></li>

<li><p><em>net</em>: Forwards the trap to another notification receiver.</p></li>
</ul>

<p>Most commonly, this configuration typically is <em>log,execute,net</em> to
cover any style of processing for a particular category of notification.
But it is possible (even desirable) to limit certain notification
sources to selected processing only.</p>

<p><code>authCommunity TYPES COMMUNITY [SOURCE [OID | -v VIEW ]]</code> authorizes
traps and SNMPv2c INFORM requests with the specified community to
trigger the types of processing listed. By default, this allows any
notification using this community to be processed. The SOURCE field can
be used to specify that the configuration should only apply to
notifications received from particular sources. For more information
about specific configuration options within the file, look at the
<code>snmpd.conf(5)</code> man page with the following command:</p>

<pre><code>cumulus@switch:~$ man 5 snmptrapd.conf

###############################################################################
#
# EXAMPLE-trap.conf:
#   An example configuration file for configuring the Net-SNMP snmptrapd agent.
#
###############################################################################
#
# This file is intended to only be an example.  If, however, you want
# to use it, it should be placed in /etc/snmp/snmptrapd.conf.
# When the snmptrapd agent starts up, this is where it will look for it.
#
# All lines beginning with a '#' are comments and are intended for you
# to read.  All other lines are configuration commands for the agent.

#
# PLEASE: read the snmptrapd.conf(5) manual page as well!
#
# this is the default (port 162) and defines the listening
# protocol and address  (e.g.  udp:10.10.10.10)
snmpTrapdAddr localhost
# 
# defines the actions and the community string 
authCommunity log,execute,net public
</code></pre>

<h2 id="span-id-src-5866145-snmpmonitoring-supported-mibs-class-confluence-anchor-link-span-span-supported-mibs-span"><span id="src-5866145_SNMPMonitoring-supported_mibs" class="confluence-anchor-link"></span><span>Supported MIBs</span></h2>

<p>Below are the MIBs supported by Cumulus Linux, as well as suggested uses
for them. The overall Cumulus Linux MIB is defined in
<code>/usr/share/snmp/mibs/Cumulus-Snmp-MIB.txt</code>.</p>

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>MIB Name</p></th>
<th><p>Suggested Uses</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>BRIDGE and Q-BRIDGE</p></td>
<td><p>The dot1dBasePortEntry and dot1dBasePortIfIndex tables in the BRIDGE-MIB and dot1qBase, dot1qFdbEntry, dot1qTpFdbEntry, dot1qTpFdbStatus, and the dot1qVlanStaticName tables in the Q-BRIDGE-MIB tables. You must uncomment the <code>bridge_pp.py pass_persist</code> script in <code>/etc/snmp/snmpd.conf</code>.</p></td>
</tr>
<tr class="even">
<td><p>BGP4</p>
<span id="src-5866145_SNMPMonitoring-bgp4"></span></td>
<td><p>Implementation of the BGP4 MIB (RFC 4273) which includes bgpPeerTable and bgp4PathAttrTable. By default, the <code>bgp4_pp.py</code> script does not show the bgp4PathAttrTable since this can be very large and result in a periodic CPU spike. To enable this table, add <em>--include-paths</em> to the end of the line (as an option) after uncommenting it in the <code>/etc/snmp/snmpd.conf</code> configuration file.</p>
<pre><code>#pass_persist .1.3.6.1.2.1.15 /usr/share/snmp/bgp4_pp.py</code></pre></td>
</tr>
<tr class="odd">
<td><p>CUMULUS-COUNTERS-MIB</p></td>
<td><p>Discard counters: Cumulus Linux also includes its own counters MIB, defined in <code>/usr/share/snmp/mibs/Cumulus-Counters-MIB.txt</code>. It has the OID <code>.1.3.6.1.4.1.40310.2</code></p></td>
</tr>
<tr class="even">
<td><p>CUMULUS-RESOURCE-QUERY-MIB</p></td>
<td><p>Cumulus Linux includes its own resource utilization MIB, which is similar to using <code>cl-resource-query </code>. It monitors L3 entries by host, route, nexthops, ECMP groups and L2 MAC/BDPU entries. The MIB is defined in <code>/usr/share/snmp/mibs/Cumulus-Resource-Query-MIB.txt</code>, and has the OID <code>.1.3.6.1.4.1.40310.1.</code></p></td>
</tr>
<tr class="odd">
<td><p>CUMULUS-POE-MIB</p></td>
<td><p>The Cumulus Networks custom <a href="/version/cumulus-linux-330/System-Configuration/Power-over-Ethernet---PoE">Power over Ethernet</a> PoE MIB defined in <code>/usr/share/snmp/mibs/Cumulus-POE-MIB.txt</code>. For devices that provide PoE, this provides users with the system wide power information in poeSystemValues as well as per interface PoeObjectsEntry values for the poeObjectsTable. Most of this information comes from the <code>poectl</code> command. This MIB is enabled by uncommenting the following line in <code>/etc/snmp/snmpd.conf</code>:</p>
<pre><code>#pass_persist .1.3.6.1.4.1.40310.3 /usr/share/snmp/cl_poe_pp.py</code></pre></td>
</tr>
<tr class="even">
<td><p>DISMAN-EVENT</p></td>
<td><p>Trap monitoring</p></td>
</tr>
<tr class="odd">
<td><p>ENTITY</p></td>
<td><p>From RFC 4133, the temperature sensors, fan sensors, power sensors, and ports are covered.</p></td>
</tr>
<tr class="even">
<td><p>ENTITY-SENSOR</p></td>
<td><p>Physical sensor information (temperature, fan, and power supply) from RFC 3433.</p></td>
</tr>
<tr class="odd">
<td><p>HOST-RESOURCES</p></td>
<td><p>Users, storage, interfaces, process info, run parameters</p></td>
</tr>
<tr class="even">
<td><p>IEEE8023-LAG-MIB</p></td>
<td><p>Implementation of the IEEE 8023-LAG-MIB includes the dot3adAggTable and dot3adAggPortListTable tables. To enable this, edit <code>/etc/snmp/snmpd.conf</code> and uncomment or add the following lines:</p>
<pre><code>view systemonly included .1.2.840.10006.300.43
pass_persist .1.2.840.10006.300.43 /usr/share/snmp/ieee8023_lag_pp.py</code></pre></td>
</tr>
<tr class="odd">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/interfaces.html" class="external-link">IF-MIB</a></p></td>
<td><p>Interface description, type, MTU, speed, MAC, admin, operation status, counters</p></td>
</tr>
<tr class="even">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/ip.html" class="external-link">IP (includes ICMP)</a></p></td>
<td><p>IPv4, IPv4 addresses, counters, netmasks</p></td>
</tr>
<tr class="odd">
<td><p>IPv6</p></td>
<td><p>IPv6 counters</p></td>
</tr>
<tr class="even">
<td><p>IP-FORWARD</p></td>
<td><p>IP routing table</p></td>
</tr>
<tr class="odd">
<td><p><a href="http://www.mibdepot.com/cgi-bin/getmib3.cgi?i=1&amp;n=LLDP-MIB&amp;r=cisco&amp;f=LLDP-MIB-V1SMI.my&amp;v=v1&amp;t=tree" class="external-link">LLDP</a></p></td>
<td><p>L2 neighbor info from <code>lldpd</code> (note, you need to <a href="Link-Layer-Discovery-Protocol.html#src-5866184_LinkLayerDiscoveryProtocol-snmp">enable the SNMP subagent</a> in LLDP). <code>lldpd</code> needs to be started with the <code>-x</code> option to enable connectivity to <code>snmpd</code> (AgentX).</p></td>
</tr>
<tr class="even">
<td><p><a href="http://support.ipmonitor.com/mibs_byoidtree.aspx?oid=.1.3.6.1.4.1.2021.13.16" class="external-link">LM-SENSORS MIB</a></p></td>
<td><p>Fan speed, temperature sensor values, voltages. This is deprecated since the ENTITY-SENSOR MIB has been added.</p></td>
</tr>
<tr class="odd">
<td><p>NET-SNMP-AGENT</p></td>
<td><p>Agent timers, user, group config</p></td>
</tr>
<tr class="even">
<td><p>NET-SNMP-EXTEND</p></td>
<td><p>Agent timers, user, group config</p></td>
</tr>
<tr class="odd">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/netSnmpExtendMIB.html" class="external-link">NET-SNMP-EXTEND-MIB</a></p></td>
<td><p>See <a href="https://support.cumulusnetworks.com/hc/en-us/articles/204507848" class="external-link">this knowledge base article</a> on extending NET-SNMP in Cumulus Linux to include data from power supplies, fans and temperature sensors.</p></td>
</tr>
<tr class="even">
<td><p>NET-SNMP-VACM</p></td>
<td><p>Agent timers, user, group config</p></td>
</tr>
<tr class="odd">
<td><p><a href="http://www.net-snmp.org/docs/mibs/notificationLogMIB.html" class="external-link">NOTIFICATION-LOG</a></p></td>
<td><p>Local logging</p></td>
</tr>
<tr class="even">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/snmpFrameworkMIB.html" class="external-link">SNMP-FRAMEWORK</a></p></td>
<td><p>Users, access</p></td>
</tr>
<tr class="odd">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/snmpMPDMIB.html" class="external-link">SNMP-MPD</a></p></td>
<td><p>Users, access</p></td>
</tr>
<tr class="even">
<td><p><a href="http://www.net-snmp.org/docs/mibs/snmpTargetMIB.html" class="external-link">SNMP-TARGET</a></p></td>
<td><p></p></td>
</tr>
<tr class="odd">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/snmpUsmMIB.html" class="external-link">SNMP-USER-BASED-SM</a></p></td>
<td><p>Users, access</p></td>
</tr>
<tr class="even">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/snmpVacmMIB.html" class="external-link">SNMP-VIEW-BASED-ACM</a></p></td>
<td><p>Users, access</p></td>
</tr>
<tr class="odd">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/snmpMIB.html" class="external-link">SNMPv2</a></p></td>
<td><p>SNMP counters. For information on exposing CPU and memory information via SNMP, see this <a href="https://support.cumulusnetworks.com/hc/en-us/articles/203922988" class="external-link">knowledge base article</a>.</p></td>
</tr>
<tr class="even">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/tcp.html" class="external-link">TCP</a></p></td>
<td><p>TCP related information</p></td>
</tr>
<tr class="odd">
<td><p><a href="http://www.net-snmp.org/docs/mibs/UCD-SNMP-MIB.txt" class="external-link">UCD-SNMP</a></p></td>
<td><p>System memory, load, CPU, disk IO</p></td>
</tr>
<tr class="even">
<td><p><a href="http://net-snmp.sourceforge.net/docs/mibs/udp.html" class="external-link">UDP</a></p></td>
<td><p>UDP related information</p></td>
</tr>
</tbody>
</table>


<div class="notices note" > <p>Due to licensing restrictions, SNMP support within Quagga has been
disabled and not included in Cumulus Linux.</p>

<p>However, Cumulus Linux does support the BGP4 MIB (RFC 4273), which
includes bgpPeerTable and bgp4PathAttrTable. By default, the pass
persist script <code>bgp4_pp.py</code> does not show the bgp4PathAttrTable since it
can be very large and result in a periodic CPU spike.</p>

<p>To enable this table, <a href="#src-5866145_SNMPMonitoring-bgp4">see above</a>.</p>
 </div>



<div class="notices note" > <p>The ENTITY MIB does not currently show the chassis information in
Cumulus Linux.</p>
 </div>


<article id="html-search-results" class="ht-content" style="display: none;">

</article>

<footer id="ht-footer">

</footer>
</article>

      <script src="https://utteranc.es/client.js"
        repo="CumulusNetworks/docs-internal"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>

    </div>
    

      


  

    <aside class="book-toc fixed">

  
    <div class="toc">
    
      <button>
      <a href="https://github.com/CumulusNetworks/docs/edit/master/content/version/cumulus-linux-330/Monitoring-and-Troubleshooting/SNMP-Monitoring/_index.md" target="_blank" rel="noopener"><img src="/docs.cumulusnetworks.com/svg/pencil-circle.svg" alt="Edit" /> Edit this page</a>
      </button>
    
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#span-introduction-to-snmp-simple-network-management-protocol-span"><span>Introduction to SNMP (Simple Network Management Protocol)</span></a></li>
<li><a href="#span-configuring-ports-for-snmp-to-listen-for-requests-span"><span>Configuring Ports for SNMP to Listen for Requests</span></a></li>
<li><a href="#span-quick-start-guide-span"><span>Quick Start Guide</span></a></li>
<li><a href="#span-starting-the-snmp-daemon-span"><span>Starting the SNMP Daemon</span></a></li>
<li><a href="#span-configuring-snmp-span"><span>Configuring SNMP</span></a>
<ul>
<li><a href="#span-setting-up-the-custom-cumulus-networks-mibs-span"><span>Setting up the Custom Cumulus Networks MIBs</span></a></li>
<li><a href="#span-enabling-the-1-3-6-1-2-1-range-span"><span>Enabling the .1.3.6.1.2.1 Range</span></a></li>
<li><a href="#span-enabling-public-community-span"><span>Enabling Public Community</span></a></li>
<li><a href="#span-configuring-snmpv3-span"><span>Configuring SNMPv3</span></a></li>
</ul></li>
<li><a href="#span-snmpwalk-a-switch-from-another-linux-device-span"><span>snmpwalk a Switch from Another Linux Device</span></a>
<ul>
<li><a href="#span-troubleshooting-tips-table-for-snmpwalks-span"><span>Troubleshooting Tips Table for snmpwalks</span></a></li>
</ul></li>
<li><a href="#span-snmp-traps-span"><span>SNMP Traps</span></a>
<ul>
<li><a href="#span-generating-event-notification-traps-span"><span>Generating Event Notification Traps</span></a>
<ul>
<li><a href="#span-defining-access-credentials-span"><span>Defining Access Credentials</span></a></li>
<li><a href="#span-defining-trap-receivers-span"><span>Defining Trap Receivers</span></a></li>
<li><a href="#span-sourcing-traps-from-a-different-source-ip-address-span"><span>Sourcing Traps from a Different Source IP Address</span></a></li>
<li><a href="#span-monitoring-fans-power-supplies-and-transformers-span"><span>Monitoring Fans, Power Supplies and Transformers</span></a></li>
<li><a href="#span-enabling-mib-to-oid-translation-span"><span>Enabling MIB to OID Translation</span></a></li>
<li><a href="#span-configuring-link-up-down-notifications-span"><span>Configuring Link Up/Down Notifications</span></a></li>
<li><a href="#span-configuring-temperature-notifications-span"><span>Configuring Temperature Notifications</span></a></li>
<li><a href="#span-configuring-free-memory-notifications-span"><span>Configuring Free Memory Notifications</span></a></li>
<li><a href="#span-configuring-processor-load-notifications-span"><span>Configuring Processor Load Notifications</span></a></li>
<li><a href="#span-configuring-disk-utilization-notifications-span"><span>Configuring Disk Utilization Notifications</span></a></li>
<li><a href="#span-configuring-authentication-notifications-span"><span>Configuring Authentication Notifications</span></a></li>
</ul></li>
<li><a href="#span-snmptrapd-conf-span"><span>snmptrapd.conf</span></a></li>
</ul></li>
<li><a href="#span-id-src-5866145-snmpmonitoring-supported-mibs-class-confluence-anchor-link-span-span-supported-mibs-span"><span id="src-5866145_SNMPMonitoring-supported_mibs" class="confluence-anchor-link"></span><span>Supported MIBs</span></a></li>
</ul></li>
</ul>
</nav>
    </div>
  

</aside>






  </main>
  <footer class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="footer-content">
            <div class="mb-4">
                <img src="https://static.cumulusnetworks.com/static/images/shared/cumulus-networks-rt-white-trademarked.ff839f1b2570.svg">
                <p> <script type="text/javascript">document.write(new Date().getFullYear());</script> Cumulus Networks.<br>
                Site by <a href="//unomena.com/" target="_blank">Unomena</a>.</p>
            </div>
            <ul class="mb-4">
              <li><h4>Products</h4></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-linux/">Cumulus Linux</a></li>
              <li><a href="//cumulusnetworks.com/products/netq/">Cumulus NetQ</a></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-express/">Cumulus Express</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>Learn</h4></li>
              <li><a href="//cumulusnetworks.com/learn/web-scale-networking-education/">Going web-scale</a></li>
              <li><a href="//cumulusnetworks.com/learn/events/">Events</a></li>
              <li><a href="//cumulusnetworks.com/blog/">Blog</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>About</h4></li>
              <li><a href="//cumulusnetworks.com/about/">Our story</a></li>
              <li><a href="//cumulusnetworks.com/about/careers/">Careers</a></li>
              <li><a href="//cumulusnetworks.com/about/media-coverage/">Media coverage</a></li>
              <li><a href="//docs.cumulusnetworks.com/" target="_blank">Tech docs</a></li>
              <li><a href="//cumulusnetworks.com/community/">Community</a></li>
            </ul>
            <ul>
              <li>
                <a href="//twitter.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M23 6.628l-2-.5 1-2-2.464.7A4.48 4.48 0 0 0 12 8.128v1c-3.539.73-6.634-1.2-9.5-4.5q-.75 4 1.5 6l-3-.5c.405 2.069 1.362 3.7 4 4l-2.5 1c1 2 2.566 2.31 5 2.5a10.748 10.748 0 0 1-6.5 2c12.755 5.669 20-2.664 20-10V8.3z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.facebook.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M17.768 7.5H13.5V5.6a.972.972 0 0 1 1.012-1.1c.418 0 2.988.01 2.988.01V.5h-4.329C9.244.5 8.5 3.474 8.5 5.355V7.5h-3v4h3v12h5v-12h3.851z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//linkedin.com/company/cumulus-networks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M6.5 22.5h-5v-13h5zm9-9a2 2 0 0 0-2 2v7h-5v-13h5v1.485a6.307 6.307 0 0 1 3.99-1.495c2.962 0 5.01 2.2 5.01 6.355V22.5h-5v-7a2 2 0 0 0-2-2zM6.5 5A2.5 2.5 0 1 1 4 2.5 2.5 2.5 0 0 1 6.5 5z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//vimeo.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M.5 7.393l.933 1.224S3.36 7.1 4 7.859s3.1 9.925 3.915 11.617c.714 1.483 2.684 3.444 4.845 2.042s9.34-7.529 10.626-14.769-8.642-5.723-9.693.583c2.627-1.577 4.03.642 2.686 3.154s-2.569 4.145-3.211 4.145-1.135-1.679-1.868-4.613c-.76-3.035-.755-8.5-3.911-7.882C4.412 2.721.5 7.393.5 7.393z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.github.com/cumulusnetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <path class="a" d="M19.459 17c0-5.969-4.126-3.532-7.5-3.532s-7.5-2.375-7.5 3.532a3.5 3.5 0 0 0 3.5 3.5h8a3.5 3.5 0 0 0 3.5-3.5z"></path>
                    <path class="a" d="M21.489 10.214l.032.023s2.646-4.572-.6-7.237c-2 0-5.058 3.3-5.058 3.3l.022.016A14.152 14.152 0 0 0 8.1 6.3C8.083 6.285 5.037 3 3.042 3c-3.173 2.6-.729 7.012-.614 7.217a8.876 8.876 0 0 0-1.395 5.743c.241 3.126 2.847 6.54 5.982 6.54H16.9c3.135 0 5.742-3.414 5.982-6.54a8.857 8.857 0 0 0-1.393-5.746z"></path>
                    <ellipse class="a" cx="15.48" cy="17" rx="1" ry="1.5"></ellipse>
                    <ellipse class="a" cx="8.48" cy="17" rx="1" ry="1.5"></ellipse>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//slack.cumulusnetworks.com/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <rect class="a" x=".5" y=".5" width="23" height="23" rx="6" ry="6"></rect>
                    <circle class="a" cx="12" cy="12" r="6"></circle>
                    <circle class="a" cx="19" cy="5" r="1.5"></circle>
                  </svg>
                </a>
              </li>
              <li>
                <p>Cumulus Networks<sup></sup>  Data center networking software for the open, modern data center.</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div class="footer-bottom">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <ul>
                      <li><a href="//cumulusnetworks.com/legal/trademarks/">Trademarks</a></li>
                      <li><a href="//cumulusnetworks.com/legal/privacy/">Privacy</a></li>
                      <li><a href="//cumulusnetworks.com/legal/">Terms of service</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>

  
  

</body>

</html>
