<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Maintain NetQ | Cumulus Networks Documentation</title>

  
  <link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/docs.cumulusnetworks.com/book.min.a378d8a2da6f5357a83a43dff33d6f77fb70401e0399d5ba78faf81d7a1ae1a8.css">

  
  <link rel="icon" href="/docs.cumulusnetworks.com/icons/favicon.png" type="image/x-icon">

  
  <!--
  Made with Book Theme
  https://github.com/alex-shpak/hugo-book
  -->

  
  
  <script src = "/docs.cumulusnetworks.com/js/codecopy.js"> </script>

</head>


<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  
  <header id="site-nav">
    <div class="header-wrapper flex">
      <a href="/">
        <img src="/header-logo.png" alt="Cumulus Networks">
        <img src="/cumulus-networks-rt-white.svg" alt="Cumulus Networks" class="header-mobile">
        <span>Docs</span>
      </a>
      <ul class="flex">
        <li><a href="//cumulusnetworks.com">HOME</a></li>
        <li><a href="//support.cumulusnetworks.com/">SUPPORT</a></li>
        <li><a href="//docs.cumulusnetworks.com/">DOCS</a></li>
        <li><a href="//education.cumulusnetworks.com">EDUCATION</a></li>
        <li><a href="//cumulusnetworks.com/blog/">BLOG</a></li>
        <li><a href="//forums.cumulusnetworks.com/">FORUMS</a></li>
      </ul>
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>
  <div id="product-nav" class="flex">
      
    
    <ul>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-linux/ >
        Cumulus Linux </a> </li>
    
      <li class = "active" ><a href = docs.cumulusnetworks.com/cumulus-netq/ >
        Cumulus NetQ </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-vx/ >
        Cumulus VX </a> </li>
    
      <li>
        <div id="products-dropdown" class="dropdown">
            <button class="btn" type="button" id="dropdownMenuButton">
              Products
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="">Cumulus RMP</a>
              <a class="dropdown-item" href="">Cumulus Chassis</a>
              <a class="dropdown-item" href="">Cumulus Host Pack</a>
            </div>
        </div>
      </li>
    </ul>
    <div class="search-container">
      <div id="doc-search-box">
        <input type="text" class="doc-search-input" placeholder="Search" value="">
        <span><button type="submit"><img src="/icons/search_20x20.svg" alt=""></button></span>
      </div>
      <div id="dropdown" class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton">
            v1.4.1
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/cumulus-netq/"> v2.2.0</a>
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-10/"> v1.0.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-110/"> v1.1.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-121/"> v1.2.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-141/"> v1.4.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-21/"> v2.1</a>
            
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
          </div>
      </div>
    </div>
  </div>
  <main class="flex container">
    <aside class="book-menu fixed">

      <nav role="navigation">
        <h2 class="book-brand">
          <a href="docs.cumulusnetworks.com">Cumulus Networks Documentation</a>
        </h2>
        
        




  <ul class = "cn-book-section-container" id = "top">
    
        
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
            

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/" >
    Cumulus NetQ
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/" >
    Cumulus NetQ Image and Provisioning Management User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/IPM-Preface/" >
    IPM Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/IPM-Command-Line-Overview/" >
    IPM Command Line Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Activate-and-Initialize-IPM/" >
    Activate and Initialize IPM
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Configure-and-Manage-DHCP-Options/" >
    Configure and Manage DHCP Options
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Manage-Network-Operating-System-Images/" >
    Manage Network Operating System Images
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Manage-Zero-Touch-Provisioning-Scripts/" >
    Manage Zero-Touch Provisioning Scripts
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/" >
    Cumulus NetQ Telemetry User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/" >
    Early Access Features
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Extend-NetQ-with-Custom-Commands/" >
    Extend NetQ with Custom Commands
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Query-the-NetQ-Database/" >
    Query the NetQ Database
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Collect-Interface-Statistics/" >
    Collect Interface Statistics
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/" >
    Resolve Issues
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Event-Message-Reference/" >
    Event Message Reference
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Methods-for-Diagnosing-Network-Issues/" >
    Methods for Diagnosing Network Issues
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Resolve-MLAG-Issues/" >
    Resolve MLAG Issues
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Investigate-NetQ-Issues/" >
    Investigate NetQ Issues
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Telemetry-Preface/" >
    Telemetry Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/NetQ-Command-Line-Overview/" >
    NetQ Command Line Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/NetQ-Service-Console/" >
    NetQ Service Console
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Overall-Network-Health/" >
    Monitor Overall Network Health
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Switch-Hardware-and-Software/" >
    Monitor Switch Hardware and Software
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Physical-Layer-Components/" >
    Monitor Physical Layer Components
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Data-Link-Layer-Devices-and-Protocols/" >
    Monitor Data Link Layer Devices and Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Network-Layer-Protocols/" >
    Monitor Network Layer Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Virtual-Network-Overlays/" >
    Monitor Virtual Network Overlays
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Linux-Hosts/" >
    Monitor Linux Hosts
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Container-Environments/" >
    Monitor Container Environments
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Automate-Common-and-Repetitive-Tasks/" >
    Automate Common and Repetitive Tasks
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/" >
    Cumulus NetQ Deployment Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Deployment-Preface/" >
    Deployment Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ/" >
    Install NetQ
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Configure-Optional-NetQ-Capabilities/" >
    Configure Optional NetQ Capabilities
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Maintain-NetQ/"  class="active" >
    Maintain NetQ
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Deployment-Appendices/" >
    Deployment Appendices
  </a>


    </li>
    
  </ul>


  </li>


    
    
  </ul>


  </li>


          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
    
  </ul>









      </nav>

      
      
      
      

      <script src = "/docs.cumulusnetworks.com/js/menuBundle.js"> </script>


    </aside>

    <div class="book-page">

      
      <header class="align-center justify-between book-header">
        <label for="menu-control">
          <img src="/docs.cumulusnetworks.com/svg/menu.svg" alt="Menu" />
        </label>
        <strong>Maintain NetQ</strong>
      </header>

      
      
<div class= "notices info" id = "info" >
    This documentation is for an older version of the software. If you are using the current version of Cumulus Linux, this content may not be up to date. The current version of the documentation is available [here](https://docs.cumulusnetworks.com/).
  </div>
<article class="markdown">
<h1>Maintain NetQ</h1>

<p>While regular maintenance of NetQ is not required, there are some tasks
that you may want to perform in the course of everyday operations. As
the network changes, you might have the need to add or remove monitored
nodes, notification integrations, and NetQ Agents for example. You might
also need to restore NetQ to a prior version or upgrade to a new
version.</p>

<h2 id="span-manage-the-telemetry-server-span"><span>Manage the Telemetry Server</span></h2>

<p><span style="color: #36424a;"> Because the Telemetry Server (TS)
contains the configurations for event notification integrations and NetQ
Notifier filters, you might need to modify these configurations at some
point in the life cycle of your deployment. Adding new integrations and
filters are described in <a href="/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Configure-Optional-NetQ-Capabilities">Configure Optional NetQ
Capabilities</a>.
Removing them is described here. </span></p>

<h3 id="span-remove-an-event-notification-integration-span"><span>Remove an Event Notification Integration</span></h3>

<p>You can delete an event notification integration using the <code>netq config
ts del notifier integration INTEGRATION</code> command. You can verify it has
been removed using the related <code>show</code> command.</p>

<p>For example, to remove a Slack integration and verify it is no longer in
the configuration:</p>

<pre><code>cumulus@ts:~$ netq config ts del notifier integration slack-test
cumulus@ts:~$ netq config ts restart notifier 
cumulus@ts:~$ netq config ts show notifier integration
Integration Name    Attribute    Value
------------------  -----------  -----------------------------------------------------------
pager-duty-test     api_integration_key  9876543210
                    type                 pagerduty
                    severity             info
                    api_access_key       1234567890
 
Filter Name    Attribute    Value
-------------  -----------  -------
default        output       ALL
               rule
</code></pre>

<h3 id="span-delete-a-netq-notifier-filter-span"><span>Delete a NetQ Notifier Filter</span></h3>

<p>To delete a filter, use the following command, then restart the Notifier
service:</p>

<pre><code>cumulus@ts:~$ netq config ts del notifier filter &lt;filter-name&gt;
cumulus@ts:~$ netq config ts restart notifier 
cumulus@ts:~$ netq config ts show notifier integration
</code></pre>

<h2 id="span-manage-the-netq-agents-span"><span>Manage the NetQ Agents</span></h2>

<p>At various points in time, you might want to change which network nodes
are being monitored by NetQ or look more closely at a network node for
troubleshooting purposes. Adding the NetQ Agent to a switch or host is
described in <a href="/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ">Install
NetQ</a>.
Removing or simply decommissioning an Agent is described here. Managing
NetQ Agent logging is also presented in this section.</p>

<h3 id="span-id-src-10453451-maintainnetq-decom-class-confluence-anchor-link-span-span-remove-netq-agent-from-a-node-span"><span id="src-10453451_MaintainNetQ-decom" class="confluence-anchor-link"></span><span>Remove NetQ Agent from a Node</span></h3>

<p>You can decommission NetQ Agent on a given node. You might need to do
this when you:</p>

<ul>
<li><p>RMA the switch or host being monitored</p></li>

<li><p>Change the hostname of the switch or host being monitored</p></li>

<li><p>Move the switch or host being monitored from one data center to
another</p></li>
</ul>


<div class="notices note" > <p>Decommissioning the node removes the agent from the NetQ database, along
with the node&rsquo;s history.</p>
 </div>


<p>To decommission a node from the NetQ database, first disable the Agent
on that node and then run the following command on the TS:</p>

<pre><code>cumulus@hostname:~$ netq config stop agent
 
cumulus@ts:~$ netq ts decommission [hostname] purge
</code></pre>

<h3 id="span-disable-netq-agent-on-a-node-span"><span>Disable NetQ Agent on a Node</span></h3>

<p>You can temporarily disable NetQ Agent on a node. Disabling the agent
maintains the activity history in the NetQ database.</p>

<p>To disable NetQ Agent on a node, run the following command from the
node:</p>

<pre><code>cumulus@switch:~$ netq config stop agent
</code></pre>

<h3 id="span-id-src-10453451-maintainnetq-agentlog-class-confluence-anchor-link-span-span-configure-logging-for-a-netq-agent-span"><span id="src-10453451_MaintainNetQ-AgentLog" class="confluence-anchor-link"></span><span>Configure Logging for a NetQ Agent</span></h3>

<p>The logging level used for a NetQ Agent determines what types of events
are logged about the NetQ Agent on the switch or host.</p>

<p><span style="color: #222222;"> First, you need to decide what level of
logging you want to configure. You can configure the logging level to be
the same for every NetQ Agent, or selectively increase or decrease the
logging level for a NetQ Agent on a problematic node. </span></p>

<table>
<thead>
<tr>
<th>Logging Level</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>debug</td>
<td><span style="color: #ff0000;"> Sends notifications for all debugging-related, informational, warning, and error messages. </span></td>
</tr>

<tr>
<td>info</td>
<td><span style="color: #ff0000;"> <span style="color: #000000;"> Sends notifications for </span> informational, warning, and error messages (default). </span></td>
</tr>

<tr>
<td>warning</td>
<td><span style="color: #ff0000;"> <span style="color: #000000;"> Sends notifications for </span> warning and error messages. </span></td>
</tr>

<tr>
<td>error</td>
<td><span style="color: #ff0000;"> <span style="color: #000000;"> Sends notifications for </span> errors messages. </span></td>
</tr>
</tbody>
</table>

<p>You can view the NetQ Agent log directly. Messages have the following
structure:</p>

<p><code>&lt;timestamp&gt; &lt;node&gt; &lt;service&gt;[PID]: &lt;level&gt;: &lt;message&gt;</code></p>

<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>timestamp</td>
<td>Date and time event occurred in UTC format</td>
</tr>

<tr>
<td>node</td>
<td>Hostname of network node where event occurred</td>
</tr>

<tr>
<td>service [PID]</td>
<td>Service and Process IDentifier that generated the event</td>
</tr>

<tr>
<td>level</td>
<td>Logging level in which the given event is classified; <em>debug</em>, <em>error</em>, <em>info</em>, or <em>warning</em></td>
</tr>

<tr>
<td>message</td>
<td>Text description of event, including the node where the event occurred</td>
</tr>
</tbody>
</table>

<p>For example:</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453451/image2018-10-2-17_48_9.png" alt = "/images/download/attachments/10453451/image2018-10-2-17_48_9.png"


width = 800

 />


<p>This example shows a portion of a NetQ Agent log with debug level
logging.</p>

<pre><code>...
2018-10-02T20:41:25.024945+00:00 mlx-2700-03 netq-agent[22438]: DEBUG: RX RTM_NEWLINK for ifname lo, admin_state up, oper_state up
2018-10-02T20:41:25.028873+00:00 mlx-2700-03 netq-agent[22438]: DEBUG: Adding new link Link(managed=True, down_reason=, oper_state=up, learning_en=False, access_vlan=0, stp_state=3, hostname=mlx-2700-03, parent_if=lo, master=lo, objid=, mac_address=00:00:00:00:00:00, ifname=lo, dstport=0, deleted=False, timestamp=1538512885.02, vni=0, admin_state=up, vrf=default, active=True, vlans=, is_vlan_filtering=False, arp_suppress_en=False, kind=loopback, mtu=65536, localip=, rt_table_id=254, ifindex=1) to DB
2018-10-02T20:41:25.032503+00:00 mlx-2700-03 netq-agent[22438]: DEBUG: RX RTM_NEWLINK for ifname eth0, admin_state up, oper_state up
2018-10-02T20:41:23.606085+00:00 mlx-2700-03 netq-agent[22438]: INFO: Redis Ping to server succeeded.
...
</code></pre>

<p><strong>Example: Configure debug-level logging</strong></p>

<ol>
<li><p>Set the logging level to <em>debug.</em></p>

<pre><code>cumulus@switch:~$ netq config add agent loglevel debug
</code></pre></li>

<li><p>Restart the NetQ Agent.</p>

<pre><code>cumulus@switch:~$ netq config restart agent
</code></pre></li>

<li><p>Verify connection to Telemetry Server.</p>

<pre><code>cumulus@switch:~$ netq config show server
Server            Port       VRF             Status
----------------- ---------- --------------- ----------------
192.168.0.254     6379       default         ok
</code></pre></li>
</ol>

<p><span style="color: #222222;"> <strong>Example: Configure warning-level
logging</strong> </span></p>

<pre><code>cumulus@switch:~$ netq config add agent loglevel warning 
cumulus@switch:~$ netq config restart agent 
cumulus@switch:~$ netq config show server
</code></pre>

<p><strong>Example: Disable Agent Logging</strong></p>

<p><span style="color: #222222;"> If you have set the logging level to
<em>debug</em> for troubleshooting, it is recommended that you either change
the logging level to a less heavy mode or completely disable agent
logging altogether when you are finished troubleshooting. </span></p>

<p><span style="color: #222222;"> To change the logging level, run the
following command and restart the agent service: </span></p>

<pre><code>cumulus@switch:~$ netq config add agent loglevel &lt;LOG_LEVEL&gt; 
cumulus@switch:~$ netq config restart agent
</code></pre>

<p>To disable all logging:</p>

<pre><code>cumulus@switch:~$ netq config del agent loglevel 
cumulus@switch:~$ netq config restart agent
</code></pre>

<h2 id="span-id-src-10453451-maintainnetq-backup-class-confluence-anchor-link-span-span-restore-netq-from-backup-files-span"><span id="src-10453451_MaintainNetQ-Backup" class="confluence-anchor-link"></span><span>Restore NetQ from Backup Files</span></h2>

<p>NetQ automatically takes snapshots of the NetQ Telemetry Server at five
minute intervals. These snapshots can be used to restore to a previous
configuration, or to diagnose existing issues with the configuration.
For information regarding how long snapshot data is stored, refer to the
<a href="/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Methods-for-Diagnosing-Network-Issues">How Far Back in Time Can You
Travel</a>
section.</p>


<div class="notices note" > <p>There are no configuration steps required for setting up backups. NetQ
snapshots occur automatically.</p>
 </div>


<p>There are several use-cases in which restoring from a snapshot may be
warranted. These include:</p>

<ul>
<li><p>Upgrading the physical server to increase available resources.</p></li>

<li><p>Migrating from one physical server to another.</p></li>

<li><p>NetQ Telemetry Server becomes unavailable.</p></li>
</ul>

<h3 id="span-backup-locations-span"><span>Backup Locations</span></h3>

<p>Backup snapshots can be found in two file locations on the NetQ
Telemetry Server:</p>

<ul>
<li><p><code>/var/log/backup</code>: The latest, or master, snapshot.</p></li>

<li><p><code>/var/backup</code>: Directory of previous snapshots.</p></li>
</ul>

<h3 id="span-restore-netq-from-a-snapshot-span"><span>Restore NetQ from a Snapshot</span></h3>

<p>To restore the NetQ Telemetry Server from a snapshot:</p>

<ol>
<li><p>Extract the GZip snapshot you wish to restore into a file called
<code>appendonly.aof</code>. The example command below uses the master
snapshot:</p>

<pre><code>root@cumulus:~# gzip -d &lt; /var/backup/appendonly.aof_master_2017-06-06_054601.gz &gt; appendonly.aof
</code></pre>

<p>The snapshot filename has several parts:</p>

<ul>
<li><p><code>appendonly.aof</code>: The base file name.</p></li>

<li><p><code>_master_</code>: Defines this file as the current master snapshot.</p></li>

<li><p><code>2017-06-06_054601</code>: The date and time the snapshot was taken.</p></li>
</ul></li>

<li><p>Shutdown the NetQ stack:</p>

<pre><code>root@cumulus:~# sudo systemctl stop netq-appliance
</code></pre></li>

<li><p>Copy the extracted <code>appendonly.aof</code> file into the data directory:</p>

<pre><code>root@cumulus:~# cp appendonly.aof /mnt/data/redis/master/appendonly.aof
</code></pre></li>

<li><p>Use the <code>grep</code> command to confirm the Redis configuration is still
set correctly:</p>

<pre><code>root@cumulus:~# grep appendonly /etc/cts/redis/*conf
/etc/cts/redis/redis.conf:appendonly yes
/etc/cts/redis/redis.conf:appendfilename &quot;appendonly.aof&quot;
root@cumulus:~# grep 'save &quot;&quot;' /etc/cts/redis/*conf
/etc/cts/redis/redis.conf:save &quot;&quot;
</code></pre></li>

<li><p>Restart the NetQ Stack:</p>

<pre><code>root@cumulus:~# sudo systemctl start netq-appliance
</code></pre></li>
</ol>

<h2 id="span-upgrade-netq-span"><span>Upgrade NetQ</span></h2>

<p>This section covers the process for upgrading NetQ. The upgrade process
involves upgrading each of the NetQ components (the NetQ Telemetry
Server and NetQ Agents on Cumulus Linux switches and hosts running other
Linux operating systems), and then connecting the upgraded NetQ
Telemetry Server to the network.</p>


<div class="notices info" > <p>Cumulus Networks recommends only upgrading NetQ during a network
maintenance window.</p>
 </div>



<div class="notices warning" > <p>Events generated during the upgrade process will not be available in the
database. Once the upgrade process is complete, the agents re-sync with
the current state of the Host or Cumulus Linux switch with the Telemetry
Server.</p>
 </div>


<p>Before upgrading NetQ, consider the following:</p>

<ul>
<li><p>The minimum supported Cumulus Linux version for NetQ 1.4.0 is 3.3.2.</p></li>

<li><p>You must upgrade your NetQ Agents as well as the Telemetry Server.</p></li>

<li><p>You can upgrade to NetQ 1.4.0 without upgrading Cumulus Linux.</p></li>
</ul>

<h3 id="span-upgrade-the-netq-telemetry-server-span"><span>Upgrade the NetQ Telemetry Server</span></h3>

<p>The first step in upgrading NetQ is to update your Telemetry Server (or
servers if you are running in HA mode). If you are installing a <em>new</em>
instance of NetQ, follow the instruction in the <a href="/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ">Install
NetQ</a>
topic.</p>

<ol>
<li><p>Back up the current NetQ Telemetry Server data. For instructions,
refer to <a href="#src-10453451_MaintainNetQ-Backup">Restore NetQ from Backup
Files</a>.</p></li>

<li><p>Shut down the connectivity from the Agents to the current NetQ
Telemetry Server.</p>


<div class="notices warning" > <pre><code>This step is required to ensure Agents don't attempt to communicate
with the Telemetry Server during the maintenance window.
</code></pre>
 </div>


<p>On each server or host currently running a NetQ Agent:</p>

<ol>
<li><p>Run <code>netq config stop agent</code>.</p></li>

<li><p>Run <code>netq del agent</code>.</p></li>
</ol></li>

<li><p>Shut down the current NetQ Telemetry Server.</p>

<ol>
<li><p>Open your hypervisor management tool, such as Virtual Machine
Manager or VirtualBox.</p></li>

<li><p>Stop the Telemetry Server VM and remove it.</p></li>
</ol></li>

<li><p>Install the new NetQ Telemetry Server, using instructions in the
<a href="/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ">Install
NetQ</a>
topic.</p></li>

<li><p>Restore the data to the new NetQ Telemetry Server. For instructions,
refer to <a href="#src-10453451_MaintainNetQ-Backup">Restore NetQ from Backup
Files</a>.</p>


<div class="notices info" > <pre><code>This step can be skipped if there is no desire to retain the
previous data. NetQ agents re-populate with the current data once
they connect to the new NetQ Telemetry Server.
</code></pre>
 </div>
</li>

<li><p>Validate that the Telemetry Server is up and running.</p>

<pre><code>cumulus@ts:~$ sudo systemctl status netq-appliance.service
\u25cf netq-appliance.service - NETQ Backend
  Loaded: loaded (/lib/systemd/system/netq-appliance.service; enabled)
  Active: active (running) since Mon 2018-10-01 18:20:53 UTC; 1 day 2h ago
Main PID: 3471 (docker-compose)
  CGroup: /system.slice/netq-appliance.service
          \u2514\u25003471 /opt/venvs/cl-docker-compose/bin/python /usr/sbin/docker-compose -p netq -f /etc/cts/docker/netq-base-compose.yml up --no-color
Oct 01 18:20:53 redis-1 netq-adjust-mem[3462]: Current REDIS max memory setting in /etc/cts/redis/redis.conf is 8589934592
Oct 01 18:20:53 redis-1 netq-adjust-mem[3462]: Setting REDIS max memory to 11715797811 based on 16736854016 available at 0.70 ratio.
Oct 01 18:20:53 redis-1 systemd[1]: Started NETQ Backend.
Oct 01 18:20:54 redis-1 env[3471]: Creating netq_redis_master_1 ...
Oct 01 18:20:54 redis-1 env[3471]: [83B blob data]
Oct 01 18:20:54 redis-1 env[3471]: Creating netq_netq_1         ...
Oct 01 18:20:55 redis-1 env[3471]: [166B blob data]
</code></pre></li>
</ol>


<div class="notices note" > <p>Cumulus Networks recommends that the NetQ Agents remain disconnected
from the NetQ Telemetry Server until they have been upgraded to the
current version of NetQ as well.</p>
 </div>


<h3 id="span-upgrade-the-netq-agents-span"><span>Upgrade the NetQ Agents</span></h3>

<p>The second step in the NetQ upgrade process is to upgrade the NetQ
Agents on each monitored node. Follow the steps for the relevant OS
below to upgrade the NetQ Agents:</p>

<h4 id="span-cumulus-linux-span"><span>Cumulus Linux</span></h4>

<p>To upgrade the NetQ Agent on a Cumulus Linux switch, do the following:</p>

<ol>
<li><p>Open the <code>/etc/apt/sources.list</code> file in a text editor.</p></li>

<li><p>Add the following line, and save the file:</p>

<pre><code>cumulus@switch:~$ deb https://apps3.cumulusnetworks.com/repos/deb CumulusLinux-3 netq-1.4
</code></pre></li>

<li><p>Install the <code>cumulus-netq</code> metapack and its components:</p>

<pre><code>cumulus@switch:~$ sudo apt-get update &amp;&amp; sudo apt-get install cumulus-netq
</code></pre></li>
</ol>

<h4 id="span-ubuntu-16-04-span"><span>Ubuntu 16.04</span></h4>

<p>To upgrade the NetQ Agent on an Ubuntu host, do the following:</p>

<ol>
<li><p>Use the <code>wget</code> tool to retrieve the public key:</p>

<pre><code>root@ubuntu:~# wget -O- https://apps3.cumulusnetworks.com/setup/cumulus-host-ubuntu.pubkey | apt-key add
</code></pre></li>

<li><p>Open the <code>/etc/apt/sources.list</code> file in a text editor.</p></li>

<li><p>Add the following line, and save the file:</p>

<pre><code>root@ubuntu:~# deb https://apps3.cumulusnetworks.com/repos/deb xenial netq-1.4
</code></pre></li>

<li><p>Install the <code>cumulus-netq</code> metapack and its components:</p>

<pre><code>root@ubuntu:~# sudo apt-get update &amp;&amp; sudo apt-get install cumulus-netq
</code></pre>

<p>When you see the following prompt, type <em>N</em> to keep your current
NetQ configuration in place:</p>

<pre><code>Configuration file '/etc/netq/netq.yml'
 ==&gt; File on system created by you or by a script.
 ==&gt; File also in package provided by package maintainer.
   What would you like to do about it ?  Your options are:
    Y or I  : install the package maintainer's version
    N or O  : keep your currently-installed version
      D     : show the differences between the versions
      Z     : start a shell to examine the situation
</code></pre></li>
</ol>

<h4 id="span-red-hat-enterprise-linux-7-centos-7-span"><span>Red Hat Enterprise Linux 7 / CentOS 7</span></h4>

<p>To upgrade the NetQ Agent on a Red Hat or CentOS host, do the following:</p>

<ol>
<li><p>Import the public key:</p>

<pre><code>root@rhel7:~# rpm --import https://apps3.cumulusnetworks.com/setup/cumulus-host-el.pubkey
</code></pre></li>

<li><p>Open <code>/etc/yum.repos.d/cumulus-host-el.repo</code> in a text editor.</p></li>

<li><p>Define the repository source, and save the file:</p>

<pre><code>[cumulus-arch]
name=Cumulus Packages for RHEL
baseurl=https://apps3.cumulusnetworks.com/repos/rpm/el/$releasever/netq-1.4/$basearch
gpgcheck=1
enabled=1
 
[cumulus-noarch]
name=Architecture-independent Cumulus packages for RHEL
baseurl=https://apps3.cumulusnetworks.com/repos/rpm/el/$releasever/netq-1.4/noarch
gpgcheck=1
enabled=1
 
[cumulus-src]
name=Cumulus source packages for RHEL
baseurl=https://apps3.cumulusnetworks.com/repos/rpm/el/$releasever/netq-1.4/src
gpgcheck=1
enabled=1
</code></pre></li>

<li><p>Install the <code>cumulus-netq</code> metapack and its components:</p>

<pre><code>root@rhel7:~# yum install cumulus-netq
</code></pre></li>
</ol>

<h3 id="span-connect-the-netq-telemetry-server-to-the-network-span"><span>Connect the NetQ Telemetry Server to the Network</span></h3>

<ol>
<li><p>Once the NetQ Telemetry Server and NetQ agents have been upgraded,
connect the NetQ Telemetry Server to the network. For more
information, refer to the <a href="/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ">Install
NetQ</a>
topic.</p></li>

<li><p>Verify the NetQ Agents are OK, and running NetQ 1.4.</p>

<pre><code>cumulus@ts:~$ netq show agents
Matching agents records:
Hostname          Status           NTP Sync Version                              Sys Uptime                Agent Uptime              Reinitialize Time          Last Changed
----------------- ---------------- -------- ------------------------------------ ------------------------- ------------------------- -------------------------- -------------------------
edge01            Fresh            yes      1.3.0-ub16.04u9~1522971904.b08ca60   7d:5h:9m:29s              7d:5h:9m:19s              7d:5h:9m:19s               23.253022s
exit01            Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:4s              5d:0h:53m:27s             5d:0h:53m:27s              31.941781s
exit02            Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:2s              5d:0h:53m:4s              5d:0h:53m:4s               15.969046s
internet          Fresh            no       1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:6s              5d:5h:54m:45s             5d:5h:54m:45s              9.445051s
leaf01            Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:4s              5d:1h:46m:28s             5d:1h:46m:28s              11.341666s
leaf02            Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:5s              5d:0h:59m:48s             5d:0h:59m:48s              32.870613s
leaf03            Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:2s              5d:0h:58m:59s             5d:0h:58m:59s              5.821239s
leaf04            Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:54m:57s             5d:0h:55m:39s             5d:0h:55m:39s              11.810535s
oob-mgmt-server   Fresh            yes      1.4.0-cl3u10~1537731912.eae9c33      7d:5h:11m:1s              7d:5h:10m:37s             7d:5h:10m:37s              5.899206s
server01          Fresh            yes      1.3.0-ub16.04u9~1522971904.b08ca60   5d:5h:53m:13s             5d:5h:53m:4s              5d:5h:53m:4s               6.115634s
server02          Fresh            yes      1.3.0-ub16.04u9~1522971904.b08ca60   5d:5h:53m:13s             5d:5h:53m:3s              5d:5h:53m:3s               18.659022s
server03          Fresh            yes      1.3.0-ub16.04u9~1522971904.b08ca60   5d:5h:53m:13s             5d:5h:53m:3s              5d:5h:53m:3s               13.890821s
server04          Fresh            yes      1.3.0-ub16.04u9~1522971904.b08ca60   5d:5h:53m:13s             5d:5h:53m:3s              5d:5h:53m:3s               12.524579s
spine01           Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:55m:3s              5d:0h:54m:55s             5d:0h:54m:55s              18.648519s
spine02           Fresh            yes      1.3.0-cl3u9~1522970647.b08ca60       5d:5h:54m:56s             5d:0h:54m:27s             5d:0h:54m:27s              5.712222s
 
cumulus@ts:~$ cat /etc/app-release
APPLIANCE_VERSION=1.4.0
APPLIANCE_MANIFEST_HASH=23b30cc
</code></pre></li>
</ol>

<article id="html-search-results" class="ht-content" style="display: none;">

</article>

<footer id="ht-footer">

</footer>
</article>

      <script src="https://utteranc.es/client.js"
        repo="CumulusNetworks/docs-internal"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>

    </div>
    

      


  

    <aside class="book-toc fixed">

  
    <div class="toc">
    
      <button>
      <a href="https://github.com/CumulusNetworks/docs/edit/master/content/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Maintain-NetQ.md" target="_blank" rel="noopener"><img src="/docs.cumulusnetworks.com/svg/pencil-circle.svg" alt="Edit" /> Edit this page</a>
      </button>
    
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#span-manage-the-telemetry-server-span"><span>Manage the Telemetry Server</span></a>
<ul>
<li><a href="#span-remove-an-event-notification-integration-span"><span>Remove an Event Notification Integration</span></a></li>
<li><a href="#span-delete-a-netq-notifier-filter-span"><span>Delete a NetQ Notifier Filter</span></a></li>
</ul></li>
<li><a href="#span-manage-the-netq-agents-span"><span>Manage the NetQ Agents</span></a>
<ul>
<li><a href="#span-id-src-10453451-maintainnetq-decom-class-confluence-anchor-link-span-span-remove-netq-agent-from-a-node-span"><span id="src-10453451_MaintainNetQ-decom" class="confluence-anchor-link"></span><span>Remove NetQ Agent from a Node</span></a></li>
<li><a href="#span-disable-netq-agent-on-a-node-span"><span>Disable NetQ Agent on a Node</span></a></li>
<li><a href="#span-id-src-10453451-maintainnetq-agentlog-class-confluence-anchor-link-span-span-configure-logging-for-a-netq-agent-span"><span id="src-10453451_MaintainNetQ-AgentLog" class="confluence-anchor-link"></span><span>Configure Logging for a NetQ Agent</span></a></li>
</ul></li>
<li><a href="#span-id-src-10453451-maintainnetq-backup-class-confluence-anchor-link-span-span-restore-netq-from-backup-files-span"><span id="src-10453451_MaintainNetQ-Backup" class="confluence-anchor-link"></span><span>Restore NetQ from Backup Files</span></a>
<ul>
<li><a href="#span-backup-locations-span"><span>Backup Locations</span></a></li>
<li><a href="#span-restore-netq-from-a-snapshot-span"><span>Restore NetQ from a Snapshot</span></a></li>
</ul></li>
<li><a href="#span-upgrade-netq-span"><span>Upgrade NetQ</span></a>
<ul>
<li><a href="#span-upgrade-the-netq-telemetry-server-span"><span>Upgrade the NetQ Telemetry Server</span></a></li>
<li><a href="#span-upgrade-the-netq-agents-span"><span>Upgrade the NetQ Agents</span></a>
<ul>
<li><a href="#span-cumulus-linux-span"><span>Cumulus Linux</span></a></li>
<li><a href="#span-ubuntu-16-04-span"><span>Ubuntu 16.04</span></a></li>
<li><a href="#span-red-hat-enterprise-linux-7-centos-7-span"><span>Red Hat Enterprise Linux 7 / CentOS 7</span></a></li>
</ul></li>
<li><a href="#span-connect-the-netq-telemetry-server-to-the-network-span"><span>Connect the NetQ Telemetry Server to the Network</span></a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
  

</aside>






  </main>
  <footer class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="footer-content">
            <div class="mb-4">
                <img src="https://static.cumulusnetworks.com/static/images/shared/cumulus-networks-rt-white-trademarked.ff839f1b2570.svg">
                <p>© <script type="text/javascript">document.write(new Date().getFullYear());</script> Cumulus Networks.<br>
                Site by <a href="//unomena.com/" target="_blank">Unomena</a>.</p>
            </div>
            <ul class="mb-4">
              <li><h4>Products</h4></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-linux/">Cumulus Linux</a></li>
              <li><a href="//cumulusnetworks.com/products/netq/">Cumulus NetQ</a></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-express/">Cumulus Express</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>Learn</h4></li>
              <li><a href="//cumulusnetworks.com/learn/web-scale-networking-education/">Going web-scale</a></li>
              <li><a href="//cumulusnetworks.com/learn/events/">Events</a></li>
              <li><a href="//cumulusnetworks.com/blog/">Blog</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>About</h4></li>
              <li><a href="//cumulusnetworks.com/about/">Our story</a></li>
              <li><a href="//cumulusnetworks.com/about/careers/">Careers</a></li>
              <li><a href="//cumulusnetworks.com/about/media-coverage/">Media coverage</a></li>
              <li><a href="//docs.cumulusnetworks.com/" target="_blank">Tech docs</a></li>
              <li><a href="//cumulusnetworks.com/community/">Community</a></li>
            </ul>
            <ul>
              <li>
                <a href="//twitter.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M23 6.628l-2-.5 1-2-2.464.7A4.48 4.48 0 0 0 12 8.128v1c-3.539.73-6.634-1.2-9.5-4.5q-.75 4 1.5 6l-3-.5c.405 2.069 1.362 3.7 4 4l-2.5 1c1 2 2.566 2.31 5 2.5a10.748 10.748 0 0 1-6.5 2c12.755 5.669 20-2.664 20-10V8.3z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.facebook.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M17.768 7.5H13.5V5.6a.972.972 0 0 1 1.012-1.1c.418 0 2.988.01 2.988.01V.5h-4.329C9.244.5 8.5 3.474 8.5 5.355V7.5h-3v4h3v12h5v-12h3.851z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//linkedin.com/company/cumulus-networks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M6.5 22.5h-5v-13h5zm9-9a2 2 0 0 0-2 2v7h-5v-13h5v1.485a6.307 6.307 0 0 1 3.99-1.495c2.962 0 5.01 2.2 5.01 6.355V22.5h-5v-7a2 2 0 0 0-2-2zM6.5 5A2.5 2.5 0 1 1 4 2.5 2.5 2.5 0 0 1 6.5 5z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//vimeo.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M.5 7.393l.933 1.224S3.36 7.1 4 7.859s3.1 9.925 3.915 11.617c.714 1.483 2.684 3.444 4.845 2.042s9.34-7.529 10.626-14.769-8.642-5.723-9.693.583c2.627-1.577 4.03.642 2.686 3.154s-2.569 4.145-3.211 4.145-1.135-1.679-1.868-4.613c-.76-3.035-.755-8.5-3.911-7.882C4.412 2.721.5 7.393.5 7.393z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.github.com/cumulusnetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <path class="a" d="M19.459 17c0-5.969-4.126-3.532-7.5-3.532s-7.5-2.375-7.5 3.532a3.5 3.5 0 0 0 3.5 3.5h8a3.5 3.5 0 0 0 3.5-3.5z"></path>
                    <path class="a" d="M21.489 10.214l.032.023s2.646-4.572-.6-7.237c-2 0-5.058 3.3-5.058 3.3l.022.016A14.152 14.152 0 0 0 8.1 6.3C8.083 6.285 5.037 3 3.042 3c-3.173 2.6-.729 7.012-.614 7.217a8.876 8.876 0 0 0-1.395 5.743c.241 3.126 2.847 6.54 5.982 6.54H16.9c3.135 0 5.742-3.414 5.982-6.54a8.857 8.857 0 0 0-1.393-5.746z"></path>
                    <ellipse class="a" cx="15.48" cy="17" rx="1" ry="1.5"></ellipse>
                    <ellipse class="a" cx="8.48" cy="17" rx="1" ry="1.5"></ellipse>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//slack.cumulusnetworks.com/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <rect class="a" x=".5" y=".5" width="23" height="23" rx="6" ry="6"></rect>
                    <circle class="a" cx="12" cy="12" r="6"></circle>
                    <circle class="a" cx="19" cy="5" r="1.5"></circle>
                  </svg>
                </a>
              </li>
              <li>
                <p>Cumulus Networks<sup>®</sup> — Data center networking software for the open, modern data center.</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div class="footer-bottom">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <ul>
                      <li><a href="//cumulusnetworks.com/legal/trademarks/">Trademarks</a></li>
                      <li><a href="//cumulusnetworks.com/legal/privacy/">Privacy</a></li>
                      <li><a href="//cumulusnetworks.com/legal/">Terms of service</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>

  
  

</body>

</html>
