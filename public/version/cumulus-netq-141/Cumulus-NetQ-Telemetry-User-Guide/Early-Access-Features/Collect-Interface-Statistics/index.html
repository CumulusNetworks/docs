<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Collect Interface Statistics | Cumulus Networks Documentation</title>

  
  <link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/docs.cumulusnetworks.com/book.min.a378d8a2da6f5357a83a43dff33d6f77fb70401e0399d5ba78faf81d7a1ae1a8.css">

  
  <link rel="icon" href="/docs.cumulusnetworks.com/icons/favicon.png" type="image/x-icon">

  
  <!--
  Made with Book Theme
  https://github.com/alex-shpak/hugo-book
  -->

  
  
  <script src = "/docs.cumulusnetworks.com/js/codecopy.js"> </script>

</head>


<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  
  <header id="site-nav">
    <div class="header-wrapper flex">
      <a href="/">
        <img src="/header-logo.png" alt="Cumulus Networks">
        <img src="/cumulus-networks-rt-white.svg" alt="Cumulus Networks" class="header-mobile">
        <span>Docs</span>
      </a>
      <ul class="flex">
        <li><a href="//cumulusnetworks.com">HOME</a></li>
        <li><a href="//support.cumulusnetworks.com/">SUPPORT</a></li>
        <li><a href="//docs.cumulusnetworks.com/">DOCS</a></li>
        <li><a href="//education.cumulusnetworks.com">EDUCATION</a></li>
        <li><a href="//cumulusnetworks.com/blog/">BLOG</a></li>
        <li><a href="//forums.cumulusnetworks.com/">FORUMS</a></li>
      </ul>
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>
  <div id="product-nav" class="flex">
      
    
    <ul>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-linux/ >
        Cumulus Linux </a> </li>
    
      <li class = "active" ><a href = docs.cumulusnetworks.com/cumulus-netq/ >
        Cumulus NetQ </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-vx/ >
        Cumulus VX </a> </li>
    
      <li>
        <div id="products-dropdown" class="dropdown">
            <button class="btn" type="button" id="dropdownMenuButton">
              Products
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="">Cumulus RMP</a>
              <a class="dropdown-item" href="">Cumulus Chassis</a>
              <a class="dropdown-item" href="">Cumulus Host Pack</a>
            </div>
        </div>
      </li>
    </ul>
    <div class="search-container">
      <div id="doc-search-box">
        <input type="text" class="doc-search-input" placeholder="Search" value="">
        <span><button type="submit"><img src="/icons/search_20x20.svg" alt=""></button></span>
      </div>
      <div id="dropdown" class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton">
            v1.4.1
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/cumulus-netq/"> v2.2.0</a>
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-10/"> v1.0.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-110/"> v1.1.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-121/"> v1.2.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-141/"> v1.4.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-21/"> v2.1</a>
            
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
          </div>
      </div>
    </div>
  </div>
  <main class="flex container">
    <aside class="book-menu fixed">

      <nav role="navigation">
        <h2 class="book-brand">
          <a href="docs.cumulusnetworks.com">Cumulus Networks Documentation</a>
        </h2>
        
        




  <ul class = "cn-book-section-container" id = "top">
    
        
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
            

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/" >
    Cumulus NetQ
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/" >
    Cumulus NetQ Image and Provisioning Management User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/IPM-Preface/" >
    IPM Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/IPM-Command-Line-Overview/" >
    IPM Command Line Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Activate-and-Initialize-IPM/" >
    Activate and Initialize IPM
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Configure-and-Manage-DHCP-Options/" >
    Configure and Manage DHCP Options
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Manage-Network-Operating-System-Images/" >
    Manage Network Operating System Images
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Manage-Zero-Touch-Provisioning-Scripts/" >
    Manage Zero-Touch Provisioning Scripts
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/" >
    Cumulus NetQ Telemetry User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/" >
    Early Access Features
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Extend-NetQ-with-Custom-Commands/" >
    Extend NetQ with Custom Commands
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Query-the-NetQ-Database/" >
    Query the NetQ Database
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Collect-Interface-Statistics/"  class="active" >
    Collect Interface Statistics
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/" >
    Resolve Issues
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Event-Message-Reference/" >
    Event Message Reference
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Methods-for-Diagnosing-Network-Issues/" >
    Methods for Diagnosing Network Issues
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Resolve-MLAG-Issues/" >
    Resolve MLAG Issues
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Investigate-NetQ-Issues/" >
    Investigate NetQ Issues
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Telemetry-Preface/" >
    Telemetry Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/NetQ-Command-Line-Overview/" >
    NetQ Command Line Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/NetQ-Service-Console/" >
    NetQ Service Console
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Overall-Network-Health/" >
    Monitor Overall Network Health
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Switch-Hardware-and-Software/" >
    Monitor Switch Hardware and Software
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Physical-Layer-Components/" >
    Monitor Physical Layer Components
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Data-Link-Layer-Devices-and-Protocols/" >
    Monitor Data Link Layer Devices and Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Network-Layer-Protocols/" >
    Monitor Network Layer Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Virtual-Network-Overlays/" >
    Monitor Virtual Network Overlays
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Linux-Hosts/" >
    Monitor Linux Hosts
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Container-Environments/" >
    Monitor Container Environments
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Automate-Common-and-Repetitive-Tasks/" >
    Automate Common and Repetitive Tasks
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/" >
    Cumulus NetQ Deployment Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Deployment-Preface/" >
    Deployment Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ/" >
    Install NetQ
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Configure-Optional-NetQ-Capabilities/" >
    Configure Optional NetQ Capabilities
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Maintain-NetQ/" >
    Maintain NetQ
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Deployment-Appendices/" >
    Deployment Appendices
  </a>


    </li>
    
  </ul>


  </li>


    
    
  </ul>


  </li>


          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
    
  </ul>









      </nav>

      
      
      
      

      <script src = "/docs.cumulusnetworks.com/js/menuBundle.js"> </script>


    </aside>

    <div class="book-page">

      
      <header class="align-center justify-between book-header">
        <label for="menu-control">
          <img src="/docs.cumulusnetworks.com/svg/menu.svg" alt="Menu" />
        </label>
        <strong>Collect Interface Statistics</strong>
      </header>

      
      
<div class= "notices info" id = "info" >
    This documentation is for an older version of the software. If you are using the current version of Cumulus Linux, this content may not be up to date. The current version of the documentation is available [here](https://docs.cumulusnetworks.com/).
  </div>
<article class="markdown">
<h1>Collect Interface Statistics</h1>

<p>Switches collect statistics about the performance of their interfaces.
The NetQ Agent on each switch collects these statistics every 15 seconds
by reading <code>/proc/net/dev</code>, and then sending them to the NetQ Telemetry
Server where it is stored in its InfluxDB in <code>procnetdev</code>. The Telemetry
Server <code>netq-stats-pushd</code> service manages the receipt and storage of the
statistics.</p>

<p>Only statistics for physical interfaces are collected; NetQ does not
collect statistics for non-physical interfaces, such as bonds, bridges,
and VXLANs. Specifically, the NetQ Agent collects the following
interface statistics:</p>

<ul>
<li><p><strong>Transmit</strong>: tx_bytes, tx_carrier, tx_colls, tx_drop, tx_errs,
tx_packets</p></li>

<li><p><strong>Receive</strong>: rx_bytes, rx_drop, rx_errs, rx_frame,
rx_multicast, rx_packets</p></li>
</ul>

<p>Currently, these statistics are available for view in third-party
analytic tools.</p>


<div class="notices info" > <p>The collection of interface statistics is an <a href="https://support.cumulusnetworks.com/hc/en-us/articles/202933878" target="_blank">early access
feature</a>
in Cumulus NetQ 1.3 and later.</p>
 </div>


<h2 id="span-configure-interface-statistic-collection-span"><span>Configure Interface Statistic Collection</span></h2>

<p>InfluxDB is installed in its own container by default on the Telemetry
Server. The <code>netq-stats-pushd</code> service is also installed by default, but
must be enabled. You also need to enable statistics collection on every
node for which you want to gather statistics.</p>

<p>To set up interface statistic collection:</p>

<ol>
<li><p>Enable and start the <code>netq-stats-pushd</code> service on the Telemetry
Server.</p>

<pre><code>cumulus@ts:~$ sudo systemctl enable netq-stats-pushd.service
cumulus@ts:~$ sudo systemctl start netq-stats-pushd.service
</code></pre></li>

<li><p>Verify the service is running.</p>

<pre><code>cumulus@ts:~$ sudo systemctl status netq-stats-pushd.service 
● netq-stats-pushd.service - NetQ Stats Storage daemon
   Loaded: loaded (/lib/systemd/system/netq-stats-pushd.service; enabled)
   Active: active (running) since Mon 2017-11-27 00:51:09 UTC; 6s ago
 Main PID: 30550 (netq-stats-push)
</code></pre></li>

<li><p>On every node you want to monitor: log in to each node, configure
the NetQ Agent to collect the statistics, and then restart the
agent.</p>

<pre><code>cumulus@ts:~$ ssh spine01
cumulus@spine01:~$ netq config add agent stats
cumulus@spine01:~$ netq config restart agent
</code></pre>


<div class="notices tip" > <pre><code>Optionally, you can automate the configuration and restart of each
node using an IT automation tool, such as Ansible.
</code></pre>
 </div>
</li>
</ol>

<p>As each NetQ Agent is restarted, the <code>netq-stats-pushd</code> service starts
collecting interface statistics and the agent pushes them to the
database on the Telemetry Server.</p>

<h2 id="span-view-interface-statistics-in-grafana-span"><span>View Interface Statistics in Grafana</span></h2>

<p>You can use the open platform <a href="https://grafana.com/" target="_blank">Grafana</a> analytics
and monitoring tool to view the interface statistics collected by the
NetQ Agents. This is accomplished by installing the tool on the
Telemetry Server and then configuring the tool to access the NetQ
InfluxDB.</p>

<p>To set up Grafana to view NetQ interface statistics:</p>

<ol>
<li><p>Using a text editor of your choice, add the repository for Grafana.</p>

<pre><code>cumulus@ts:~$ sudo vi /etc/apt/sources.list
[sudo] password for cumulus:**********
 
...
deb https://packagecloud.io/grafana/stable/debian/ jessie main
...
</code></pre></li>

<li><p>Install the package cloud key.</p>

<pre><code>cumulus@ts:~$ curl https://packagecloud.io/gpg.key | sudo apt-key add -
</code></pre></li>

<li><p>Install, start, and enable the package.</p>

<pre><code>cumulus@ts:~$ sudo apt-get update
cumulus@ts:~$ sudo apt-get install grafana
cumulus@ts:~$ sudo systemctl daemon-reload
cumulus@ts:~$ sudo systemctl start grafana-server
cumulus@ts:~$ sudo systemctl enable grafana-server
</code></pre></li>

<li><p>Verify Grafana is running.</p>

<pre><code>cumulus@ts:~$ sudo systemctl status grafana-server
● grafana-server.service - Grafana instance
   Loaded: loaded (/usr/lib/systemd/system/grafana-server.service; disabled)
   Active: active (running) since Mon 2018-06-18 20:14:38 UTC; 7s ago
     Docs: http://docs.grafana.org
Main PID: 5755 (grafana-server)
  CGroup: /system.slice/grafana-server.service
          └─5755 /usr/sbin/grafana-server --config=/etc/grafana/grafana.ini --pidfile=/var/...
</code></pre>


<div class="notices info" > <pre><code>The Grafana GUI is accessed through port 3000 by default. If you are
running Grafana on a simulation server, you may need to modify
forwarding rules in IPtables to allow access to port 3000.
</code></pre>
 </div>
</li>

<li><p>Open Grafana.</p>

<ol>
<li><p>In a web browser, enter the
&lt;*Telemetry_Server_IPaddress:*3000&gt; in the address field.</p></li>

<li><p>Log in with a user name of <em>admin</em> and a password of <em>admin</em>.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-20-16_11_45.png" alt = "/images/download/attachments/10453499/image2018-6-20-16_11_45.png"

height = 250


 />


<p>The Home Dashboard appears.</p></li>
</ol></li>

<li><p>Create a data source.</p>

<ol>
<li><p>Click <strong>Configuration</strong> (</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-16_20_21.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-16_20_21.png"


width = 18

 />


<p>) &gt; <strong>Data Sources</strong>.</p></li>

<li><p>Click <strong>Add data source</strong>.</p></li>

<li><p>Enter a name for the data source, for example <em>NetQ IF Stats</em> or
<em>cumulus-netq.</em></p></li>

<li><p>Select <em>InfluxDB</em> from the <strong>Type</strong> list box.</p></li>

<li><p>Verify the URL references port 8086.</p></li>

<li><p>In <strong>InfluxDB Details</strong>, enter <em>netq</em> for the <strong>Database</strong>.</p></li>

<li><p>Enter <em>admin</em> for the <strong>User</strong> and <em>CumulusNetQ!</em> for the
<strong>Password</strong>.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-20-18_0_55.png" alt = "/images/download/attachments/10453499/image2018-6-20-18_0_55.png"


width = 500

 />
</li>

<li><p>Click <strong>Save &amp; Test</strong>.<br />
A <strong>Data source is working</strong> confirmation appears when your
configuration is good. If a <strong>Network Error: Bad Request(400)</strong>
appears, your configuration needs to be modified. Check your
configuration and click <strong>Save &amp; Test</strong> again.</p></li>

<li><p>Click <strong>Data Sources</strong> to view the data source in a card.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-20-18_4_1.png" alt = "/images/download/attachments/10453499/image2018-6-20-18_4_1.png"


width = 400

 />
</li>
</ol></li>

<li><p>Create a Dashboard.</p>

<ol>
<li><p>Click Create (</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-18_6_53.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-18_6_53.png"


width = 18

 />


<p>) &gt; Dashboard.</p></li>

<li><p>Select a panel type to add to the Dashboard.<br />
You can add as many panels to your dashboard as you want, pick
one to start with and then add others as desired. In our
example, a Graph panel is selected.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-20-18_21_17.png" alt = "/images/download/attachments/10453499/image2018-6-20-18_21_17.png"

height = 250


 />
</li>

<li><p>Click <strong>Panel Title</strong> &gt; <strong>Edit</strong> to open the edit option tabs.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-20-18_22_9.png" alt = "/images/download/attachments/10453499/image2018-6-20-18_22_9.png"

height = 400


 />
</li>

<li><p>Click through each tab entering the relevant information.</p>


<div class="notices info" > <pre><code>    **Info**: When creating queries in the **Metrics** tab, in FROM
    select *procnetdev* to access the receive and transmit
    statistics for display. In WHERE, click
</code></pre>

<p>&lt;img class = &ldquo;confluence-embedded-image confluence-thumbnail&rdquo; src = &ldquo;/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png&rdquo; alt = &ldquo;/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png&rdquo;</p>

<p>width = 18</p>

<p>/&gt;</p>

<pre><code>    , select *hostname* to specify a particular host. In SELECT,
    choose a statistic to display. And so forth.
</code></pre>
 </div>
</li>

<li><p>When you have added all of the desired panels, click the <strong>New
dashboard</strong> title, enter a name for the dashboard, and click
<strong>Save</strong>.</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_2_34.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_2_34.png"


 />


<p>to save the Dashboard itself.</p></li>
</ol></li>
</ol>

<p>You now have a customized view of the NetQ interface statistics. You can
add and remove panels at any time.</p>

<h3 id="span-add-common-interface-statistics-to-dashboard-span"><span>Add Common Interface Statistics to Dashboard</span></h3>

<p>There are many options for displaying the statistics in Grafana. Two
examples are provided here.</p>

<h4 id="span-example-add-dropped-packets-panels-span"><span>Example: Add Dropped Packets Panels </span></h4>

<p>When you are monitoring your network, it is useful to see the total
number of packets that are being dropped by various interfaces and
whether that number is increasing or decreasing. This example creates
one panel to display the number of dropped packets on selected leaf01
interfaces and another panel to display the trend for these interfaces.</p>

<p>To add a total number of dropped packets panel:</p>

<ol>
<li><p>Open Grafana on the Telemetry Server.</p></li>

<li><p>Open your dashboard (Cumulus Statistics in this example).</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-21-10_55_26.png" alt = "/images/download/thumbnails/10453499/image2018-6-21-10_55_26.png"


width = 30

 />


<p>to add a new panel.</p></li>

<li><p>Select <strong>Singlestat</strong>.</p></li>

<li><p>Click <strong>Panel Title</strong> &gt; <strong>Edit</strong>.</p></li>

<li><p>On the <strong>Metrics</strong> tab, select the Data Source (<em>NetQ IF Stats</em> in
this example).</p></li>

<li><p>Click <strong>Add Query</strong>.</p></li>

<li><p>Fill out query:</p>

<ol>
<li><p>In FROM, select <em>procnetdev</em></p></li>

<li><p>In WHERE, click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png"


width = 18

 />


<p>&gt; select <strong>hostname</strong> &gt; select <em>leaf01</em> **** &gt; click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png"


width = 18

 />


<p>&gt; select <strong>interface</strong> &gt; select <em>swp1</em></p></li>

<li><p>In SELECT, select <strong>rxDrop</strong></p></li>
</ol></li>

<li><p>On the <strong>General</strong> tab, enter a <strong>Title</strong> for the panel.</p></li>

<li><p>On the <strong>Options</strong> tab, under <strong>Value</strong> &gt; Stat, select <em>Total</em>.</p></li>

<li><p>Optionally on the <strong>Options</strong> tab, increase the font size and add
thresholds.</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_0_2.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_0_2.png"


 />


<p>to close the edit options.</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_2_18.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_2_18.png"


 />


<p>to save the dashboard.</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-21-11_3_59.png" alt = "/images/download/thumbnails/10453499/image2018-6-21-11_3_59.png"

height = 150


 />
</li>

<li><p>Add a comment regarding the change you made, and click <strong>Save</strong>.</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-21-11_7_21.png" alt = "/images/download/thumbnails/10453499/image2018-6-21-11_7_21.png"


width = 250

 />


<p>You can now drag and drop the panels to modify their placement, or
drag the bottom right corner of a given panel to resize it.</p></li>
</ol>

<p>To add a trend view of dropped packets to your dashboard:</p>

<ol>
<li><p>Open Grafana on the Telemetry Server.</p></li>

<li><p>Open your dashboard (Cumulus Statistics in this example).</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-21-10_55_26.png" alt = "/images/download/thumbnails/10453499/image2018-6-21-10_55_26.png"


width = 30

 />


<p>to add a new panel.</p></li>

<li><p>Select <strong>Graph</strong>.</p></li>

<li><p>Click <strong>Panel Title</strong> &gt; <strong>Edit</strong>.</p></li>

<li><p>On the <strong>Metrics</strong> tab, select the Data Source (<em>NetQ IF Stats</em> in
this example).</p></li>

<li><p>Click <strong>Add Query</strong>.</p></li>

<li><p>Fill out query:</p>

<ol>
<li><p>In FROM, select <em>procnetdev</em></p></li>

<li><p>In WHERE, click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png"


width = 18

 />


<p>&gt; select <strong>hostname</strong> &gt; select <em>leaf01</em> **** &gt; click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png"


width = 18

 />


<p>&gt; select <strong>interface</strong> &gt; select <em>swp1</em></p></li>

<li><p>In SELECT, select <strong>rxDrop</strong></p></li>
</ol></li>

<li><p>On the <strong>General</strong> tab, enter a <strong>Title</strong> for the panel.</p></li>

<li><p>Optionally on the <strong>Time range</strong> tab &gt; <strong>Override relative time</strong>
&gt; 72h to view rolling results for the last 72 hours.</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_0_2.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_0_2.png"


 />


<p>to close the edit options.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_18_50.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_18_50.png"

height = 250


 />
</li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_2_18.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_2_18.png"


 />


<p>to save the dashboard.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_22_10.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_22_10.png"

height = 250


 />
</li>
</ol>

<h4 id="span-example-add-received-bytes-panel-span"><span>Example: Add Received Bytes Panel</span></h4>

<p>The following example shows the Received Bytes on spine01 for all
interfaces over time.</p>

<p>To add trend view of received bytes to the dashboard:</p>

<ol>
<li><p>Open Grafana on the Telemetry Server.</p></li>

<li><p>Open your dashboard (Cumulus Statistics in this example).</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-21-10_55_26.png" alt = "/images/download/thumbnails/10453499/image2018-6-21-10_55_26.png"


width = 30

 />


<p>to add a new panel.</p></li>

<li><p>Select <strong>Graph</strong>.</p></li>

<li><p>Click <strong>Panel Title</strong> &gt; <strong>Edit</strong>.</p></li>

<li><p>On the <strong>Metrics</strong> tab, select the Data Source (<em>NetQ IF Stats</em> in
this example).</p></li>

<li><p>Click <strong>Add Query</strong>.</p></li>

<li><p>Fill out query:</p>

<ol>
<li><p>In FROM, select <em>procnetdev</em></p></li>

<li><p>In WHERE, click</p>








<img class = "confluence-embedded-image confluence-thumbnail" src = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png" alt = "/images/download/thumbnails/10453499/image2018-6-20-18_38_31.png"


width = 18

 />


<p>&gt; select <strong>hostname</strong> &gt; select <em>spine01</em></p></li>

<li><p>In SELECT, select <strong>rxBytes</strong></p></li>
</ol></li>

<li><p>On the <strong>General</strong> tab, enter a <strong>Title</strong> for the panel.</p></li>

<li><p>Optionally specify other graph criteria using the other tabs.</p></li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_0_2.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_0_2.png"


 />


<p>to close the edit options.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-20-18_59_17.png" alt = "/images/download/attachments/10453499/image2018-6-20-18_59_17.png"

height = 250


 />
</li>

<li><p>Click</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_2_18.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_2_18.png"


 />


<p>to save the dashboard.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/10453499/image2018-6-21-11_31_12.png" alt = "/images/download/attachments/10453499/image2018-6-21-11_31_12.png"

height = 400


 />
</li>
</ol>

<h2 id="span-resolve-issues-span"><span>Resolve Issues</span></h2>

<p>If you are experiencing issues with the configuration or behavior of the
interface statistic collection feature, you can check log files on the
Telemetry Server and the individual nodes.</p>

<p>On the Telemetry Server, you can:</p>

<ul>
<li><p>Verify that the InfluxDB is up and running (see example below)</p></li>

<li><p>Review relevant log files</p>

<ul>
<li><p><code>/var/log/cts/cts-influxdb.log</code></p></li>

<li><p><code>/var/log/netq-stats-pushd.log</code></p></li>
</ul></li>
</ul>

<p>On each node, check the NetQ Agent log file <code>/var/log/netq-agent.log</code>.</p>

<h3 id="span-example-verifying-influxdb-status-span"><span>Example: Verifying InfluxDB Status</span></h3>

<ol>
<li><p>Validate the database is up.</p>

<pre><code>cumulus@ts:~$ sudo docker ps
CONTAINER ID     IMAGE           COMMAND                   CREATED       STATUS      PORTS  NAMES
dacbf4f234e9     cumulus-netq    &quot;/tini -g -- /usr/sb…&quot;    2 hours ago   Up 2 hours         netq_netq_1
9cfd1e768be4     redis           &quot;docker-entrypoint.s…&quot;    2 hours ago   Up 2 hours         netq_redis_snt1_1
5ad5e17a0089     redis           &quot;docker-entrypoint.s…&quot;    2 hours ago   Up 2 hours         netq_redis_master_1
9bb544d9bb1b     influxdb        &quot;/entrypoint.sh infl…&quot;    2 hours ago   Up 2 hours         netq_influxdb_1
77a7478bb6dc     cumulus-tsgui   &quot;/portainer&quot;              2 hours ago   Up 2 hours         netq_tsgui_1
</code></pre></li>

<li><p>Validate the statistics being collected on which nodes and
interfaces.</p>

<pre><code>cumulus@ts:~$ sudo docker exec -it 9bb544d9bb1b /bin/bash
bash-4.3# influx -precision rfc3339
Connected to http://localhost:8086 version 1.3.6
InfluxDB shell version: 1.3.6
&gt; SHOW FIELD KEYS ON &quot;netq&quot;
name: procnetdev
fieldKey    fieldType
--------    ---------
rxBytes     integer
rxDrop      integer
rxErrs      integer
rxFrame     integer
rxMulticast integer
rxPackets   integer
txBytes     integer
txCarrier   integer
txColls     integer
txDrop      integer
txErrs      integer
txPackets   integer
 
&gt; SHOW SERIES
key
...
downsampled_stats
procnetdev,hostname=spine01,interface=eth0
procnetdev,hostname=spine01,interface=lo
procnetdev,hostname=spine01,interface=mgmt
procnetdev,hostname=spine01,interface=swp1
procnetdev,hostname=spine01,interface=swp2
procnetdev,hostname=spine01,interface=swp3
procnetdev,hostname=spine01,interface=swp31
procnetdev,hostname=spine01,interface=swp32
procnetdev,hostname=spine01,interface=swp4
procnetdev,hostname=spine01,interface=vagrant
procnetdev,hostname=spine02,interface=eth0
procnetdev,hostname=spine02,interface=lo
procnetdev,hostname=spine02,interface=mgmt
procnetdev,hostname=spine02,interface=swp1
procnetdev,hostname=spine02,interface=swp2
procnetdev,hostname=spine02,interface=swp3
procnetdev,hostname=spine02,interface=swp31
procnetdev,hostname=spine02,interface=swp32
procnetdev,hostname=spine02,interface=swp4
procnetdev,hostname=spine02,interface=vagrant
...
</code></pre></li>
</ol>

<h2 id="span-disable-interface-statistics-collection-span"><span>Disable Interface Statistics Collection</span></h2>

<p>If you no longer wish to collect interface statistics, you can disable
the feature.</p>


<div class="notices tip" > <p>Disabling this feature does not purge the data already collected from
the database.</p>
 </div>


<p>To disable interface statistics collection:</p>

<ol>
<li><p>For each node, disable the feature and restart the NetQ Agent.</p>

<pre><code>cumulus@switch:~$ netq config del stats
cumulus@switch:~$ netq config restart agent
</code></pre>


<div class="notices note" > <pre><code>You must restart the NetQ Agent after you disable statistics
collection.
</code></pre>
 </div>
</li>

<li><p>Once all nodes have stopped pushing statistics, stop and disable the
<code>netq-stats-pushd</code> service on the Telemetry Server.</p>

<pre><code>cumulus@ts:~$ sudo systemctl stop netq-stats-pushd.service
cumulus@ts:~$ sudo systemctl disable netq-stats-pushd.service
</code></pre></li>
</ol>

<article id="html-search-results" class="ht-content" style="display: none;">

</article>

<footer id="ht-footer">

</footer>
</article>

      <script src="https://utteranc.es/client.js"
        repo="CumulusNetworks/docs-internal"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>

    </div>
    

      


  

    <aside class="book-toc fixed">

  
    <div class="toc">
    
      <button>
      <a href="https://github.com/CumulusNetworks/docs/edit/master/content/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Collect-Interface-Statistics.md" target="_blank" rel="noopener"><img src="/docs.cumulusnetworks.com/svg/pencil-circle.svg" alt="Edit" /> Edit this page</a>
      </button>
    
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#span-configure-interface-statistic-collection-span"><span>Configure Interface Statistic Collection</span></a></li>
<li><a href="#span-view-interface-statistics-in-grafana-span"><span>View Interface Statistics in Grafana</span></a>
<ul>
<li><a href="#span-add-common-interface-statistics-to-dashboard-span"><span>Add Common Interface Statistics to Dashboard</span></a>
<ul>
<li><a href="#span-example-add-dropped-packets-panels-span"><span>Example: Add Dropped Packets Panels </span></a></li>
<li><a href="#span-example-add-received-bytes-panel-span"><span>Example: Add Received Bytes Panel</span></a></li>
</ul></li>
</ul></li>
<li><a href="#span-resolve-issues-span"><span>Resolve Issues</span></a>
<ul>
<li><a href="#span-example-verifying-influxdb-status-span"><span>Example: Verifying InfluxDB Status</span></a></li>
</ul></li>
<li><a href="#span-disable-interface-statistics-collection-span"><span>Disable Interface Statistics Collection</span></a></li>
</ul></li>
</ul>
</nav>
    </div>
  

</aside>






  </main>
  <footer class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="footer-content">
            <div class="mb-4">
                <img src="https://static.cumulusnetworks.com/static/images/shared/cumulus-networks-rt-white-trademarked.ff839f1b2570.svg">
                <p>© <script type="text/javascript">document.write(new Date().getFullYear());</script> Cumulus Networks.<br>
                Site by <a href="//unomena.com/" target="_blank">Unomena</a>.</p>
            </div>
            <ul class="mb-4">
              <li><h4>Products</h4></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-linux/">Cumulus Linux</a></li>
              <li><a href="//cumulusnetworks.com/products/netq/">Cumulus NetQ</a></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-express/">Cumulus Express</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>Learn</h4></li>
              <li><a href="//cumulusnetworks.com/learn/web-scale-networking-education/">Going web-scale</a></li>
              <li><a href="//cumulusnetworks.com/learn/events/">Events</a></li>
              <li><a href="//cumulusnetworks.com/blog/">Blog</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>About</h4></li>
              <li><a href="//cumulusnetworks.com/about/">Our story</a></li>
              <li><a href="//cumulusnetworks.com/about/careers/">Careers</a></li>
              <li><a href="//cumulusnetworks.com/about/media-coverage/">Media coverage</a></li>
              <li><a href="//docs.cumulusnetworks.com/" target="_blank">Tech docs</a></li>
              <li><a href="//cumulusnetworks.com/community/">Community</a></li>
            </ul>
            <ul>
              <li>
                <a href="//twitter.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M23 6.628l-2-.5 1-2-2.464.7A4.48 4.48 0 0 0 12 8.128v1c-3.539.73-6.634-1.2-9.5-4.5q-.75 4 1.5 6l-3-.5c.405 2.069 1.362 3.7 4 4l-2.5 1c1 2 2.566 2.31 5 2.5a10.748 10.748 0 0 1-6.5 2c12.755 5.669 20-2.664 20-10V8.3z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.facebook.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M17.768 7.5H13.5V5.6a.972.972 0 0 1 1.012-1.1c.418 0 2.988.01 2.988.01V.5h-4.329C9.244.5 8.5 3.474 8.5 5.355V7.5h-3v4h3v12h5v-12h3.851z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//linkedin.com/company/cumulus-networks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M6.5 22.5h-5v-13h5zm9-9a2 2 0 0 0-2 2v7h-5v-13h5v1.485a6.307 6.307 0 0 1 3.99-1.495c2.962 0 5.01 2.2 5.01 6.355V22.5h-5v-7a2 2 0 0 0-2-2zM6.5 5A2.5 2.5 0 1 1 4 2.5 2.5 2.5 0 0 1 6.5 5z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//vimeo.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M.5 7.393l.933 1.224S3.36 7.1 4 7.859s3.1 9.925 3.915 11.617c.714 1.483 2.684 3.444 4.845 2.042s9.34-7.529 10.626-14.769-8.642-5.723-9.693.583c2.627-1.577 4.03.642 2.686 3.154s-2.569 4.145-3.211 4.145-1.135-1.679-1.868-4.613c-.76-3.035-.755-8.5-3.911-7.882C4.412 2.721.5 7.393.5 7.393z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.github.com/cumulusnetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <path class="a" d="M19.459 17c0-5.969-4.126-3.532-7.5-3.532s-7.5-2.375-7.5 3.532a3.5 3.5 0 0 0 3.5 3.5h8a3.5 3.5 0 0 0 3.5-3.5z"></path>
                    <path class="a" d="M21.489 10.214l.032.023s2.646-4.572-.6-7.237c-2 0-5.058 3.3-5.058 3.3l.022.016A14.152 14.152 0 0 0 8.1 6.3C8.083 6.285 5.037 3 3.042 3c-3.173 2.6-.729 7.012-.614 7.217a8.876 8.876 0 0 0-1.395 5.743c.241 3.126 2.847 6.54 5.982 6.54H16.9c3.135 0 5.742-3.414 5.982-6.54a8.857 8.857 0 0 0-1.393-5.746z"></path>
                    <ellipse class="a" cx="15.48" cy="17" rx="1" ry="1.5"></ellipse>
                    <ellipse class="a" cx="8.48" cy="17" rx="1" ry="1.5"></ellipse>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//slack.cumulusnetworks.com/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <rect class="a" x=".5" y=".5" width="23" height="23" rx="6" ry="6"></rect>
                    <circle class="a" cx="12" cy="12" r="6"></circle>
                    <circle class="a" cx="19" cy="5" r="1.5"></circle>
                  </svg>
                </a>
              </li>
              <li>
                <p>Cumulus Networks<sup>®</sup> — Data center networking software for the open, modern data center.</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div class="footer-bottom">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <ul>
                      <li><a href="//cumulusnetworks.com/legal/trademarks/">Trademarks</a></li>
                      <li><a href="//cumulusnetworks.com/legal/privacy/">Privacy</a></li>
                      <li><a href="//cumulusnetworks.com/legal/">Terms of service</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>

  
  

</body>

</html>
