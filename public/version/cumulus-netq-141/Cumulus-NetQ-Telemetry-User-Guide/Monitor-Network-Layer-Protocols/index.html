<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Monitor Network Layer Protocols | Cumulus Networks Documentation</title>

  
  <link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/docs.cumulusnetworks.com/book.min.a378d8a2da6f5357a83a43dff33d6f77fb70401e0399d5ba78faf81d7a1ae1a8.css">

  
  <link rel="icon" href="/docs.cumulusnetworks.com/icons/favicon.png" type="image/x-icon">

  
  <!--
  Made with Book Theme
  https://github.com/alex-shpak/hugo-book
  -->

  
  
  <script src = "/docs.cumulusnetworks.com/js/codecopy.js"> </script>

</head>


<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  
  <header id="site-nav">
    <div class="header-wrapper flex">
      <a href="/">
        <img src="/header-logo.png" alt="Cumulus Networks">
        <img src="/cumulus-networks-rt-white.svg" alt="Cumulus Networks" class="header-mobile">
        <span>Docs</span>
      </a>
      <ul class="flex">
        <li><a href="//cumulusnetworks.com">HOME</a></li>
        <li><a href="//support.cumulusnetworks.com/">SUPPORT</a></li>
        <li><a href="//docs.cumulusnetworks.com/">DOCS</a></li>
        <li><a href="//education.cumulusnetworks.com">EDUCATION</a></li>
        <li><a href="//cumulusnetworks.com/blog/">BLOG</a></li>
        <li><a href="//forums.cumulusnetworks.com/">FORUMS</a></li>
      </ul>
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>
  <div id="product-nav" class="flex">
      
    
    <ul>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-linux/ >
        Cumulus Linux </a> </li>
    
      <li class = "active" ><a href = docs.cumulusnetworks.com/cumulus-netq/ >
        Cumulus NetQ </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-vx/ >
        Cumulus VX </a> </li>
    
      <li>
        <div id="products-dropdown" class="dropdown">
            <button class="btn" type="button" id="dropdownMenuButton">
              Products
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="">Cumulus RMP</a>
              <a class="dropdown-item" href="">Cumulus Chassis</a>
              <a class="dropdown-item" href="">Cumulus Host Pack</a>
            </div>
        </div>
      </li>
    </ul>
    <div class="search-container">
      <div id="doc-search-box">
        <input type="text" class="doc-search-input" placeholder="Search" value="">
        <span><button type="submit"><img src="/icons/search_20x20.svg" alt=""></button></span>
      </div>
      <div id="dropdown" class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton">
            v1.4.1
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/cumulus-netq/"> v2.2.0</a>
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-10/"> v1.0.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-110/"> v1.1.0</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-121/"> v1.2.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-141/"> v1.4.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-netq-21/"> v2.1</a>
            
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
          </div>
      </div>
    </div>
  </div>
  <main class="flex container">
    <aside class="book-menu fixed">

      <nav role="navigation">
        <h2 class="book-brand">
          <a href="docs.cumulusnetworks.com">Cumulus Networks Documentation</a>
        </h2>
        
        




  <ul class = "cn-book-section-container" id = "top">
    
        
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
            

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/" >
    Cumulus NetQ
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/" >
    Cumulus NetQ Image and Provisioning Management User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/IPM-Preface/" >
    IPM Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/IPM-Command-Line-Overview/" >
    IPM Command Line Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Activate-and-Initialize-IPM/" >
    Activate and Initialize IPM
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Configure-and-Manage-DHCP-Options/" >
    Configure and Manage DHCP Options
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Manage-Network-Operating-System-Images/" >
    Manage Network Operating System Images
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Image-and-Provisioning-Management-User-Guide/Manage-Zero-Touch-Provisioning-Scripts/" >
    Manage Zero-Touch Provisioning Scripts
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/" >
    Cumulus NetQ Telemetry User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/" >
    Early Access Features
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Extend-NetQ-with-Custom-Commands/" >
    Extend NetQ with Custom Commands
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Query-the-NetQ-Database/" >
    Query the NetQ Database
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Early-Access-Features/Collect-Interface-Statistics/" >
    Collect Interface Statistics
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/" >
    Resolve Issues
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Event-Message-Reference/" >
    Event Message Reference
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Methods-for-Diagnosing-Network-Issues/" >
    Methods for Diagnosing Network Issues
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Resolve-MLAG-Issues/" >
    Resolve MLAG Issues
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Resolve-Issues/Investigate-NetQ-Issues/" >
    Investigate NetQ Issues
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Telemetry-Preface/" >
    Telemetry Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/NetQ-Command-Line-Overview/" >
    NetQ Command Line Overview
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/NetQ-Service-Console/" >
    NetQ Service Console
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Overall-Network-Health/" >
    Monitor Overall Network Health
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Switch-Hardware-and-Software/" >
    Monitor Switch Hardware and Software
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Physical-Layer-Components/" >
    Monitor Physical Layer Components
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Data-Link-Layer-Devices-and-Protocols/" >
    Monitor Data Link Layer Devices and Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Network-Layer-Protocols/"  class="active" >
    Monitor Network Layer Protocols
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Virtual-Network-Overlays/" >
    Monitor Virtual Network Overlays
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Linux-Hosts/" >
    Monitor Linux Hosts
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Container-Environments/" >
    Monitor Container Environments
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Automate-Common-and-Repetitive-Tasks/" >
    Automate Common and Repetitive Tasks
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/" >
    Cumulus NetQ Deployment Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Deployment-Preface/" >
    Deployment Preface
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Install-NetQ/" >
    Install NetQ
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Configure-Optional-NetQ-Capabilities/" >
    Configure Optional NetQ Capabilities
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Maintain-NetQ/" >
    Maintain NetQ
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-netq-141/Cumulus-NetQ-Deployment-Guide/Deployment-Appendices/" >
    Deployment Appendices
  </a>


    </li>
    
  </ul>


  </li>


    
    
  </ul>


  </li>


          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
    
  </ul>









      </nav>

      
      
      
      

      <script src = "/docs.cumulusnetworks.com/js/menuBundle.js"> </script>


    </aside>

    <div class="book-page">

      
      <header class="align-center justify-between book-header">
        <label for="menu-control">
          <img src="/docs.cumulusnetworks.com/svg/menu.svg" alt="Menu" />
        </label>
        <strong>Monitor Network Layer Protocols</strong>
      </header>

      
      
<div class= "notices info" id = "info" >
    This documentation is for an older version of the software. If you are using the current version of Cumulus Linux, this content may not be up to date. The current version of the documentation is available [here](https://docs.cumulusnetworks.com/).
  </div>
<article class="markdown">
<h1>Monitor Network Layer Protocols</h1>

<p>With NetQ, a network administrator can monitor OSI Layer 3 network
protocols running on Linux-based hosts, including IP (Internet
Protocol), BGP (Border Gateway Protocol) and OSPF (Open Shortest Path
First). NetQ provides the ability to:</p>

<ul>
<li><p>Validate protocol configurations</p></li>

<li><p>Validate layer 3 communication paths</p></li>
</ul>

<p>It helps answer questions such as:</p>

<ul>
<li><p>Who are the IP neighbors for a switch?</p></li>

<li><p>How many IPv4 and IPv6 addresses am I using?</p></li>

<li><p>When did changes occur to my IP configuration?</p></li>

<li><p>Is BGP working as expected?</p></li>

<li><p>Is OSPF working as expected?</p></li>

<li><p>Can device A reach device B using IP addresses?</p></li>
</ul>

<h2 id="span-monitor-ip-configuration-span"><span>Monitor IP Configuration</span></h2>

<p>NetQ enables you to view the current status and the status an earlier
point in time. From this information, you can:</p>

<ul>
<li><p>determine IP addresses of one or more interfaces</p></li>

<li><p>determine IP neighbors for one or more devices</p></li>

<li><p>determine IP routes owned by a device</p></li>

<li><p>identify changes to the IP configuration</p></li>
</ul>

<p>The <code>netq show ip</code> command is used to obtain the address, neighbor, and
route information from the devices. Its syntax is:</p>

<pre><code>netq [&lt;hostname&gt;] show ip addresses [&lt;remote-interface&gt;] [&lt;ipv4&gt;|&lt;ipv4/prefixlen&gt;] [vrf &lt;vrf&gt;] [around &lt;text-time&gt;] [count] [json]
netq [&lt;hostname&gt;] show ip addresses [&lt;remote-interface&gt;] [&lt;ipv4&gt;|&lt;ipv4/prefixlen&gt;] [vrf &lt;vrf&gt;] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]
netq [&lt;hostname&gt;] show ipv6 addresses [&lt;remote-interface&gt;] [&lt;ipv6&gt;|&lt;ipv6/prefixlen&gt;] [vrf &lt;vrf&gt;] [around &lt;text-time&gt;] [count] [json]
netq [&lt;hostname&gt;] show ipv6 addresses [&lt;remote-interface&gt;] [&lt;ipv6&gt;|&lt;ipv6/prefixlen&gt;] [vrf &lt;vrf&gt;] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]

netq [&lt;hostname&gt;] show ip neighbors [&lt;remote-interface&gt;] [&lt;ipv4&gt;|&lt;ipv4&gt; vrf &lt;vrf&gt;|vrf &lt;vrf&gt;] [&lt;mac&gt;] [around &lt;text-time&gt;] [count] [json]
netq [&lt;hostname&gt;] show ip neighbors [&lt;remote-interface&gt;] [&lt;ipv4&gt;|&lt;ipv4&gt; vrf &lt;vrf&gt;|vrf &lt;vrf&gt;] [&lt;mac&gt;] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]
netq [&lt;hostname&gt;] show ipv6 neighbors [&lt;remote-interface&gt;] [&lt;ipv6&gt;|&lt;ipv6&gt; vrf &lt;vrf&gt;|vrf &lt;vrf&gt;] [&lt;mac&gt;] [around &lt;text-time&gt;] [count] [json]
netq [&lt;hostname&gt;] show ipv6 neighbors [&lt;remote-interface&gt;] [&lt;ipv6&gt;|&lt;ipv6&gt; vrf &lt;vrf&gt;|vrf &lt;vrf&gt;] [&lt;mac&gt;] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]

netq [&lt;hostname&gt;] show ip routes [&lt;ipv4&gt;|&lt;ipv4/prefixlen&gt;] [vrf &lt;vrf&gt;] [origin] [around &lt;text-time&gt;] [count] [json]
netq [&lt;hostname&gt;] show ip routes [&lt;ipv4&gt;|&lt;ipv4/prefixlen&gt;] [vrf &lt;vrf&gt;] [origin] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]
netq [&lt;hostname&gt;] show ipv6 routes [&lt;ipv6&gt;|&lt;ipv6/prefixlen&gt;] [vrf &lt;vrf&gt;] [origin] [around &lt;text-time&gt;] [count] [json]
netq [&lt;hostname&gt;] show ipv6 routes [&lt;ipv6&gt;|&lt;ipv6/prefixlen&gt;] [vrf &lt;vrf&gt;] [origin] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]
</code></pre>


<div class="notices info" > <p>When entering a time value, you must include a numeric value <em>and</em> the
unit of measure:</p>

<ul>
<li><p>d: day(s)</p></li>

<li><p>h: hour(s)</p></li>

<li><p>m: minute(s)</p></li>

<li><p>s: second(s)</p></li>

<li><p>now</p></li>
</ul>

<p>For time ranges, the <code>&lt;text-time&gt;</code> is the most recent time and the
<code>&lt;text-endtime&gt;</code> is the oldest time. The values do not have to have the
same unit of measure.</p>
 </div>


<h3 id="span-view-ip-address-information-span"><span>View IP Address Information</span></h3>

<p>You can view the IPv4 and IPv6 address information for all of your
devices, including the interface and VRF for each device. Additionally,
you can:</p>

<ul>
<li><p>view the information at an earlier point in time</p></li>

<li><p>view changes that have occurred over time</p></li>

<li><p>filter against a particular device, interface or VRF assignment</p></li>

<li><p>obtain a count of all of the addresses</p></li>
</ul>

<p>Each of these provides information for troubleshooting potential
configuration and communication issues at the layer 3 level.</p>

<p><strong>Example: View IPv4 address information for all devices</strong></p>

<pre><code>cumulus@switch:~$ netq show ip addresses
Matching address records:
Address                   Hostname          Interface                 VRF             Last Changed
------------------------- ----------------- ------------------------- --------------- -------------------------
10.0.0.11/32              leaf01            lo                        default         36m:9.186s
10.0.0.12/32              leaf02            lo                        default         36m:5.412s
10.0.0.13/32              leaf03            lo                        default         35m:58.302s
10.0.0.14/32              leaf04            lo                        default         35m:47.537s
10.0.0.21/32              spine01           lo                        default         35m:53.615s
10.0.0.22/32              spine02           lo                        default         35m:44.264s
10.0.0.254/32             oob-mgmt-server   eth0                      default         22d:17h:40m:1s
172.16.1.1/24             leaf01            br0                       default         36m:6.258s
172.16.1.101/24           server01          eth1                      default         23m:19.110s
172.16.2.1/24             leaf02            br0                       default         35m:57.423s
172.16.2.101/24           server02          eth2                      default         21m:48.101s
172.16.3.1/24             leaf03            br0                       default         35m:53.635s
172.16.3.101/24           server03          eth1                      default         21m:21.209s
172.16.4.1/24             leaf04            br0                       default         35m:45.120s
172.16.4.101/24           server04          eth2                      default         29m:48.461s
172.17.0.1/16             oob-mgmt-server   docker0                   default         22d:17h:40m:1s
192.168.0.11/24           leaf01            eth0                      default         22d:17h:39m:56s
192.168.0.12/24           leaf02            eth0                      default         22d:17h:40m:9s
192.168.0.13/24           leaf03            eth0                      default         22d:17h:40m:4s
192.168.0.14/24           leaf04            eth0                      default         22d:17h:40m:0s
192.168.0.21/24           spine01           eth0                      default         22d:17h:40m:0s
192.168.0.22/24           spine02           eth0                      default         22d:17h:40m:3s
192.168.0.254/24          oob-mgmt-server   eth1                      default         22d:17h:40m:1s
192.168.0.31/24           server01          eth0                      default         17h:43m:21s
192.168.0.32/24           server02          eth0                      default         17h:41m:47s
192.168.0.33/24           server03          eth0                      default         17h:41m:24s
192.168.0.34/24           server04          eth0                      default         22d:17h:39m:59s
</code></pre>

<p><strong>Example: View IPv6 address information for all devices</strong></p>

<pre><code>cumulus@switch:~$ netq show ipv6 addresses
Matching address records:
Address          Hostname     Interface         VRF       Last Changed
------------------------- ----------------- ------------------------- --------------- -------------------------
fe80::203:ff:fe11:1101/64 server01     eth1           default     47m:55.917s
fe80::203:ff:fe22:2202/64 server02     eth2           default     46m:24.908s
fe80::203:ff:fe33:3301/64 server03     eth1           default     45m:58.184s
fe80::203:ff:fe44:4402/64 server04     eth2           default     54m:25.264s
fe80::4638:39ff:fe00:18/6 leaf02      br0            default     1h:0m:31s
fe80::4638:39ff:fe00:1b/6 leaf03      swp52           default     1h:0m:32s
fe80::4638:39ff:fe00:1c/6 spine02      swp3           default     1h:0m:19s
fe80::4638:39ff:fe00:23/6 leaf03      br0            default     1h:0m:26s
fe80::4638:39ff:fe00:24/6 leaf01      swp52           default     1h:0m:44s
fe80::4638:39ff:fe00:25/6 spine02      swp1           default     1h:0m:19s
fe80::4638:39ff:fe00:28/6 leaf02      swp51           default     1h:0m:42s
fe80::4638:39ff:fe00:29/6 spine01      swp2           default     1h:0m:29s
fe80::4638:39ff:fe00:2c/6 leaf04      br0            default     1h:0m:18s
fe80::4638:39ff:fe00:3/64 leaf01      br0            default     1h:0m:39s
fe80::4638:39ff:fe00:3b/6 leaf04      swp51           default     1h:0m:23s
fe80::4638:39ff:fe00:3c/6 spine01      swp4           default     1h:0m:27s
fe80::4638:39ff:fe00:46/6 leaf04      swp52           default     1h:0m:22s
fe80::4638:39ff:fe00:47/6 spine02      swp4           default     1h:0m:19s
fe80::4638:39ff:fe00:4f/6 leaf03      swp51           default     1h:0m:36s
fe80::4638:39ff:fe00:50/6 spine01      swp3           default     1h:0m:29s
fe80::4638:39ff:fe00:53/6 leaf01      swp51           default     1h:0m:44s
fe80::4638:39ff:fe00:54/6 spine01      swp1           default     1h:0m:29s
fe80::4638:39ff:fe00:57/6 oob-mgmt-server  eth1           default     22d:18h:4m:38s
fe80::4638:39ff:fe00:5d/6 leaf02      swp52           default     1h:0m:40s
fe80::4638:39ff:fe00:5e/6 spine02      swp2           default     1h:0m:19s
fe80::5054:ff:fe77:c277/6 oob-mgmt-server  eth0           default     22d:18h:4m:38s
fe80::a200:ff:fe00:11/64 leaf01      eth0           default     22d:18h:4m:33s
fe80::a200:ff:fe00:12/64 leaf02      eth0           default     22d:18h:4m:46s
fe80::a200:ff:fe00:13/64 leaf03      eth0           default     22d:18h:4m:41s
fe80::a200:ff:fe00:14/64 leaf04      eth0           default     22d:18h:4m:36s
fe80::a200:ff:fe00:21/64 spine01      eth0           default     22d:18h:4m:37s
fe80::a200:ff:fe00:22/64 spine02      eth0           default     22d:18h:4m:40s
fe80::a200:ff:fe00:31/64 server01     eth0           default     18h:7m:58s
fe80::a200:ff:fe00:32/64 server02     eth0           default     18h:6m:23s
fe80::a200:ff:fe00:33/64 server03     eth0           default     18h:6m:1s
fe80::a200:ff:fe00:34/64 server04     eth0           default     22d:18h:4m:36s
</code></pre>

<p><strong>Example: Filter IP Address Information for a Specific Interface</strong></p>

<p>This example shows the IPv4 address information for the eth0 interface
on all devices.</p>

<pre><code>cumulus@switch:~$ netq show ip addresses eth0
Matching address records:
Address                   Hostname          Interface                 VRF             Last Changed
------------------------- ----------------- ------------------------- --------------- -------------------------
10.0.0.254/32             oob-mgmt-server   eth0                      default         22d:17h:40m:1s
192.168.0.11/24           leaf01            eth0                      default         22d:17h:39m:56s
192.168.0.12/24           leaf02            eth0                      default         22d:17h:40m:9s
192.168.0.13/24           leaf03            eth0                      default         22d:17h:40m:4s
192.168.0.14/24           leaf04            eth0                      default         22d:17h:40m:0s
192.168.0.21/24           spine01           eth0                      default         22d:17h:40m:0s
192.168.0.22/24           spine02           eth0                      default         22d:17h:40m:3s
192.168.0.31/24           server01          eth0                      default         17h:43m:21s
192.168.0.32/24           server02          eth0                      default         17h:41m:47s
192.168.0.33/24           server03          eth0                      default         17h:41m:24s
192.168.0.34/24           server04          eth0                      default         22d:17h:39m:59s
</code></pre>

<p><strong>Example: Filter IP Address Information for a Specific Device</strong></p>

<p>This example shows the IPv6 address information for the leaf01 switch.</p>

<pre><code>cumulus@switch:~$ netq leaf01 show ipv6 addresses
Matching address records:
Address          Hostname     Interface         VRF       Last Changed
------------------------- ----------------- ------------------------- --------------- -------------------------
fe80::4638:39ff:fe00:24/6 leaf01      swp52           default     4h:18m:49s
fe80::4638:39ff:fe00:3/64 leaf01      br0            default     4h:18m:45s
fe80::4638:39ff:fe00:53/6 leaf01      swp51           default     4h:18m:50s
fe80::a200:ff:fe00:11/64 leaf01      eth0           default     22d:21h:22m:39s
</code></pre>

<p><strong>Example: View Changes to IP Address Information</strong></p>

<p>This example shows the IPv4 address information that changed for all
devices between 7 and 30 days ago.</p>

<pre><code>cumulus@switch:~$ netq show ip addresses changes between 7d and 30d
Matching address records:
Address          Hostname     Interface         VRF       DB State Last Changed
------------------------- ----------------- ------------------------- --------------- -------- -------------------------
192.168.0.11/24      leaf01      eth0           default     Add    22d:20h:52m:30s
10.255.5.134/24      leaf01      vagrant          default     Add    22d:20h:52m:30s
192.168.0.34/24      server04     eth0           default     Add    22d:20h:52m:33s
192.168.0.14/24      leaf04      eth0           default     Add    22d:20h:52m:34s
192.168.0.21/24      spine01      eth0           default     Add    22d:20h:52m:35s
172.17.0.1/16       oob-mgmt-server  docker0          default     Add    22d:20h:52m:35s
192.168.0.254/24     oob-mgmt-server  eth1           default     Add    22d:20h:52m:35s
10.255.5.226/24      oob-mgmt-server  eth0           default     Add    22d:20h:52m:35s
192.168.0.22/24      spine02      eth0           default     Add    22d:20h:52m:37s
192.168.0.13/24      leaf03      eth0           default     Add    22d:20h:52m:38s
10.255.5.191/24      leaf03      vagrant          default     Add    22d:20h:52m:38s
192.168.0.12/24      leaf02      eth0           default     Add    22d:20h:52m:43s
10.255.5.32/24      leaf02      vagrant          default     Add    22d:20h:52m:43s
</code></pre>

<p><strong>Example: Obtain a Count of IP Addresses Used in Network</strong></p>

<p>This example shows the number of IPv4 and IPv6 addresses in the network.</p>

<pre><code>cumulus@switch:~$ netq show ip addresses count
Count of matching address records: 33

cumulus@switch:~$ netq show ipv6 addresses count
Count of matching address records: 42
</code></pre>

<h3 id="span-view-ip-neighbor-information-span"><span>View IP Neighbor Information</span></h3>

<p>You can view the IPv4 and IPv6 neighbor information for all of your
devices, including the interface port, MAC address, VRF assignment, and
whether it learns the MAC address from the peer (remote=yes).
Additionally, you can:</p>

<ul>
<li><p>view the information at an earlier point in time</p></li>

<li><p>view changes that have occurred over time</p></li>

<li><p>filter against a particular device, interface, address or VRF
assignment</p></li>

<li><p>obtain a count of all of the addresses</p></li>
</ul>

<p>Each of these provides information for troubleshooting potential
configuration and communication issues at the layer 3 level.</p>

<p><strong>Example: View IPv4 Neighbor Information for All Devices</strong></p>

<pre><code>cumulus@switch:~$ netq show ip neighbors 
Matching neighbor records:
IP Address                Hostname          Interface                 MAC Address        VRF             Remote Last Changed
------------------------- ----------------- ------------------------- ------------------ --------------- ------ -------------------------
10.255.5.1                oob-mgmt-server   eth0                      52:54:00:0f:79:30  default         no     22d:21h:26m:33s
169.254.0.1               leaf01            swp51                     44:38:39:00:00:54  default         no     4h:6m:17s
169.254.0.1               leaf01            swp52                     44:38:39:00:00:25  default         no     4h:6m:18s
169.254.0.1               leaf02            swp51                     44:38:39:00:00:29  default         no     4h:6m:16s
169.254.0.1               leaf02            swp52                     44:38:39:00:00:5e  default         no     4h:6m:18s
169.254.0.1               leaf03            swp51                     44:38:39:00:00:50  default         no     4h:6m:16s
169.254.0.1               leaf03            swp52                     44:38:39:00:00:1c  default         no     4h:6m:17s
169.254.0.1               leaf04            swp51                     44:38:39:00:00:3c  default         no     4h:6m:16s
169.254.0.1               leaf04            swp52                     44:38:39:00:00:47  default         no     4h:6m:17s
169.254.0.1               spine01           swp1                      44:38:39:00:00:53  default         no     4h:6m:17s
169.254.0.1               spine01           swp2                      44:38:39:00:00:28  default         no     4h:6m:16s
169.254.0.1               spine01           swp3                      44:38:39:00:00:4f  default         no     4h:6m:16s
169.254.0.1               spine01           swp4                      44:38:39:00:00:3b  default         no     4h:6m:16s
169.254.0.1               spine02           swp1                      44:38:39:00:00:24  default         no     4h:6m:8s
169.254.0.1               spine02           swp2                      44:38:39:00:00:5d  default         no     4h:6m:8s
169.254.0.1               spine02           swp3                      44:38:39:00:00:1b  default         no     4h:6m:7s
169.254.0.1               spine02           swp4                      44:38:39:00:00:46  default         no     4h:6m:7s
192.168.0.11              oob-mgmt-server   eth1                      a0:00:00:00:00:11  default         no     22d:21h:26m:33s
192.168.0.12              oob-mgmt-server   eth1                      a0:00:00:00:00:12  default         no     22d:21h:26m:33s
192.168.0.13              oob-mgmt-server   eth1                      a0:00:00:00:00:13  default         no     22d:21h:26m:33s
192.168.0.14              oob-mgmt-server   eth1                      a0:00:00:00:00:14  default         no     22d:21h:26m:33s
192.168.0.21              oob-mgmt-server   eth1                      a0:00:00:00:00:21  default         no     22d:21h:26m:33s
192.168.0.22              oob-mgmt-server   eth1                      a0:00:00:00:00:22  default         no     22d:21h:26m:33s
192.168.0.253             oob-mgmt-server   eth1                      a0:00:00:00:00:50  default         no     22d:21h:26m:33s
192.168.0.254             leaf01            eth0                      44:38:39:00:00:57  default         no     22d:21h:26m:29s
192.168.0.254             leaf02            eth0                      44:38:39:00:00:57  default         no     22d:21h:26m:41s
...
</code></pre>

<p><strong>Example: View IPv6 Neighbor Information for a Given Device.</strong></p>

<p>This example shows the IPv6 neighbors for leaf02 switch.</p>

<pre><code>cumulus@switch$ netq leaf02 show ipv6 neighbors 
Matching neighbor records:
IP Address                Hostname          Interface                 MAC Address        VRF             Remote Last Changed
------------------------- ----------------- ------------------------- ------------------ --------------- ------ -------------------------
fe80::203:ff:fe22:2202    leaf02            br0                       00:03:00:22:22:02  default         no     4h:37m:59s
fe80::4638:39ff:fe00:29   leaf02            swp51                     44:38:39:00:00:29  default         no     4h:41m:59s
fe80::4638:39ff:fe00:4    leaf02            eth0                      44:38:39:00:00:04  default         no     22d:21h:46m:29s
fe80::4638:39ff:fe00:5e   leaf02            swp52                     44:38:39:00:00:5e  default         no     4h:41m:58s
fe80::a200:ff:fe00:31     leaf02            eth0                      a0:00:00:00:00:31  default         no     4h:37m:43s
fe80::a200:ff:fe00:32     leaf02            eth0                      a0:00:00:00:00:32  default         no     4h:37m:56s
fe80::a200:ff:fe00:33     leaf02            eth0                      a0:00:00:00:00:33  default         no     4h:37m:8s
fe80::a200:ff:fe00:34     leaf02            eth0                      a0:00:00:00:00:34  default         no     4h:36m:40s
</code></pre>

<p><strong>Example: View Changes to IP Neighbors for All Devices</strong></p>

<p>This example shows changes to the IP neighbors for all devices in the
last 5 days. If you want to see changes since the devices were added,
remove the between keyword and values. If no changes are found, a <em>No
matching neighbor records found</em> message shows as the result.</p>

<pre><code>cumulus@switch:~$ netq show ip neighbors changes between now and 5d
Matching neighbor records:
IP Address                Hostname          Interface                 MAC Address        VRF             Remote DB State   Last Changed
------------------------- ----------------- ------------------------- ------------------ --------------- ------ ---------- -------------------------
169.254.0.1               exit02            swp51                     44:38:39:00:00:22  default         no     Add        4d:20h:38m:6s
169.254.0.1               exit02            swp52                     44:38:39:00:00:56  default         no     Add        4d:20h:38m:6s
169.254.0.1               exit02            swp44                     44:38:39:00:00:3e  vrf1            no     Add        4d:20h:38m:6s
192.168.0.254             exit02            eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:38m:6s
192.168.0.254             exit02            eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:38m:14s
10.255.0.1                exit02            vagrant                   52:54:00:09:40:06  default         no     Del        4d:20h:38m:14s
169.254.0.1               exit01            swp44                     44:38:39:00:00:07  vrf1            no     Add        4d:20h:38m:30s
192.168.0.254             exit01            eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:38m:30s
169.254.0.1               exit01            swp52                     44:38:39:00:00:5b  default         no     Add        4d:20h:38m:30s
169.254.0.1               exit01            swp51                     44:38:39:00:00:0a  default         no     Add        4d:20h:38m:30s
192.168.0.254             exit01            eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:38m:38s
10.255.0.1                exit01            vagrant                   52:54:00:09:40:06  default         no     Del        4d:20h:38m:38s
169.254.0.1               spine02           swp30                     44:38:39:00:00:5a  default         no     Add        4d:20h:39m:30s
169.254.0.1               spine02           swp29                     44:38:39:00:00:55  default         no     Add        4d:20h:39m:30s
192.168.0.254             spine02           eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:39m:30s
192.168.0.254             spine02           eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:39m:38s
169.254.0.1               spine01           swp29                     44:38:39:00:00:21  default         no     Add        4d:20h:39m:58s
192.168.0.254             spine01           eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:39m:58s
169.254.0.1               spine01           swp30                     44:38:39:00:00:09  default         no     Add        4d:20h:39m:58s
192.168.0.254             spine01           eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:40m:6s
192.168.0.254             leaf04            eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:40m:41s
169.254.1.1               leaf04            peerlink.4094             44:38:39:00:00:2e  default         no     Add        4d:20h:40m:41s
192.168.0.254             leaf04            eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:40m:49s
192.168.0.11              leaf03            eth0                      a0:00:00:00:00:11  mgmt            no     Add        4d:20h:44m:2s
169.254.1.2               leaf03            peerlink.4094             44:38:39:00:00:2f  default         no     Add        4d:20h:44m:2s
192.168.0.254             leaf03            eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:44m:2s
192.168.0.254             leaf03            eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:44m:10s
192.168.0.254             leaf02            eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:20h:44m:51s
169.254.1.1               leaf02            peerlink.4094             44:38:39:00:00:10  default         no     Add        4d:20h:44m:51s
192.168.0.254             leaf02            eth0                      44:38:39:00:00:57  default         no     Del        4d:20h:44m:59s
192.168.0.254             leaf01            eth0                      44:38:39:00:00:57  mgmt            no     Add        4d:21h:31m:30s
169.254.1.2               leaf01            peerlink.4094             44:38:39:00:00:11  default         no     Add        4d:21h:31m:30s
192.168.0.13              leaf01            eth0                      a0:00:00:00:00:13  mgmt            no     Add        4d:21h:31m:30s
192.168.0.254             leaf01            eth0                      44:38:39:00:00:57  default         no     Del        4d:21h:31m:38s
</code></pre>

<h3 id="span-view-ip-routes-information-span"><span>View IP Routes Information</span></h3>

<p>You can view the IPv4 and IPv6 routes for all of your devices, including
the IP address (with or without mask), the destination (by hostname) of
the route, next hops available, VRF assignment, and whether a host is
the owner of the route or MAC address. Additionally, you can:</p>

<ul>
<li><p>view the information at an earlier point in time</p></li>

<li><p>view changes that have occurred over time</p></li>

<li><p>filter against a particular address or VRF assignment</p></li>

<li><p>obtain a count of all of the routes</p></li>
</ul>

<p>Each of these provides information for troubleshooting potential
configuration and communication issues at the layer 3 level.</p>

<p><strong>Example: View IP Routes for All Devices</strong></p>

<p>This example shows the IPv4 and IPv6 routes for all devices in the
network.</p>

<pre><code>cumulus@switch:~$ netq show ipv6 routes
Matching routes records:
Origin VRF       Prefix             Hostname     Nexthops              Last Changed
------ --------------- ------------------------------ ----------------- ----------------------------------- -------------------------
yes  default     ::/0              server04     lo                 6h:1m:52s
yes  default     ::/0              server03     lo                 6h:1m:53s
yes  default     ::/0              server01     lo                 6h:1m:54s
yes  default     ::/0              server02     lo                 6h:1m:53s

cumulus@switch:~$ netq show ip routes
Matching routes records:
Origin VRF       Prefix             Hostname     Nexthops              Last Changed
------ --------------- ------------------------------ ----------------- ----------------------------------- -------------------------
no   default     0.0.0.0/0           server02     192.168.0.254: eth0         6h:8m:55s
no   default     0.0.0.0/0           server04     192.168.0.254: eth0         6h:8m:54s
no   default     0.0.0.0/0           server01     192.168.0.254: eth0         6h:8m:55s
no   default     10.0.0.0/8           server03     172.16.3.1: eth1          6h:8m:54s
no   default     10.0.0.0/8           server02     172.16.2.1: eth2          6h:8m:55s
no   default     10.0.0.0/8           server04     172.16.4.1: eth2          6h:8m:54s
no   default     10.0.0.0/8           server01     172.16.1.1: eth1          6h:8m:55s
no   default     10.0.0.11/32          leaf04      169.254.0.1: swp51,         6h:15m:41s
                                    169.254.0.1: swp52
no   default     10.0.0.11/32          spine02      169.254.0.1: swp1          6h:15m:42s
no   default     10.0.0.11/32          spine01      169.254.0.1: swp1          6h:15m:48s
no   default     10.0.0.12/32          spine02      169.254.0.1: swp2          6h:15m:42s
no   default     10.0.0.12/32          leaf04      169.254.0.1: swp51,         6h:15m:41s
                                    169.254.0.1: swp52
no   default     10.0.0.12/32          spine01      169.254.0.1: swp2          6h:15m:48s
no   default     10.0.0.13/32          leaf04      169.254.0.1: swp51,         6h:15m:41s
                                    169.254.0.1: swp52
no   default     10.0.0.13/32          leaf01      169.254.0.1: swp51,         6h:15m:41s
...
</code></pre>

<p><strong>Example: View IP Routes for a Given IP Address</strong></p>

<p>This example shows the routes available for an IP address of
10.0.0.<sup>12</sup>&frasl;<sub>32</sub>.</p>

<pre><code>cumulus@switch:~$ netq show ip routes 10.0.0.12
Matching routes records:
Origin VRF       Prefix             Hostname     Nexthops              Last Changed
------ --------------- ------------------------------ ----------------- ----------------------------------- -------------------------
no     default         10.0.0.12/32                   leaf03            10.0.0.21: swp51, 10.0.0.22: swp52  5h:39m:57s
no     default         10.0.0.12/32                   leaf01            10.0.0.21: swp51, 10.0.0.22: swp52  5h:39m:57s
no     default         10.0.0.12/32                   leaf04            10.0.0.21: swp51, 10.0.0.22: swp52  5h:39m:57s
no     default         10.0.0.12/32                   spine02           10.0.0.12: swp2                     5h:40m:1s
no     default         10.0.0.12/32                   spine01           10.0.0.12: swp2                     5h:39m:56s
yes    default         10.0.0.12/32                   leaf02            lo                                  5h:40m:21s
</code></pre>

<p><strong>Example: View IP Routes Owned by a Given Device</strong></p>

<p>This example shows the IPv4 routes that are owned by spine01 switch.</p>

<pre><code>cumulus@switch:~$ netq spine01 show ip routes origin
Matching routes records:
Origin VRF       Prefix             Hostname     Nexthops              Last Changed
------ --------------- ------------------------------ ----------------- ----------------------------------- -------------------------
yes  default     10.0.0.21/32          spine01      lo                 23h:47m:23s
yes  default     192.168.0.0/24         spine01      eth0                23d:16h:51m:28s
yes  default     192.168.0.21/32        spine01      eth0                23d:16h:51m:28s
</code></pre>

<p><strong>Example: View IP Routes for a Given Device at a Prior Time</strong></p>

<p>This example show the IPv4 routes for spine01 switch about 24 hours ago.</p>

<pre><code>cumulus@switch:~$ netq spine01 show ip routes around 24h
Matching routes records:
Origin VRF       Prefix             Hostname     Nexthops              Last Changed
------ --------------- ------------------------------ ----------------- ----------------------------------- -------------------------
no   default     10.0.0.11/32          spine01      169.254.0.1: swp1          3h:30m:12s
no   default     10.0.0.12/32          spine01      169.254.0.1: swp2          3h:30m:12s
no   default     10.0.0.13/32          spine01      169.254.0.1: swp3          3h:30m:11s
no   default     10.0.0.14/32          spine01      169.254.0.1: swp4          3h:30m:11s
no   default     172.16.1.0/24         spine01      169.254.0.1: swp1          3h:30m:13s
no   default     172.16.2.0/24         spine01      169.254.0.1: swp2          3h:30m:13s
no   default     172.16.3.0/24         spine01      169.254.0.1: swp3          3h:30m:13s
no   default     172.16.4.0/24         spine01      169.254.0.1: swp4          3h:30m:13s
yes  default     10.0.0.21/32          spine01      lo                 3h:46m:28s
yes  default     192.168.0.0/24         spine01      eth0                22d:20h:50m:33s
yes  default     192.168.0.21/32        spine01      eth0                22d:20h:50m:33s
</code></pre>

<p><strong>Example: View the Number of IP Routes in Network</strong></p>

<p>This example shows the total number of IP routes for all devices in the
network.</p>

<pre><code>cumulus@switch:~$ netq show ip routes count
Count of matching routes records: 125

cumulus@switch:~$ netq show ipv6 routes count
Count of matching routes records: 5
</code></pre>

<h2 id="span-monitor-bgp-configuration-span"><span>Monitor BGP Configuration</span></h2>

<p>If you have BGP running on your switches and hosts, you can monitor its
operation using the NetQ CLI. For each device, you can view its
associated neighbors, ASN (autonomous system number), peer ASN, receive
IP or EVPN address prefixes, and VRF assignment. Additionally, you can:</p>

<ul>
<li><p>view the information at an earlier point in time</p></li>

<li><p>view changes that have occurred over time</p></li>

<li><p>filter against a particular device, ASN, or VRF assignment</p></li>

<li><p>validate it is operating correctly across the network</p></li>
</ul>

<p>The <code>netq show bgp</code> command is used to obtain the BGP configuration
information from the devices. The <code>netq check bgp</code> command is used to
validate the configuration. The syntax of these commands is:</p>

<pre><code>netq [&lt;hostname&gt;] show bgp [&lt;bgp-session&gt;|asn &lt;number-asn&gt;] [vrf &lt;vrf&gt;] [around &lt;text-time&gt;] [json]
netq [&lt;hostname&gt;] show bgp [&lt;bgp-session&gt;|asn &lt;number-asn&gt;] [vrf &lt;vrf&gt;] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]

netq check bgp [vrf &lt;vrf&gt;] [around &lt;text-time&gt;] [json]
</code></pre>


<div class="notices info" > <p>When entering a time value, you must include a numeric value <em>and</em> the
unit of measure:</p>

<ul>
<li><p>d: day(s)</p></li>

<li><p>h: hour(s)</p></li>

<li><p>m: minute(s)</p></li>

<li><p>s: second(s)</p></li>

<li><p>now</p></li>
</ul>

<p>For time ranges, the <code>&lt;text-time&gt;</code> is the most recent time and the
<code>&lt;text-endtime&gt;</code> is the oldest time. The values do not have to have the
same unit of measure.</p>
 </div>


<h3 id="span-view-bgp-configuration-information-span"><span>View BGP Configuration Information</span></h3>

<p>NetQ enables you to view the BGP configuration of a single device or
across all of your devices at once. You can filter the results based on
an ASN, BGP session (IP address or interface name), or VRF assignment.
You can view the configuration in the past and view changes made to the
configuration within a given timeframe.</p>

<p><strong>Example: View BGP Configuration Information Across Network</strong></p>

<p>This example shows the BGP configuration across all of your switches. In
this scenario, BGP routing is configured between two spines and four
leafs. Each leaf switch has a unique ASN and the spine switches share an
ASN. The PfxRx column indicates that these devices have IPv4 address
prefixes. The second and third values in this column indicate IPv6 and
EVPN address prefixes when configured. This configuration was changed
just over one day ago.</p>

<pre><code>cumulus@switch:~$ netq show bgp
Matching bgp records:
Hostname     Neighbor           VRF       ASN    Peer ASN  PfxRx    Last Changed
----------------- ---------------------------- --------------- ---------- ---------- ------------ -------------------------
leaf01      swp51(spine01)        default     65011   65020   7/-/-    1d:3h:53m:22s
leaf01      swp52(spine02)        default     65011   65020   7/-/-    1d:3h:37m:20s
leaf02      swp51(spine01)        default     65012   65020   7/-/-    1d:3h:37m:30s
leaf02      swp52(spine02)        default     65012   65020   7/-/-    1d:3h:37m:21s
leaf03      swp51(spine01)        default     65013   65020   7/-/-    1d:3h:37m:30s
leaf03      swp52(spine02)        default     65013   65020   7/-/-    1d:3h:37m:21s
leaf04      swp51(spine01)        default     65014   65020   7/-/-    1d:3h:37m:29s
leaf04      swp52(spine02)        default     65014   65020   7/-/-    1d:3h:37m:20s
spine01      swp1(leaf01)         default     65020   65011   2/-/-    1d:3h:53m:22s
spine01      swp2(leaf02)         default     65020   65012   2/-/-    1d:3h:53m:22s
spine01      swp3(leaf03)         default     65020   65013   2/-/-    1d:3h:53m:22s
spine01      swp4(leaf04)         default     65020   65014   2/-/-    1d:3h:53m:22s
spine02      swp1(leaf01)         default     65020   65011   2/-/-    1d:3h:37m:20s
spine02      swp2(leaf02)         default     65020   65012   2/-/-    1d:3h:37m:20s
spine02      swp3(leaf03)         default     65020   65013   2/-/-    1d:3h:37m:20s
spine02      swp4(leaf04)         default     65020   65014   2/-/-    1d:3h:37m:19s
</code></pre>

<p><strong>Example: View BGP Configuration Information for a Given Device</strong></p>

<p>This example shows the BGP configuration information for the spine02
switch. The switch is peered with swp1 on leaf01, swp2 on leaf02, and so
on. Spine02 has an ASN of 65020 and each of the leafs have unique ASNs.</p>

<pre><code>cumulus@switch:~$ netq spine02 show bgp
Matching bgp records:
Hostname     Neighbor           VRF       ASN    Peer ASN  PfxRx    Last Changed
----------------- ---------------------------- --------------- ---------- ---------- ------------ -------------------------
spine02      swp1(leaf01)         default     65020   65011   2/-/-    1d:4h:55m:0s
spine02      swp2(leaf02)         default     65020   65012   2/-/-    1d:4h:55m:0s
spine02      swp3(leaf03)         default     65020   65013   2/-/-    1d:4h:55m:0s
spine02      swp4(leaf04)         default     65020   65014   2/-/-    1d:4h:54m:59s
</code></pre>

<p><strong>Example: View BGP Configuration Information for a Given ASN</strong></p>

<p>This example shows the BGP configuration information for ASN of <em>65013</em>.
This ASN is associated with leaf03 and so the results show the BGP
neighbors for that switch.</p>

<pre><code>cumulus@switch:~$ netq show bgp asn 65013
Matching bgp records:
Hostname     Neighbor           VRF       ASN    Peer ASN  PfxRx    Last Changed
----------------- ---------------------------- --------------- ---------- ---------- ------------ -------------------------
leaf03      swp51(spine01)        default     65013   65020   7/-/-    1d:4h:54m:31s
leaf03      swp52(spine02)        default     65013   65020   7/-/-    1d:4h:54m:22s
</code></pre>

<p><strong>Example: View BGP Configuration Information for a Prior Time</strong></p>

<p>This example shows the BGP configuration information as it was 12 hours
earlier.</p>

<pre><code>cumulus@switch:~$ netq show bgp around 12h
Matching bgp records:
Hostname     Neighbor           VRF       ASN    Peer ASN  PfxRx    Last Changed
----------------- ---------------------------- --------------- ---------- ---------- ------------ -------------------------
leaf01      swp51(spine01)        default     65011   65020   7/-/-    17h:29m:26s
leaf01      swp52(spine02)        default     65011   65020   7/-/-    17h:13m:24s
leaf02      swp51(spine01)        default     65012   65020   7/-/-    17h:13m:34s
leaf02      swp52(spine02)        default     65012   65020   7/-/-    17h:13m:25s
leaf03      swp51(spine01)        default     65013   65020   7/-/-    17h:13m:34s
leaf03      swp52(spine02)        default     65013   65020   7/-/-    17h:13m:25s
leaf04      swp51(spine01)        default     65014   65020   7/-/-    17h:13m:33s
leaf04      swp52(spine02)        default     65014   65020   7/-/-    17h:13m:24s
spine01      swp1(leaf01)         default     65020   65011   2/-/-    17h:29m:26s
spine01      swp2(leaf02)         default     65020   65012   2/-/-    17h:29m:26s
spine01      swp3(leaf03)         default     65020   65013   2/-/-    17h:29m:26s
spine01      swp4(leaf04)         default     65020   65014   2/-/-    17h:29m:26s
spine02      swp1(leaf01)         default     65020   65011   2/-/-    17h:13m:24s
spine02      swp2(leaf02)         default     65020   65012   2/-/-    17h:13m:24s
spine02      swp3(leaf03)         default     65020   65013   2/-/-    17h:13m:24s
spine02      swp4(leaf04)         default     65020   65014   2/-/-    17h:13m:23s
</code></pre>

<p><strong>Example: View BGP Configuration Changes</strong></p>

<p>This example shows that BGP configuration changes were made about five
days ago on this network.</p>

<pre><code>cumulus@switch:~$ netq show bgp changes
Matching bgp records:
Hostname          Neighbor                     VRF             ASN        Peer ASN   PfxRx        DBState    Last Changed
----------------- ---------------------------- --------------- ---------- ---------- ------------ ---------- -------------------------
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Del        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Del        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Del        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Del        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Del        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Del        5d:1h:41m:31s
spine01           swp2(leaf02)                 default         65020      65012      2/-/10       Add        5d:1h:41m:31s
...
</code></pre>

<h3 id="span-validate-bgp-operation-span"><span>Validate BGP Operation</span></h3>

<p>A single command enables you to validate that all configured route
peering is established across the network. The command checks for
duplicate router IDs and sessions that are in an unestablished state.
Either of these conditions trigger a configuration check failure. When a
failure is found, the reason is identified in the output along with the
time the issue occurred.</p>

<p>This example shows a check on the BGP operations that found no failed
sessions.</p>

<pre><code>cumulus@switch:~/$ netq check bgp
Total Nodes: 15, Failed Nodes: 0, Total Sessions: 16, Failed Sessions: 0
</code></pre>

<p>This example shows a check on the BGP operations that found two failed
sessions. The results indicate that BGP peering on leaf03 that connects
to spine01 failed four minutes ago. The failure was caused by an
interface failure on leaf03 which has lead to BGP hold timer expiration
on spine01.</p>

<pre><code>cumulus@switch:~$ netq check bgp
Total Sessions: 8 , Failed Sessions: 2
Node   Neighbor  Peer ID  Reason       Time
------- ---------- --------- ------------------ -------
leaf03  swp51    spine01  Interface down   4m ago
spine01 swp3    leaf03   Hold Timer Expired 4m ago
</code></pre>

<p>This example shows two failed BGP sessions because an interface is down
and possibly because an RA was not configured.</p>

<pre><code>cumulus@switch:~$ netq check bgp
Total Nodes: 10, Failed Nodes: 2, Total Sessions: 28 , Failed Sessions: 2,
Hostname     VRF      Peer Name    Peer Hostname  Reason                    Last Changed
----------------- --------------- ----------------- ----------------- --------------------------------------------- -------------------------
mlx-2700-03   default    uplink-1     spine-1     RA not configured(?)             0.116739s
spine-1     default    downlink-5    mlx-2700-03   Interface down                0.116793s
</code></pre>

<p>This example shows four failed BGP sessions because peers are not
configured and possibly because an RA was not configured.</p>

<pre><code>cumulus@switch:~$ netq check bgp
Total Nodes: 10, Failed Nodes: 3, Total Sessions: 28 , Failed Sessions: 4,
Hostname     VRF      Peer Name    Peer Hostname  Reason                    Last Changed
----------------- --------------- ----------------- ----------------- --------------------------------------------- -------------------------
mlx-2700-03   default    uplink-1     spine-1     Peer not configured             4.59256s
mlx-2700-03   default    uplink-2     unknown     RA not configured(?)             4.63093s
spine-1     default    downlink-5    mlx-2700-03   Peer not configured             0.155377s
spine-2     default    downlink-5    mlx-2700-03   Peer not configured             0.155410s
</code></pre>

<h2 id="span-monitor-ospf-configuration-span"><span>Monitor OSPF Configuration</span></h2>

<p>If you have OSPF running on your switches and hosts, you can monitor its
operation using the NetQ CLI. For each device, you can view its
associated interfaces, areas, peers, state, and type of OSPF running
(numbered or unnumbered). Additionally, you can:</p>

<ul>
<li><p>view the information at an earlier point in time</p></li>

<li><p>view changes that have occurred over time</p></li>

<li><p>filter against a particular device, interface, or area</p></li>

<li><p>validate it is operating correctly across the network</p></li>
</ul>

<p>The <code>netq show ospf</code> command is used to obtain the OSPF configuration
information from the devices. The <code>netq check ospf</code> command is used to
validate the configuration. The syntax of these commands is:</p>

<pre><code>netq [&lt;hostname&gt;] show ospf [&lt;remote-interface&gt;] [area &lt;area-id&gt;] [around &lt;text-time&gt;] [json]
netq [&lt;hostname&gt;] show ospf [&lt;remote-interface&gt;] [area &lt;area-id&gt;] changes [between &lt;text-time&gt; and &lt;text-endtime&gt;] [json]

netq check ospf [around &lt;text-time&gt;] [json]
</code></pre>


<div class="notices info" > <p>When entering a time value, you must include a numeric value <em>and</em> the
unit of measure:</p>

<ul>
<li><p>d: day(s)</p></li>

<li><p>h: hour(s)</p></li>

<li><p>m: minute(s)</p></li>

<li><p>s: second(s)</p></li>

<li><p>now</p></li>
</ul>

<p>For time ranges, the <code>&lt;text-time&gt;</code> is the most recent time and the
<code>&lt;text-endtime&gt;</code> is the oldest time. The values do not have to have the
same unit of measure.</p>
 </div>


<h3 id="span-view-ospf-configuration-information-span"><span>View OSPF Configuration Information</span></h3>

<p>NetQ enables you to view the OSPF configuration of a single device or
across all of your devices at once. You can filter the results based on
a device, interface, or area. You can view the configuration in the past
and view changes made to the configuration within a given timeframe.</p>

<p><strong>Example: View OSPF Configuration Information Across the Network</strong></p>

<p>This example shows all devices included in OSPF unnumbered routing, the
assigned areas, state, peer and interface, and the last time this
information was changed.</p>

<pre><code>cumulus@switch:~$ netq show ospf

Matching ospf records:
Hostname     Interface         Area     Type       State   Peer Hostname   Peer Interface      Last Changed
----------------- ------------------------- ------------ ---------------- ---------- ----------------- ------------------------- -------------------------
leaf01      swp51           0.0.0.0   Unnumbered    Full    spine01      swp1           27.914477s
leaf01      swp52           0.0.0.0   Unnumbered    Full    spine02      swp1           27.910094s
leaf02      swp51           0.0.0.0   Unnumbered    Full    spine01      swp2           36.816204s
leaf02      swp52           0.0.0.0   Unnumbered    Full    spine02      swp2           36.815804s
leaf03      swp51           0.0.0.0   Unnumbered    Full    spine01      swp3           34.547961s
leaf03      swp52           0.0.0.0   Unnumbered    Full    spine02      swp3           34.547727s
leaf04      swp51           0.0.0.0   Unnumbered    Full    spine01      swp4           27.332121s
leaf04      swp52           0.0.0.0   Unnumbered    Full    spine02      swp4           27.331475s
spine01      swp1           0.0.0.0   Unnumbered    Full    leaf01      swp51           37.647986s
spine01      swp2           0.0.0.0   Unnumbered    Full    leaf02      swp51           37.647565s
spine01      swp3           0.0.0.0   Unnumbered    Full    leaf03      swp51           37.647786s
spine01      swp4           0.0.0.0   Unnumbered    Full    leaf04      swp51           37.648211s
spine02      swp1           0.0.0.0   Unnumbered    Full    leaf01      swp52           37.840344s
spine02      swp2           0.0.0.0   Unnumbered    Full    leaf02      swp52           37.839967s
spine02      swp3           0.0.0.0   Unnumbered    Full    leaf03      swp52           37.840188s
spine02      swp4           0.0.0.0   Unnumbered    Full    leaf04      swp52           37.840626s
</code></pre>

<p><strong>Example: View <span style="color: #000000;"> OSPF Configuration
Information for a Given Device </span></strong></p>

<p><span style="color: #000000;"> This example show the OSPF configuration
information for leaf01. </span></p>

<pre><code>cumulus@switch:~$ netq leaf01 show ospf

Matching ospf records:
Hostname     Interface         Area     Type       State   Peer Hostname   Peer Interface      Last Changed
----------------- ------------------------- ------------ ---------------- ---------- ----------------- ------------------------- -------------------------
leaf01      swp51           0.0.0.0   Unnumbered    Full    spine01      swp1           8m:58.461s
leaf01      swp52           0.0.0.0   Unnumbered    Full    spine02      swp1           8m:58.457s
</code></pre>

<p><strong>Example: View OSPF Configuration Information for a Given Interface</strong></p>

<p>This example shows the OSPF configuration for all devices with the swp51
interface.</p>

<pre><code>cumulus@switch:~$ netq show ospf swp51

Matching ospf records:
Hostname     Interface         Area     Type       State   Peer Hostname   Peer Interface      Last Changed
----------------- ------------------------- ------------ ---------------- ---------- ----------------- ------------------------- -------------------------
leaf01      swp51           0.0.0.0   Unnumbered    Full    spine01      swp1           11m:10.639s
leaf02      swp51           0.0.0.0   Unnumbered    Full    spine01      swp2           11m:19.540s
leaf03      swp51           0.0.0.0   Unnumbered    Full    spine01      swp3           11m:17.272s
leaf04      swp51           0.0.0.0   Unnumbered    Full    spine01      swp4           11m:10.567s
</code></pre>

<p><strong><span style="color: #000000;"> <span style="color: #000000;">
<span style="color: #000000;"> Example: View </span>
<span style="color: #000000;"> OSPF Configuration Information at a Prior
Time </span> </span> </span></strong></p>

<p><span style="color: #000000;"> <span style="color: #000000;">
<span style="color: #000000;"> This example shows the OSPF configuration
for all leaf switches about five minutes ago. </span> </span> </span></p>

<pre><code>cumulus@switch:~$ netq leaf* show ospf around 5m

Matching ospf records:
Hostname     Interface         Area     Type       State   Peer Hostname   Peer Interface      Last Changed
----------------- ------------------------- ------------ ---------------- ---------- ----------------- ------------------------- -------------------------
leaf01      swp51           0.0.0.0   Unnumbered    Full    spine01      swp1           9m:10.128s
leaf01      swp52           0.0.0.0   Unnumbered    Full    spine02      swp1           9m:10.124s
leaf02      swp51           0.0.0.0   Unnumbered    Full    spine01      swp2           9m:19.305s
leaf02      swp52           0.0.0.0   Unnumbered    Full    spine02      swp2           9m:19.301s
leaf03      swp51           0.0.0.0   Unnumbered    Full    spine01      swp3           9m:16.762s
leaf03      swp52           0.0.0.0   Unnumbered    Full    spine02      swp3           9m:16.762s
leaf04      swp51           0.0.0.0   Unnumbered    Full    spine01      swp4           9m:9.546s
leaf04      swp52           0.0.0.0   Unnumbered    Full    spine02      swp4           9m:9.545s
</code></pre>

<h3 id="span-validate-ospf-operation-span"><span>Validate OSPF Operation</span></h3>

<p>A single command, <code>netq check ospf</code>, enables you to validate that all
configured route peering is established across the network. The command
checks for:</p>

<ul>
<li><p>router ID conflicts, such as duplicate IDs</p></li>

<li><p>links that are down, or have mismatched MTUs</p></li>

<li><p>mismatched session parameters (hello timer, dead timer, area ids,
and network type)</p></li>
</ul>

<p>When peer information is not available, the command verifies whether
OSPF is configured on the peer and if so, whether the service is
disabled, shutdown, or not functioning.</p>

<p>All of these conditions trigger a configuration check failure. When a
failure is found, the reason is identified in the output along with the
time the issue occurred.</p>

<p><span style="color: #000000;"> <span style="color: #000000;">
<span style="color: #000000;"> This example shows a check on the OSPF
operations that found no failed sessions. </span> </span> </span></p>

<pre><code>cumulus@switch:~$ netq check ospf
Total Sessions: 16, Failed Sessions: 0
</code></pre>

<p>This example shows a check on the OSPF operations that found two failed
sessions. The results indicate the reason for the failure is a
mismatched MTU for two links .</p>

<pre><code>cumulus@switch:~$ netq check ospf
Total Nodes: 21, Failed Nodes: 2, Total Sessions: 40 , Failed Sessions: 2,
Hostname          Interface                 PeerID                    Peer IP                   Reason                                        Last Changed
----------------- ------------------------- ------------------------- ------------------------- --------------------------------------------- -------------------------
spine-3           swp6                      0.0.0.23                  27.0.0.23                 mtu mismatch, mtu mismatch                    4.915650s
torc-22           swp5                      0.0.0.17                  27.0.0.17                 mtu mismatch, mtu mismatch                    11.452045s
</code></pre>

<h2 id="span-view-paths-between-devices-span"><span>View Paths between Devices</span></h2>

<p>You can <span style="color: #353744;"> view the available paths between
two devices on the network currently and at a time in the past using
their IPv4 or IPv6 addresses </span> . You can
<span style="color: #353744;"> perform the trace in only one direction
or both, and view the output in one of three formats ( </span> <em>json,
pretty,</em> <span style="color: #353744;"> and </span> <em>detail</em>
<span style="color: #353744;"> ). JSON output provides the output in a
JSON file format for ease of importing to other applications or
software. Pretty output lines up the paths in a pseudo-graphical manner
to help visualize multiple paths. Detail output is the default when not
specified, and is useful for traces with higher hop counts where the
pretty output wraps lines, making it harder to interpret the results.
The detail output displays a table with a row per hop and a set of rows
per path. </span></p>

<p><span style="color: #353744;"> <span style="color: #000000;"> To view
the paths, first identify the addresses for the source and destination
devices using the </span> <code>netq show ip addresses</code>
<span style="color: #000000;"> command (see syntax above), and then use
the </span> <code>netq trace</code> <span style="color: #000000;"> command to see
the available paths between those devices. </span> </span>
<span style="color: #353744;"> The trace command syntax is: </span></p>

<pre><code>netq trace &lt;ip&gt; from (&lt;src-hostname&gt;|&lt;ip-src&gt;) [vrf &lt;vrf&gt;] [around &lt;text-time&gt;] [bidir] [json|detail|pretty] [debug]
</code></pre>


<div class="notices info" > <p>The syntax requires the destination device address first, <em>&lt;ip&gt;</em>, and
then the source device address or hostname.</p>

<p>The tracing function only knows about addresses that have already been
learned. If you find that a path is invalid or incomplete, you may need
to ping the identified device so that its address becomes known.</p>
 </div>


<h3 id="span-view-paths-between-two-switches-with-pretty-output-span"><span>View Paths between Two Switches with Pretty Output</span></h3>

<p>This example first determines the IP addresses of the leaf01 and leaf03
switches, then shows the available paths between them. The results
include a summary of the trace, including the total number of paths
available, those with errors and warnings, and the MTU of the paths. In
this case, the results are displayed in pseudo-graphical output.</p>

<pre><code>cumulus@switch:~$ netq leaf01 show ip addresses
Matching address records:
Address                   Hostname          Interface                 VRF             Last Changed
------------------------- ----------------- ------------------------- --------------- -------------------------
10.0.0.11/32              leaf01            lo                        default         27m:3.870s
10.0.0.11/32              leaf01            swp51                     default         27m:3.898s
10.0.0.11/32              leaf01            swp52                     default         27m:3.877s
172.16.1.1/24             leaf01            br0                       default         27m:3.653s
192.168.0.11/24           leaf01            eth0                      default         33m:59.368s

cumulus@switch:~$ netq leaf03 show ip addresses
Matching address records:
Address                   Hostname          Interface                 VRF             Last Changed
------------------------- ----------------- ------------------------- --------------- -------------------------
10.0.0.13/32              leaf03            lo                        default         55m:43.224s
10.0.0.13/32              leaf03            swp51                     default         55m:43.250s
10.0.0.13/32              leaf03            swp52                     default         55m:43.230s
172.16.3.1/24             leaf03            br0                       default         55m:43.754s
192.168.0.13/24           leaf03            eth0                      default         1h:2m:47s

cumulus@switch:~$ netq trace 10.0.0.13 from 10.0.0.11 pretty
Number of Paths: 2
Number of Paths with Errors: 0
Number of Paths with Warnings: 0
Path MTU: 1500

 leaf01 swp52 -- swp1 spine02 swp3 -- swp52 leaf03 &lt;lo&gt;  
        swp51 -- swp1 spine01 swp3 -- swp51 leaf03 &lt;lo&gt;  
</code></pre>

<h3 id="span-view-forward-and-reverse-paths-between-two-switches-with-pretty-output-span"><span>View Forward and Reverse Paths between Two Switches with Pretty Output</span></h3>

<p>Like the previous example, this shows the paths between leaf01 and
leaf03 switches, but by adding the <em>bidir</em> keyword both the forward and
reverse paths are presented. Optionally, you can use the source device&rsquo;s
hostname to achieve the same results.</p>

<pre><code>cumulus@switch:~$ netq trace 10.0.0.13 from 10.0.0.11 bidir pretty
Number of Paths: 2
Number of Paths with Errors: 0
Number of Paths with Warnings: 0
Path MTU: 1500

 leaf01 swp52 -- swp1 spine02 swp3 -- swp52 leaf03 &lt;lo&gt; 
    swp51 -- swp1 spine01 swp3 -- swp51 leaf03 &lt;lo&gt; 

Number of Paths: 2
Number of Paths with Errors: 0
Number of Paths with Warnings: 0
Path MTU: 1500

leaf03 swp52 -- swp3 spine02 swp1 -- swp52 leaf01 &lt;lo&gt; 
    swp51 -- swp3 spine01 swp1 -- swp51 leaf01 &lt;lo&gt; 
</code></pre>

<h3 id="span-view-paths-between-two-switches-with-detailed-output-span"><span>View Paths between Two Switches with Detailed Output</span></h3>

<p>This example provides the same path information as the pretty output,
but displays the information in a tabular output. In this case there, no
VLAN is configured, so the related fields are left blank.</p>

<pre><code>cumulus@switch:~$ netq trace 10.0.0.13 from 10.0.0.11 detail
Number of Paths: 2
Number of Paths with Errors: 0
Number of Paths with Warnings: 0
Path MTU: 1500

Id Hop Hostname    InPort     InVlan InTunnel       InRtrIf     InVRF      OutRtrIf    OutVRF     OutTunnel       OutPort     OutVlan
--- --- --------------- --------------- ------ --------------------- --------------- --------------- --------------- --------------- --------------------- --------------- -------
1  1  leaf01                                            swp52      default                swp52
  2  spine02     swp1                     swp1      default     swp3      default                swp3
  3  leaf03     swp52                    swp52      default     lo
--- --- --------------- --------------- ------ --------------------- --------------- --------------- --------------- --------------- --------------------- --------------- -------
2  1  leaf01                                            swp51      default                swp51
  2  spine01     swp1                     swp1      default     swp3      default                swp3
  3  leaf03     swp51                    swp51      default     lo
--- --- --------------- --------------- ------ --------------------- --------------- --------------- --------------- --------------- --------------------- --------------- -------
</code></pre>

<p><span style="color: #ff0000;"><br />
</span></p>

<article id="html-search-results" class="ht-content" style="display: none;">

</article>

<footer id="ht-footer">

</footer>
</article>

      <script src="https://utteranc.es/client.js"
        repo="CumulusNetworks/docs-internal"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>

    </div>
    

      


  

    <aside class="book-toc fixed">

  
    <div class="toc">
    
      <button>
      <a href="https://github.com/CumulusNetworks/docs/edit/master/content/version/cumulus-netq-141/Cumulus-NetQ-Telemetry-User-Guide/Monitor-Network-Layer-Protocols.md" target="_blank" rel="noopener"><img src="/docs.cumulusnetworks.com/svg/pencil-circle.svg" alt="Edit" /> Edit this page</a>
      </button>
    
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#span-monitor-ip-configuration-span"><span>Monitor IP Configuration</span></a>
<ul>
<li><a href="#span-view-ip-address-information-span"><span>View IP Address Information</span></a></li>
<li><a href="#span-view-ip-neighbor-information-span"><span>View IP Neighbor Information</span></a></li>
<li><a href="#span-view-ip-routes-information-span"><span>View IP Routes Information</span></a></li>
</ul></li>
<li><a href="#span-monitor-bgp-configuration-span"><span>Monitor BGP Configuration</span></a>
<ul>
<li><a href="#span-view-bgp-configuration-information-span"><span>View BGP Configuration Information</span></a></li>
<li><a href="#span-validate-bgp-operation-span"><span>Validate BGP Operation</span></a></li>
</ul></li>
<li><a href="#span-monitor-ospf-configuration-span"><span>Monitor OSPF Configuration</span></a>
<ul>
<li><a href="#span-view-ospf-configuration-information-span"><span>View OSPF Configuration Information</span></a></li>
<li><a href="#span-validate-ospf-operation-span"><span>Validate OSPF Operation</span></a></li>
</ul></li>
<li><a href="#span-view-paths-between-devices-span"><span>View Paths between Devices</span></a>
<ul>
<li><a href="#span-view-paths-between-two-switches-with-pretty-output-span"><span>View Paths between Two Switches with Pretty Output</span></a></li>
<li><a href="#span-view-forward-and-reverse-paths-between-two-switches-with-pretty-output-span"><span>View Forward and Reverse Paths between Two Switches with Pretty Output</span></a></li>
<li><a href="#span-view-paths-between-two-switches-with-detailed-output-span"><span>View Paths between Two Switches with Detailed Output</span></a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
  

</aside>






  </main>
  <footer class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="footer-content">
            <div class="mb-4">
                <img src="https://static.cumulusnetworks.com/static/images/shared/cumulus-networks-rt-white-trademarked.ff839f1b2570.svg">
                <p> <script type="text/javascript">document.write(new Date().getFullYear());</script> Cumulus Networks.<br>
                Site by <a href="//unomena.com/" target="_blank">Unomena</a>.</p>
            </div>
            <ul class="mb-4">
              <li><h4>Products</h4></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-linux/">Cumulus Linux</a></li>
              <li><a href="//cumulusnetworks.com/products/netq/">Cumulus NetQ</a></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-express/">Cumulus Express</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>Learn</h4></li>
              <li><a href="//cumulusnetworks.com/learn/web-scale-networking-education/">Going web-scale</a></li>
              <li><a href="//cumulusnetworks.com/learn/events/">Events</a></li>
              <li><a href="//cumulusnetworks.com/blog/">Blog</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>About</h4></li>
              <li><a href="//cumulusnetworks.com/about/">Our story</a></li>
              <li><a href="//cumulusnetworks.com/about/careers/">Careers</a></li>
              <li><a href="//cumulusnetworks.com/about/media-coverage/">Media coverage</a></li>
              <li><a href="//docs.cumulusnetworks.com/" target="_blank">Tech docs</a></li>
              <li><a href="//cumulusnetworks.com/community/">Community</a></li>
            </ul>
            <ul>
              <li>
                <a href="//twitter.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M23 6.628l-2-.5 1-2-2.464.7A4.48 4.48 0 0 0 12 8.128v1c-3.539.73-6.634-1.2-9.5-4.5q-.75 4 1.5 6l-3-.5c.405 2.069 1.362 3.7 4 4l-2.5 1c1 2 2.566 2.31 5 2.5a10.748 10.748 0 0 1-6.5 2c12.755 5.669 20-2.664 20-10V8.3z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.facebook.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M17.768 7.5H13.5V5.6a.972.972 0 0 1 1.012-1.1c.418 0 2.988.01 2.988.01V.5h-4.329C9.244.5 8.5 3.474 8.5 5.355V7.5h-3v4h3v12h5v-12h3.851z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//linkedin.com/company/cumulus-networks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M6.5 22.5h-5v-13h5zm9-9a2 2 0 0 0-2 2v7h-5v-13h5v1.485a6.307 6.307 0 0 1 3.99-1.495c2.962 0 5.01 2.2 5.01 6.355V22.5h-5v-7a2 2 0 0 0-2-2zM6.5 5A2.5 2.5 0 1 1 4 2.5 2.5 2.5 0 0 1 6.5 5z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//vimeo.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M.5 7.393l.933 1.224S3.36 7.1 4 7.859s3.1 9.925 3.915 11.617c.714 1.483 2.684 3.444 4.845 2.042s9.34-7.529 10.626-14.769-8.642-5.723-9.693.583c2.627-1.577 4.03.642 2.686 3.154s-2.569 4.145-3.211 4.145-1.135-1.679-1.868-4.613c-.76-3.035-.755-8.5-3.911-7.882C4.412 2.721.5 7.393.5 7.393z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.github.com/cumulusnetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <path class="a" d="M19.459 17c0-5.969-4.126-3.532-7.5-3.532s-7.5-2.375-7.5 3.532a3.5 3.5 0 0 0 3.5 3.5h8a3.5 3.5 0 0 0 3.5-3.5z"></path>
                    <path class="a" d="M21.489 10.214l.032.023s2.646-4.572-.6-7.237c-2 0-5.058 3.3-5.058 3.3l.022.016A14.152 14.152 0 0 0 8.1 6.3C8.083 6.285 5.037 3 3.042 3c-3.173 2.6-.729 7.012-.614 7.217a8.876 8.876 0 0 0-1.395 5.743c.241 3.126 2.847 6.54 5.982 6.54H16.9c3.135 0 5.742-3.414 5.982-6.54a8.857 8.857 0 0 0-1.393-5.746z"></path>
                    <ellipse class="a" cx="15.48" cy="17" rx="1" ry="1.5"></ellipse>
                    <ellipse class="a" cx="8.48" cy="17" rx="1" ry="1.5"></ellipse>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//slack.cumulusnetworks.com/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <rect class="a" x=".5" y=".5" width="23" height="23" rx="6" ry="6"></rect>
                    <circle class="a" cx="12" cy="12" r="6"></circle>
                    <circle class="a" cx="19" cy="5" r="1.5"></circle>
                  </svg>
                </a>
              </li>
              <li>
                <p>Cumulus Networks<sup></sup>  Data center networking software for the open, modern data center.</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div class="footer-bottom">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <ul>
                      <li><a href="//cumulusnetworks.com/legal/trademarks/">Trademarks</a></li>
                      <li><a href="//cumulusnetworks.com/legal/privacy/">Privacy</a></li>
                      <li><a href="//cumulusnetworks.com/legal/">Terms of service</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>

  
  

</body>

</html>
