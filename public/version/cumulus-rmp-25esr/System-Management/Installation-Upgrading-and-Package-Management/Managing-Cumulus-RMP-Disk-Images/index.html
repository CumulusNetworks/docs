<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Managing Cumulus RMP Disk Images | Cumulus Networks Documentation</title>

  
  <link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/docs.cumulusnetworks.com/book.min.a378d8a2da6f5357a83a43dff33d6f77fb70401e0399d5ba78faf81d7a1ae1a8.css">

  
  <link rel="icon" href="/docs.cumulusnetworks.com/icons/favicon.png" type="image/x-icon">

  
  <!--
  Made with Book Theme
  https://github.com/alex-shpak/hugo-book
  -->

  
  
  <script src = "/docs.cumulusnetworks.com/js/codecopy.js"> </script>

</head>


<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  
  <header id="site-nav">
    <div class="header-wrapper flex">
      <a href="/">
        <img src="/header-logo.png" alt="Cumulus Networks">
        <img src="/cumulus-networks-rt-white.svg" alt="Cumulus Networks" class="header-mobile">
        <span>Docs</span>
      </a>
      <ul class="flex">
        <li><a href="//cumulusnetworks.com">HOME</a></li>
        <li><a href="//support.cumulusnetworks.com/">SUPPORT</a></li>
        <li><a href="//docs.cumulusnetworks.com/">DOCS</a></li>
        <li><a href="//education.cumulusnetworks.com">EDUCATION</a></li>
        <li><a href="//cumulusnetworks.com/blog/">BLOG</a></li>
        <li><a href="//forums.cumulusnetworks.com/">FORUMS</a></li>
      </ul>
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>
  <div id="product-nav" class="flex">
      
    
    <ul>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-linux/ >
        Cumulus Linux </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-netq/ >
        Cumulus NetQ </a> </li>
    
      <li><a href = docs.cumulusnetworks.com/cumulus-vx/ >
        Cumulus VX </a> </li>
    
      <li>
        <div id="products-dropdown" class="dropdown">
            <button class="btn" type="button" id="dropdownMenuButton">
              Products
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="">Cumulus RMP</a>
              <a class="dropdown-item" href="">Cumulus Chassis</a>
              <a class="dropdown-item" href="">Cumulus Host Pack</a>
            </div>
        </div>
      </li>
    </ul>
    <div class="search-container">
      <div id="doc-search-box">
        <input type="text" class="doc-search-input" placeholder="Search" value="">
        <span><button type="submit"><img src="/icons/search_20x20.svg" alt=""></button></span>
      </div>
      <div id="dropdown" class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton">
            v2.5.12
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/cumulus-rmp/"> v3.7</a>
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-rmp-25esr/"> v2.5.12</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-rmp-30/"> v3.0.1</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-rmp-31/"> v3.1.2</a>
            
            
            
             
             
            <a class = "dropdown-item" href = "docs.cumulusnetworks.com/version/cumulus-rmp-321/"> v3.2.1</a>
            
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
             
            
            
             
             
            
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
             
            
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
             
            
          </div>
      </div>
    </div>
  </div>
  <main class="flex container">
    <aside class="book-menu fixed">

      <nav role="navigation">
        <h2 class="book-brand">
          <a href="docs.cumulusnetworks.com">Cumulus Networks Documentation</a>
        </h2>
        
        




  <ul class = "cn-book-section-container" id = "top">
    
        
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
            

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/" >
    Cumulus RMP User Guide
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/" >
    System Management
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/" >
    Authentication, Authorization, and Accounting
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/SSH-for-Remote-Access/" >
    SSH for Remote Access
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/User-Accounts/" >
    User Accounts
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/Using-sudo-to-Delegate-Privileges/" >
    Using sudo to Delegate Privileges
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/LDAP-Authentication-and-Authorization/" >
    LDAP Authentication and Authorization
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Installation-Upgrading-and-Package-Management/" >
    Installation, Upgrading and Package Management
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Installation-Upgrading-and-Package-Management/Managing-Cumulus-RMP-Disk-Images/"  class="active" >
    Managing Cumulus RMP Disk Images
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Installation-Upgrading-and-Package-Management/Adding-and-Updating-Packages/" >
    Adding and Updating Packages
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Installation-Upgrading-and-Package-Management/Zero-Touch-Provisioning/" >
    Zero Touch Provisioning
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Setting-Date-and-Time/" >
    Setting Date and Time
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/System-Management/Configuring-switchd/" >
    Configuring switchd
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Configuring-and-Managing-Network-Interfaces/" >
    Configuring and Managing Network Interfaces
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Configuring-and-Managing-Network-Interfaces/Configuring-Switch-Port-Attributes/" >
    Configuring Switch Port Attributes
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/" >
    Layer 1 and Layer 2 Features
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Ethernet-Bridging-VLANs/" >
    Ethernet Bridging - VLANs
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Ethernet-Bridging-VLANs/VLAN-Tagging/" >
    VLAN Tagging
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Ethernet-Bridging-VLANs/VLAN-aware-Bridge-Mode-for-Large-scale-Layer-2-Environments/" >
    VLAN-aware Bridge Mode for Large-scale Layer 2 Environments
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Spanning-Tree-and-Rapid-Spanning-Tree/" >
    Spanning Tree and Rapid Spanning Tree
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Link-Layer-Discovery-Protocol/" >
    Link Layer Discovery Protocol
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Prescriptive-Topology-Manager-PTM/" >
    Prescriptive Topology Manager - PTM
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Bonding-Link-Aggregation/" >
    Bonding - Link Aggregation
  </a>


    </li>
    
  </ul>


  </li>


    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/" >
    Monitoring and Troubleshooting
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
      

  <li class="cn-book-section">
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Understanding-and-Decoding-the-cl-support-Output-File/" >
    Understanding and Decoding the cl-support Output File
  </a>



      

  <ul class="cn-book-section-container" id = "subsection">
    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Understanding-and-Decoding-the-cl-support-Output-File/Troubleshooting-Log-Files/" >
    Troubleshooting Log Files
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Understanding-and-Decoding-the-cl-support-Output-File/Troubleshooting-the-etc-Directory/" >
    Troubleshooting the etc Directory
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Understanding-and-Decoding-the-cl-support-Output-File/Troubleshooting-the-support-Directory/" >
    Troubleshooting the support Directory
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Single-User-Mode-Boot-Recovery/" >
    Single User Mode - Boot Recovery
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Monitoring-Interfaces-and-Transceivers-Using-ethtool/" >
    Monitoring Interfaces and Transceivers Using ethtool
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Resource-Diagnostics-Using-cl-resource-query/" >
    Resource Diagnostics Using cl-resource-query
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Monitoring-System-Hardware/" >
    Monitoring System Hardware
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Monitoring-System-Statistics-and-Network-Traffic-with-sFlow/" >
    Monitoring System Statistics and Network Traffic with sFlow
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Managing-Application-Daemons/" >
    Managing Application Daemons
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Troubleshooting-Network-Interfaces/" >
    Troubleshooting Network Interfaces
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Monitoring-and-Troubleshooting/Network-Troubleshooting/" >
    Network Troubleshooting
  </a>


    </li>
    
  </ul>


  </li>


    
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Quick-Start-Guide/" >
    Quick Start Guide
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Routing/" >
    Routing
  </a>


    </li>
    
    <li >
      

  <a href="docs.cumulusnetworks.com/version/cumulus-rmp-25esr/Cumulus-RMP-Index/" >
    Cumulus RMP Index
  </a>


    </li>
    
  </ul>


  </li>


          
      
          
      
          
      
          
      
          
      
          
      
    
  </ul>









      </nav>

      
      
      
      

      <script src = "/docs.cumulusnetworks.com/js/menuBundle.js"> </script>


    </aside>

    <div class="book-page">

      
      <header class="align-center justify-between book-header">
        <label for="menu-control">
          <img src="/docs.cumulusnetworks.com/svg/menu.svg" alt="Menu" />
        </label>
        <strong>Managing Cumulus RMP Disk Images</strong>
      </header>

      
      
<div class= "notices info" id = "info" >
    This documentation is for an older version of the software. If you are using the current version of Cumulus Linux, this content may not be up to date. The current version of the documentation is available [here](https://docs.cumulusnetworks.com/).
  </div>
<article class="markdown">
<h1>Managing Cumulus RMP Disk Images</h1>

<p><details></p>

<p>The Cumulus RMP operating system resides on a switch as a <em>disk image</em>.
Switches running Cumulus RMP can be configured with multiple disk
images. This section discusses how to manage them.</p>

<h2 id="span-commands-span"><span>Commands</span></h2>

<ul>
<li><p>cl-img-install</p></li>

<li><p>cl-img-select</p></li>

<li><p>cl-img-pkg</p></li>
</ul>

<h2 id="span-id-src-5116319-managingcumulusrmpdiskimages-upgrade-class-confluence-anchor-link-span-span-upgrading-cumulus-rmp-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-upgrade" class="confluence-anchor-link"></span><span>Upgrading Cumulus RMP</span></h2>

<p>If you already have Cumulus RMP installed on your switch and you are
upgrading to an X.Y.Z release, like 2.5.7 from an earlier release in the
same major and minor release family <strong>only</strong> (like 2.5.4 to 2.5.7), you
can use <code>apt-get</code> to upgrade to the new version. (If are upgrading to a
major (X.0) or minor (X.Y) release, you must do a full image install, as
described in <a href="#src-5116319_ManagingCumulusRMPDiskImages-new_image">Installing a New Cumulus RMP
Image</a> below.)</p>

<p>To upgrade to a maintenance (X.Y.Z) release using <code>apt-get</code>:</p>

<ol>
<li><p>Run <code>apt-get update</code>.</p></li>

<li><p>Run <code>apt-get dist-upgrade</code>.</p></li>

<li><p>Reboot the switch.</p></li>
</ol>


<div class="notices warning" > <p>While this method doesn&rsquo;t overwrite the target image slot, the disk
image does occupy a lot of disk space used by both Cumulus RMP image
slots.</p>
 </div>


<h2 id="span-id-src-5116319-managingcumulusrmpdiskimages-new-image-class-confluence-anchor-link-span-span-installing-a-new-cumulus-rmp-image-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-new_image" class="confluence-anchor-link"></span><span>Installing a New Cumulus RMP Image</span></h2>

<p>Cumulus RMP comes preinstalled on your switch. However there may be
instances where you need to perform a full image installation. Before
you install Cumulus RMP, the switch can be in two different states:</p>

<ul>
<li><p>The switch <a href="#src-5116319_ManagingCumulusRMPDiskImages-alreadyinstalled">already has Cumulus RMP
installed</a>
on it (see
<a href="#src-5116319_ManagingCumulusRMPDiskImages-alreadyinstalled">below</a>).</p></li>

<li><p>The switch has no image on it (so the switch is only running
<a href="http://www.onie.org/" target="_blank">ONIE</a>) or a clean installation is desired. In
which case, you would install Cumulus RMP in one of the following
ways:</p>

<ul>
<li><p>Using <a href="#src-5116319_ManagingCumulusRMPDiskImages-usb">USB</a> (see
<a href="#src-5116319_ManagingCumulusRMPDiskImages-usb">below</a>).</p></li>

<li><p>For all other ONIE installation methods, refer to <a href="https://support.cumulusnetworks.com/hc/en-us/articles/203771426-Using-ONIE-to-Install-Cumulus-Linux" target="_blank">this
knowledge base
article</a>.</p></li>
</ul></li>
</ul>


<div class="notices tip" > <p><a href="http://www.onie.org/" target="_blank">ONIE</a> is an open source project, equivalent to
PXE on servers, that allows installation of network operating systems
(NOS) on bare metal switches.</p>
 </div>


<p>Unlike Cumulus Linux, there is no license to install on a Cumulus RMP
switch.</p>

<h3 id="span-id-src-5116319-managingcumulusrmpdiskimages-alreadyinstalled-class-confluence-anchor-link-span-span-installing-a-new-image-when-cumulus-rmp-is-already-installed-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-alreadyinstalled" class="confluence-anchor-link"></span><span>Installing a New Image when Cumulus RMP Is already Installed</span></h3>

<p>Follow these upgrade steps for both major and minor releases, where:</p>

<ul>
<li><p>A major release upgrade is 2.X.X to 3.X.X (like 2.5.7 to 3.0.0)</p></li>

<li><p>A minor release upgrade is X.2.X to X.3.X (like 2.5.4 to 2.5.7)</p></li>
</ul>

<p>Installing a new image is a six step process:</p>

<ol>
<li><p>Installing the new image into the alternate image slot (see
<a href="#src-5116319_ManagingCumulusRMPDiskImages-slots">below</a>).</p></li>

<li><p>Backing up your configuration files into <code>/mnt/persist</code>.</p></li>

<li><p>Selecting the alternate slot for next boot (that is, the slot you
just installed into).</p></li>

<li><p>Rebooting the switch.</p></li>

<li><p>Copying the files from <code>/mnt/persist</code> to the new slot; this happens
automatically if you follow the instructions below.</p></li>

<li><p>Clearing <code>/mnt/persist</code> out so subsequent reboots don&rsquo;t load
<code>/mnt/persist</code>.</p></li>
</ol>








<img class = "confluence-embedded-image" src = "/images/download/attachments/5116319/Screen-Shot-2015-09-14-at-3.47.19-PM.png" alt = "/images/download/attachments/5116319/Screen-Shot-2015-09-14-at-3.47.19-PM.png"

height = 250


 />



<div class="notices warning" > <p>Installing a new image overwrites <strong>all files</strong>  including
configuration files  on the target slot. Cumulus Networks strongly
recommends you create a <a href="#src-5116319_ManagingCumulusRMPDiskImages-persistent_config">persistent
configuration</a>
to back up your important files, like your configurations; see Step 2
below.</p>
 </div>


<h3 id="span-step-1-installing-the-new-image-span"><span>Step 1: Installing the New Image</span></h3>

<p>Use the <code>cl-img-install</code> command to ****install a new image into the
<strong>alternate</strong> image slot.</p>


<div class="notices note" > <p>You can only install into the alternate slot, as it is not possible to
install into the actively running slot. The system automatically
determines which slot is the alternate slot (slot 2 in this case).</p>
 </div>


<p>This example assumes the new image is located in the current directory
(where the user is running the command from):</p>

<pre><code>cumulus@switch:~$ sudo cl-img-install CumulusRMP-2.5.7-amd64.bin
</code></pre>

<p><summary>Click to expand full output </summary></p>

<pre><code>cumulus@switch$ sudo cl-img-install CumulusRMP-2.5.7-amd64.bin
Defaulting to image slot 2 for install.
Dumping image info from CumulusRMP-2.5.7-amd64.bin ...
Verifying image checksum ... OK.
Preparing image archive ... OK.
Control File Contents
=====================
Description: Cumulus RMP
OS-Release: 2.5.7-3b46bef-201509041633-build
Architecture: amd64
Date: Fri, 04 Sep 2015 17:10:30 -0700
Installer-Version: 1.2
Platforms: accton_as5712_54x accton_as6712_32x mlx_sx1400_i73612 dell_s6000_s1220 dell_s4000_c2338 dell_s3000_c2338 cel_redstone_xp cel_smallstone_xp cel_pebble quanta_panther quanta_ly8_rangeley quanta_ly6_rangeley quanta_ly9_rangeley
Homepage: http://www.cumulusnetworks.com/
Data Archive Contents
=====================
-rw-r--r-- build/Development       131 2015-09-05 00:10:29 file.list
-rw-r--r-- build/Development        44 2015-09-05 00:10:29 file.list.sha1
-rw-r--r-- build/Development 140238619 2015-09-05 00:10:29 sysroot-release.tar.gz
-rw-r--r-- build/Development        44 2015-09-05 00:10:30 sysroot-release.tar.gz.sha1
-rw-r--r-- build/Development   8094220 2015-09-05 00:10:29 vmlinuz-initrd.tar.xz
-rw-r--r-- build/Development        44 2015-09-05 00:10:30 vmlinuz-initrd.tar.xz.sha1
Current image slot setup:
active =&gt; slot 1 (primary): 2.5.7-c4e83ad-201506011818-build
          slot 2 (alt    ): 2.5.4-727a0c6-201504132125-build
About to update image slot 2 using:
/home/cumulus/CumulusRMP-2.5.7-amd64.bin
Are you sure (y/N)? y
Verifying image checksum ... OK.
Preparing image archive ... OK.
Validating sha1 for vmlinuz-initrd.tar.xz... done.
Validating sha1 for sysroot-release.tar.gz... done.
Installing OS-Release 2.5.7-3b46bef-201509041633-build into image slot 2 ...
Info: Copying sysroot into slot 2
Creating logical volume SYSROOT2 on volume group CUMULUS... done.
Verifying sysroot copy... OK.
Copying kernel into CLBOOT partition... done.
Verifying kernel copy... OK.
Generating grub.cfg ...
Found Cumulus RMP image: /boot/cl-vmlinuz-3.2.65-1+deb7u2+cl2.5+5-slot-1
Found Cumulus RMP image: /boot/cl-vmlinuz-3.2.65-1+deb7u2+cl2.5+5-slot-2
done
Success: /home/cumulus/CumulusRMP-2.5.7-amd64.bin loaded into image slot 2.
</code></pre>

<h3 id="span-id-src-5116319-managingcumulusrmpdiskimages-persistent-config-class-confluence-anchor-link-span-span-step-2-backing-up-your-configuration-files-into-mnt-persist-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-persistent_config" class="confluence-anchor-link"></span><span>Step 2: Backing up Your Configuration Files into /mnt/persist </span></h3>

<p>Any files that have been modified from the factory default should be
backed up to <code>/mnt/persist</code>.</p>

<h4 id="span-recommended-files-to-make-persistent-span"><span>Recommended Files to Make Persistent</span></h4>

<p>Cumulus Networks recommends you consider making the following files and
directories part of a persistent configuration.</p>

<p><strong>Network Configuration Files</strong></p>

<table>
<thead>
<tr>
<th>File Name and Location</th>
<th>Explanation</th>
<th>Cumulus RMP Documentation</th>
<th>Debian Documentation</th>
</tr>
</thead>

<tbody>
<tr>
<td>/etc/network/</td>
<td>Network configuration files, most notably <code>/etc/network/interfaces</code></td>
<td><a href="/version/cumulus-rmp-25esr/Configuring-and-Managing-Network-Interfaces/">Configuring and Managing Network Interfaces</a></td>
<td><a href="https://wiki.debian.org/NetworkConfiguration" target="_blank">wiki.debian.org/NetworkConfiguration</a></td>
</tr>

<tr>
<td>/etc/resolv.conf</td>
<td>DNS resolution</td>
<td>Not unique to Cumulus RMP: <a href="https://wiki.debian.org/NetworkConfiguration#The_resolv.conf_configuration_file" target="_blank">wiki.debian.org/NetworkConfiguration#The_resolv.conf_configuration_file</a></td>
<td><a href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html" target="_blank">www.debian.org/doc/manuals/debian-reference/ch05.en.html</a></td>
</tr>

<tr>
<td>/etc/hostname</td>
<td>Configuration file for the hostname of the switch</td>
<td><a href="Quick-Start-Guide.html#src-5116307_QuickStartGuide-ConfiguringtheHostnameandTimeZone" target="_blank">Quick Start Guide#ConfiguringtheHostnameandTimeZone</a></td>
<td><a href="https://wiki.debian.org/HowTo/ChangeHostname" target="_blank">wiki.debian.org/HowTo/ChangeHostname</a></td>
</tr>

<tr>
<td>/etc/cumulus/ports.conf</td>
<td>Breakout cable configuration file</td>
<td><a href="Configuring-Switch-Port-Attributes.html#src-5116358_ConfiguringSwitchPortAttributes-ConfiguringBreakoutPorts" target="_blank">Configuring Switch Port Attributes#ConfiguringBreakoutPorts</a></td>
<td>N/A; please read the guide on breakout cables</td>
</tr>
</tbody>
</table>

<p><strong>Additional Commonly Used Files</strong></p>

<table>
<thead>
<tr>
<th>File Name and Location</th>
<th>Explanation</th>
<th>Cumulus RMP Documentation</th>
<th>Debian Documentation</th>
</tr>
</thead>

<tbody>
<tr>
<td>/etc/motd</td>
<td>Message of the day</td>
<td>Not unique to Cumulus RMP</td>
<td><a href="https://wiki.debian.org/motd#Wheezy" target="_blank">wiki.debian.org/motd#Wheezy</a></td>
</tr>

<tr>
<td>/etc/passwd</td>
<td>User account information</td>
<td>Not unique to Cumulus RMP</td>
<td><a href="https://www.debian.org/doc/manuals/debian-reference/ch04.en.html" target="_blank">www.debian.org/doc/manuals/debian-reference/ch04.en.html</a></td>
</tr>

<tr>
<td>/etc/shadow</td>
<td>Secure user account information</td>
<td>Not unique to Cumulus RMP</td>
<td><a href="https://www.debian.org/doc/manuals/debian-reference/ch04.en.html" target="_blank">www.debian.org/doc/manuals/debian-reference/ch04.en.html</a></td>
</tr>

<tr>
<td>/etc/lldpd.conf</td>
<td>Link Layer Discover Protocol (LLDP) daemon configuration</td>
<td><a href="/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Link-Layer-Discovery-Protocol">Link Layer Discovery Protocol</a></td>
<td><a href="https://packages.debian.org/wheezy/lldpd" target="_blank">packages.debian.org/wheezy/lldpd</a></td>
</tr>

<tr>
<td>/etc/lldpd.d/</td>
<td>Configuration directory for <code>lldpd</code></td>
<td><a href="/version/cumulus-rmp-25esr/Layer-1-and-Layer-2-Features/Link-Layer-Discovery-Protocol">Link Layer Discovery Protocol</a></td>
<td><a href="https://packages.debian.org/wheezy/lldpd" target="_blank">packages.debian.org/wheezy/lldpd</a></td>
</tr>

<tr>
<td>/etc/nsswitch.conf</td>
<td>Name Service Switch (NSS) configuration file</td>
<td><a href="/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/LDAP-Authentication-and-Authorization">LDAP Authentication and Authorization</a></td>
<td><a href="https://wiki.debian.org/LDAP/NSS" target="_blank">wiki.debian.org/LDAP/NSS</a></td>
</tr>

<tr>
<td>/etc/ssh/</td>
<td>SSH configuration files</td>
<td><a href="/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/SSH-for-Remote-Access">SSH for Remote Access</a></td>
<td><a href="https://wiki.debian.org/SSH" target="_blank">wiki.debian.org/SSH</a></td>
</tr>

<tr>
<td>/etc/ldap/ldap.conf</td>
<td>Lightweight Directory Access Protocol configuration file</td>
<td><a href="/version/cumulus-rmp-25esr/System-Management/Authentication-Authorization-and-Accounting/LDAP-Authentication-and-Authorization">LDAP Authentication and Authorization</a></td>
<td><a href="https://www.debian.org/doc/manuals/debian-reference/ch04.en.html" target="_blank">www.debian.org/doc/manuals/debian-reference/ch04.en.html</a></td>
</tr>
</tbody>
</table>

<ul>
<li><p>If you are using the root user account, consider including <code>/root/</code>.</p></li>

<li><p>If you have custom user accounts, consider including
<code>/home/&lt;username&gt;/</code>.</p></li>
</ul>

<h4 id="span-simple-bash-script-example-span"><span>Simple Bash Script Example</span></h4>

<p><summary>Example Bash script to automate /mnt/persist backup; click to
expand&hellip; </summary></p>

<p>The following script is a Bash script that can help grab all the above
files and push them to <code>/mnt/persist</code> automatically.</p>

<pre><code>#!/bin/bash
#network configuration files
cp -r --parents /etc/network/ /mnt/persist/
cp --parents /etc/resolv.conf /mnt/persist/
if [ -f /etc/quagga/Quagga.conf ]; then cp --parents /etc/quagga/Quagga.conf /mnt/persist; fi
cp --parents /etc/quagga/daemons /mnt/persist
cp --parents /etc/hostname /mnt/persist
cp --parents /etc/cumulus/ports.conf /mnt/persist

#commonly used filed
cp --parents /etc/motd /mnt/persist/
cp --parents /etc/passwd /mnt/persist/
cp --parents /etc/shadow /mnt/persist/
if [ -f /etc/lldpd.conf ]; then cp --parents /etc/lldpd.conf /mnt/persist/; fi
cp -r --parents /etc/lldpd.d/* /mnt/persist/
cp --parents /etc/nsswitch.conf /mnt/persist
cp -a --parents /etc/ssh/ /mnt/persist/
if [ -f /etc/ldap.conf ]; then cp --parents /etc/ldap.conf /mnt/persist; fi
</code></pre>

<p>To run the script copy the above into a <code>.sh</code> file (for example, <code>sudo
nano backup.sh</code>).</p>

<pre><code>cumulus@switch$ bash backup.sh
</code></pre>

<p>To check if the script worked use the Linux <code>tree</code> command:</p>

<pre><code>cumulus@switch$ tree /mnt/persist
/mnt/persist
`-- etc
    |-- cumulus
    |   `-- ports.conf
    |-- hostname
    |-- lldpd.d
    |   `-- README.conf
    |-- motd
    |-- network
    |   |-- if-down.d
    |   |-- if-post-down.d
    |   |-- if-post-up.d
    |   |-- if-pre-down.d
    |   |-- if-pre-up.d
    |   |   `-- ethtool
    |   |-- if-up.d
    |   |   |-- ethtool
    |   |   |-- mountnfs
    |   |   `-- openssh-server
    |   |-- ifupdown2
    |   |   `-- ifupdown2.conf
    |   |-- interfaces
    |   |-- interfaces.d
    |   `-- run -&gt; /run/network
    |-- nsswitch.conf
    |-- passwd
    |-- quagga
    |   |-- Quagga.conf
    |   `-- daemons
    |-- resolv.conf
    |-- shadow
    `-- ssh
        |-- moduli
        |-- ssh_config
        |-- ssh_host_dsa_key
        |-- ssh_host_dsa_key.pub
        |-- ssh_host_ecdsa_key
        |-- ssh_host_ecdsa_key.pub
        |-- ssh_host_rsa_key
        |-- ssh_host_rsa_key.pub
        `-- sshd_config
</code></pre>

<h3 id="span-step-3-selecting-the-alternate-slot-for-next-boot-span"><span>Step 3: Selecting the Alternate Slot for Next Boot</span></h3>

<p>To select the slot you just installed into, either use <code>cl-img-select
-s</code> to switch the primary slot to the alternate slot, or use
<code>cl-img-select</code> with the number of the slot you want directly (for
example, <code>cl-img-select 2</code>).</p>

<pre><code>cumulus@switch$ sudo cl-img-select -s
Success: Primary image slot set to 2.
active =&gt; slot 1 (alt    ): 2.5.7-c4e83ad-201506011818-build
          slot 2 (primary): 2.5.6-3b46bef-201509041633-build
Reboot required to take effect.
</code></pre>

<h3 id="span-step-4-rebooting-the-switch-span"><span>Step 4: Rebooting the Switch</span></h3>

<p>Reboot the switch to boot into the new primary slot.</p>

<pre><code>cumulus@switch$ reboot
</code></pre>

<h3 id="span-step-5-copying-the-files-from-mnt-persist-to-the-new-slot-span"><span>Step 5: Copying the Files from /mnt/persist to the New Slot </span></h3>

<p>Files in <code>/mnt/persist</code> automatically are rolled into the primary image
slot when the switch boots. For example, in this scenario everything in
<code>/mnt/persist</code> gets automatically copied into slot 2 when the reboot is
performed in step 4 above. The files in <code>/mnt/persist</code> keep their
relative path after the reboot. For example, if there was a
<code>/mnt/persist/etc/network/interfaces</code>, it would be copied into
<code>/etc/network/interfaces</code>.</p>

<p>Use the tree command to look at the folder structure of <code>/mnt/</code>.</p>

<pre><code>cumulus@switch$ tree /mnt/
/mnt
`-- persist
    `-- etc
        `-- network
            `-- interfaces
</code></pre>

<p>So in this case <code>/mnt/persist/etc/network/interfaces</code> overrides the
primary slot&rsquo;s <code>/etc/network/interfaces</code> on boot.</p>

<h3 id="span-step-6-clearing-mnt-persist-span"><span>Step 6: Clearing /mnt/persist </span></h3>

<p>If <code>/mnt/persist</code> is not cleared out, everything in <code>/mnt/persist</code> will
overwrite any relative files in the primary slot whenever the switch
boots. This can be a problem is a user modifies some files but forgets
to also make the changes to <code>/mnt/persist</code>. It is best practice to clear
out <code>/mnt/persist</code> so that any subsequent users can make changes and not
have them overwritten the next time the switch boots.</p>

<pre><code>cumulus@switch$ sudo rm -r /mnt/persist/*
cumulus@switch$ ls /mnt/persist/
cumulus@switch$
</code></pre>


<div class="notices warning" > <p>This is an extra reminder to clear out <code>/mnt/persist</code>. A future reboot
will cause <strong>everything</strong> in <code>/mnt/persist</code> to overwrite the current
primary slot.</p>
 </div>


<h3 id="span-id-src-5116319-managingcumulusrmpdiskimages-usb-class-confluence-anchor-link-span-span-full-installation-of-cumulus-rmp-using-onie-over-usb-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-usb" class="confluence-anchor-link"></span><span>Full Installation of Cumulus RMP Using ONIE over USB</span></h3>

<p>Follow the steps below to conduct a full installation of Cumulus RMP.
This wipes out all pre-existing configuration files that may be present
on the switch.</p>


<div class="notices note" > <p>Make sure to back up any important configuration files that you may need
to restore the configuration of your switch after the installation
finishes.</p>
 </div>


<h4 id="span-preparing-for-usb-installation-span"><span>Preparing for USB Installation</span></h4>

<ol>
<li><p>Download the appropriate Cumulus RMP image for your x86 platform
from the <a href="http://cumulusnetworks.com/downloads/" target="_blank">Cumulus Downloads
page</a>.</p></li>

<li><p>Prepare your flash drive by formatting in one of the supported
formats: FAT32, vFAT or EXT2.</p>

<p><summary>Optional: Preparing a USB Drive inside Cumulus Linux
</summary></p>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td>
<div class="notices warning" > <p></p>
    <p>It is possible that you could severely damage your system with the following utilities, so please use caution when performing the actions below!</p>
    <p></p>
 </div>

<ol>
<li><p>Insert your flash drive into the USB port on the switch running Cumulus RMP and log in to the switch.</p></li>
<li><p>Determine and note which device your flash drive can be found at using output from <code>cat /proc/partitions</code> and <code>sudo fdisk -l [device]</code>. For example, <code>sudo fdisk -l /dev/sdb</code>. These instructions assume your USB drive is the <code>/dev/sdb</code> device, which is typical. Make sure to modify the commands below to use the proper device for your USB drive.</p></li>
<li><p>Create a new partition table on the device:</p>
<pre><code>sudo parted /dev/sdb mklabel msdos</code></pre></li>
<li><p>Create a new partition on the device:</p>
<pre><code>sudo parted /dev/sdb -a optimal mkpart primary 0% 100%</code></pre></li>
<li><p>Format the partition to your filesystem of choice using ONE of the examples below:</p>
<pre><code>sudo mkfs.ext2 /dev/sdb1
sudo mkfs.msdos -F 32 /dev/sdb1
sudo mkfs.vfat /dev/sdb1</code></pre>

<div class="notices note" > <p></p>
    <p>To use <code>mkfs.msdos</code> or <code>mkfs.vfat</code>, you need to install the <code>dosfstools</code> package from the <a href="http://docs.cumulusnetworks.com/display/DOCS/Adding+and+Updating+Packages#AddingandUpdatingPackages-AddingPackagesfromAnotherRepository" class="external-link">Debian software repositories</a> (step 3 here shows you how to add repositories from Debian), as they are not included by default.</p>
    <p></p>
 </div>
</li>
<li><p>To continue installing Cumulus RMP, mount the USB drive in order to move files to it.</p>
<pre><code>sudo mkdir /mnt/usb
sudo mount /dev/sdb1 /mnt/usb</code></pre></li>
</ol></td>
</tr>
</tbody>
</table></li>

<li><p>Copy the image file over to the flash drive and rename the image
file to <code>onie-installer_x86-64</code>.</p></li>

<li><p>Insert the USB stick into the switch, then continue with the
appropriate instructions below for your x86 platform.</p></li>

<li><p>Prepare the switch for installation:</p>

<ul>
<li><p>If the switch is offline, connect to the console and power on
the switch.</p></li>

<li><p>If the switch is already online in Cumulus RMP, connect to the
console and reboot the switch into the ONIE environment with the
<code>sudo cl-img-select -i</code> command, followed by <code>sudo reboot</code>. Then
skip to step 4 below.</p></li>

<li><p>If the switch is already online in ONIE, use the <code>reboot</code>
command.</p></li>
</ul>


<div class="notices note" > <pre><code>SSH sessions to the switch get dropped after this step. To complete
the remaining instructions, connect to the console of the switch.
Cumulus RMP switches display their boot process to the console, so
you need to monitor the console specifically to complete the next
step.
</code></pre>
 </div>
</li>

<li><p>Monitor the console and select the ONIE option from the first GRUB
screen shown below.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/5116319/GRUB-ONIE.png" alt = "/images/download/attachments/5116319/GRUB-ONIE.png"

height = 250


 />
</li>

<li><p>Cumulus RMP uses GRUB chainloading to present a second GRUB menu
specific to the ONIE partition. No action is necessary in this menu
to select the default option <em>ONIE: Install OS</em>.</p>








<img class = "confluence-embedded-image" src = "/images/download/attachments/5116319/GRUB-install-OS.png" alt = "/images/download/attachments/5116319/GRUB-install-OS.png"

height = 250


 />
</li>

<li><p>At this point, the USB drive should be automatically recognized and
mounted. The image file should be located and automatic installation
of Cumulus RMP should begin. Here is some sample output:</p>

<pre><code>ONIE: OS Install Mode  ...

Version : quanta_common_rangeley-2014.05.05-6919d98-201410171013
Build  Date: 2014-10-17T10:13+0800
Info: Mounting kernel filesystems...  done.
Info: Mounting LABEL=ONIE-BOOT on /mnt/onie-boot  ...
initializing eth0...
scsi 6:0:0:0: Direct-Access  SanDisk Cruzer Facet 1.26 PQ: 0 ANSI: 6
sd 6:0:0:0: [sdb] 31266816 512-byte logical blocks: (16.0 GB/14.9 GiB)
sd 6:0:0:0: [sdb] Write Protect is off
sd 6:0:0:0: [sdb] Write cache: disabled, read cache: enabled, doesn't support DPO or FUA
sd 6:0:0:0: [sdb] Attached SCSI disk

&lt;...snip...&gt;

ONIE:  Executing installer: file://dev/sdb1/onie-installer-x86_64
Verifying image checksum ... OK.
Preparing image archive ... OK.
Dumping image info...
Control File Contents
=====================
Description: Cumulus  Linux
OS-Release:  2.5.7-3b46bef-201509041633-build
Architecture: amd64
Date:  Fri, 04 Sep 2015 17:10:30 -0700
Installer-Version:  1.2
Platforms: accton_as5712_54x accton_as6712_32x  mlx_sx1400_i73612 dell_s6000_s1220 dell_s4000_c2338 dell_s3000_c2338  cel_redstone_xp cel_smallstone_xp cel_pebble quanta_panther  quanta_ly8_rangeley quanta_ly6_rangeley quanta_ly9_rangeley  
Homepage: http://www.cumulusnetworks.com/
</code></pre></li>

<li><p>After installation completes, the switch automatically reboots into
the newly installed instance of Cumulus RMP.</p></li>
</ol>

<p><span id="src-5116319_ManagingCumulusRMPDiskImages-slots"></span></p>

<h2 id="span-understanding-image-slots-span"><span>Understanding Image Slots</span></h2>

<p>Cumulus RMP uses the concept of <em>image slots</em> to manage two separate
Cumulus RMP images. The slots are described as follows:</p>

<ul>
<li><p><strong>Active image slot</strong>: The currently running image slot.</p></li>

<li><p>****<strong>Primary image slot</strong>: The image slot that is selected for the
next boot. Often this is the same as the active image slot.</p></li>

<li><p><strong>Alternate image slot</strong>: The inactive image slot, <strong>not</strong> selected
for the next boot.</p></li>
</ul>








<img class = "confluence-embedded-image" src = "/images/download/attachments/5116319/Screen-Shot-2015-09-14-at-2.31.16-PM.png" alt = "/images/download/attachments/5116319/Screen-Shot-2015-09-14-at-2.31.16-PM.png"


width = 500

 />


<p>To identify which slot is active, which slot is the primary, and which
slot is alternate use the <code>cl-img-select</code> command:</p>

<pre><code>cumulus@switch$ sudo cl-img-select
active =&gt; slot 1 (primary): 2.5.7-c4e83ad-201506011818-build
          slot 2 (alt    ): 2.5.4-727a0c6-201504132125-build
</code></pre>

<p>The above switch is currently running 2.5.7 as indicated by the
<strong>active</strong>. When the switch is rebooted, it will boot into slot 1, as
indicated by <strong>primary</strong>. The <strong>alternate</strong> slot is running Cumulus RMP
2.5.4 and won&rsquo;t be booted into unless the user selects it.</p>

<p>Each slot is a logical volume in the physical partition, which you can
manage with <a href="https://wiki.debian.org/LVM" target="_blank">LVM</a>. When Cumulus RMP is
installed on an x86 switch, the following entities are created on the
disk:</p>

<ul>
<li><p>A disk partition using an ext4 file system that contains three
logical volumes: two logical volumes named <em>sysroot1</em> and
<em>sysroot2</em>, and the <code>/mnt/persist</code> logical volume. The logical
volumes represent the Cumulus RMP image slots, so sysroot1 is slot 1
and sysroot2 is slot 2. <code>/mnt/persist</code> is where you store your
<a href="#src-5116319_ManagingCumulusRMPDiskImages-persistent_config">persistent
configuration</a>.</p></li>

<li><p>A boot partition, shared by the logical volumes. Each volume mounts
this partition as <code>/boot</code>.</p></li>
</ul>

<h3 id="span-managing-slot-sizes-span"><span>Managing Slot Sizes</span></h3>

<p>As space in a slot is used, you may need to increase the size of the
root filesystem by increasing the size of the corresponding logical
volume. This section shows you how to check current utilization and
expand the filesystem as needed.</p>

<ol>
<li><p>Check utilization on the root filesystem with the <code>df</code> command. In
the following example, filesystem utilization is 16%:</p>

<pre><code>cumulus@switch$ df -h /
Filesystem                                              Size  Used Avail Use% Mounted on
/dev/disk/by-uuid/64650289-cebf-4849-91ae-a34693fce2f1  4.0G  579M  3.2G  16% /
</code></pre>

<pre><code>     
</code></pre></li>

<li><p>To increase available space in the root filesystem, first use the
<code>vgs</code> command to check the available space in the volume group. In
this example, there is 6.34 Gigabytes of free space available in the
volume group CUMULUS:</p>

<pre><code>cumulus@switch$ sudo vgs
 VG      #PV #LV #SN Attr   VSize  VFree
 CUMULUS   1   3   0 wz--n- 14.36g 6.34g
</code></pre></li>

<li><p>Once you confirm the available space, determine the number of the
currently active slot using <code>cl-img-select</code>.</p>

<pre><code>cumulus@switch$ sudo cl-img-select | grep active
active =&gt; slot 1 (primary): 2.5.7-199c587-201501081931-build
</code></pre>

<p><code>cl-img-select</code> indicates slot number 1 is active.</p></li>

<li><p>Resize the slot with the <code>lvresize</code> command. The following example
increases slot size by 20 percent of total available space. Replace
the &ldquo;#&rdquo; character in the example with the active slot number from
the last step.</p>

<pre><code>cumulus@switch$ sudo lvresize -l +20%FREE CUMULUS/SYSROOT#
Extending logical volume SYSROOT# to 5.27 GiB
Logical volume SYSROOT# successfully resized
</code></pre>


<div class="notices note" > <pre><code>The use of `+` is very important with the `lvresize` command.
Issuing `lvresize` without the `+` results in the logical volume
size being set directly to the specified size, rather than extended.
</code></pre>
 </div>
</li>

<li><p>Once the slot has been extended, use the <code>resize2fs</code> command to
expand the filesystem to fit the new space in the slot. Again,
replace the &ldquo;#&rdquo; character in the example with the active slot
number.</p>

<pre><code>cumulus@switch$ sudo resize2fs /dev/CUMULUS/SYSROOT#
resize2fs 1.42.5 (29-Jul-2012)
Filesystem at /dev/CUMULUS/SYSROOT# is mounted on /; on-line resizing required
old_desc_blocks = 1, new_desc_blocks = 1
Performing an on-line resize of /dev/CUMULUS/SYSROOT# to 1381376 (4k) blocks.
The filesystem on /dev/CUMULUS/SYSROOT# is now 1381376 blocks long. 
</code></pre></li>
</ol>

<p><span id="src-5116319_ManagingCumulusRMPDiskImages-alt_slot"></span></p>

<h2 id="span-accessing-the-alternate-image-slot-span"><span>Accessing the Alternate Image Slot</span></h2>

<p>It may be useful to ****access the content of the alternate slot to
retrieve configuration or logs.</p>


<div class="notices note" > <p><code>cl-img-install</code> fails while the alternate slot is mounted. It is
important to unmount the alternate slot as shown in step 4 below when
done.</p>
 </div>


<ol>
<li><p>Determine which slot is the alternate with <code>cl-img-select</code>.</p>

<pre><code>cumulus@switch$ sudo cl-img-select | grep alt
        slot 2 (alt    ): 2.5.0-199c587-201501081931-build
</code></pre>

<p>This output indicates slot 2 is the alternate slot.</p></li>

<li><p>Create a mount point for the alternate slot:</p>

<pre><code>cumulus@switch$ sudo mkdir /mnt/alt
</code></pre></li>

<li><p>Mount the alternate slot to the mount point:</p>

<pre><code>cumulus@switch$ sudo mount /dev/mapper/CUMULUS-SYSROOT# /mnt/alt
</code></pre>

<p>Where <strong>#</strong> is the number of the alternate slot.</p>

<p>The alternate slot is now accessible under <code>/mnt/alt</code>.</p></li>

<li><p>Unmount the mount point <code>/mnt/alt</code> when done.</p>

<pre><code>cumulus@switch$ cd /
cumulus@switch$ sudo umount /mnt/alt/
</code></pre></li>
</ol>

<h2 id="span-reprovisioning-the-system-restart-installer-span"><span>Reprovisioning the System (Restart Installer)</span></h2>

<p>You can reprovision the system, wiping out the contents of both image
slots and <code>/mnt/persist</code>.</p>

<p>To initiate the provisioning and installation process, use
<code>cl-img-select -i</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-select -i
WARNING:
WARNING: Operating System install requested.
WARNING: This will wipe out all system data.
WARNING:
Are you sure (y/N)? y
Enabling install at next reboot...done.
Reboot required to take effect.
</code></pre>


<div class="notices note" > <p>A reboot is required for the reinstall to begin.</p>
 </div>



<div class="notices tip" > <p>If you change your mind, you can cancel a pending reinstall operation by
using <code>cl-img-select -c</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-select -c
Cancelling pending install at next reboot...done.
</code></pre>
 </div>


<h2 id="span-uninstalling-all-images-and-removing-the-configuration-span"><span>Uninstalling All Images and Removing the Configuration</span></h2>

<p>To remove all installed images and configurations, returning the switch
to its factory defaults, use <code>cl-img-select -k</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-select -k
WARNING:
WARNING: Operating System uninstall requested.
WARNING: This will wipe out all system data.
WARNING:
Are you sure (y/N)? y
Enabling uninstall at next reboot...done.
Reboot required to take effect.
</code></pre>


<div class="notices note" > <p>A reboot is required for the uninstall to begin.</p>
 </div>



<div class="notices tip" > <p>If you change your mind you can cancel a pending uninstall operation by
using <code>cl-img-select -c</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-select -c
Cancelling pending uninstall at next reboot...done.
</code></pre>
 </div>


<h2 id="span-booting-into-rescue-mode-span"><span>Booting into Rescue Mode</span></h2>

<p>If your system becomes broken is some way, you may be able to correct
things by booting into ONIE rescue mode. In rescue mode, the file
systems are unmounted and you can use various Cumulus RMP utilities to
try and fix the problem.</p>

<p>To reboot the system into the ONIE rescue mode, use <code>cl-img-select -r</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-select -r
WARNING:
WARNING: Rescue boot requested.
WARNING:
Are you sure (y/N)? y
Enabling rescue at next reboot...done.
Reboot required to take effect.
</code></pre>


<div class="notices note" > <p>A reboot is required to boot into rescue mode.</p>
 </div>



<div class="notices tip" > <p>If you change your mind you can cancel a pending rescue boot operation
by using <code>cl-img-select -c</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-select -c
Cancelling pending rescue at next reboot...done.          
</code></pre>
 </div>


<h2 id="span-inspecting-image-file-contents-span"><span>Inspecting Image File Contents</span></h2>

<p>From a running system you can display the contents of a Cumulus RMP
image file using <code>cl-img-pkg -d</code>:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-pkg -d /var/lib/cumulus/installer/onie-installer
Verifying image checksum ... OK.
Preparing image archive ... OK.
Control File Contents
=====================
Description: Cumulus RMP
OS-Release: 2.1.0-0556262-201406101128-NB
Architecture: amd64
Date: Tue, 10 Jun 2014 11:44:28 -0700
Installer-Version: 1.2
Platforms: im_n29xx_t40n mlx_sx1400_i73612 dell_s6000_s1220
Homepage: http://www.cumulusnetworks.com/

Data Archive Contents
=====================
       128 2014-06-10 18:44:26 file.list
        44 2014-06-10 18:44:27 file.list.sha1
 104276331 2014-06-10 18:44:27 sysroot-internal.tar.gz
        44 2014-06-10 18:44:27 sysroot-internal.tar.gz.sha1
   5391348 2014-06-10 18:44:26 vmlinuz-initrd.tar.xz
        44 2014-06-10 18:44:27 vmlinuz-initrd.tar.xz.sha1
cumulus@switch:~$
</code></pre>

<p>You can also extract the image files to the current directory with the
<code>-e</code> option:</p>

<pre><code>cumulus@switch:~$ sudo cl-img-pkg -e /var/lib/cumulus/installer/onie-installer
Verifying image checksum ... OK.
Preparing image archive ... OK.
file.list
file.list.sha1
sysroot-internal.tar.gz
sysroot-internal.tar.gz.sha1
vmlinuz-initrd.tar.xz
vmlinuz-initrd.tar.xz.sha1
Success: Image files extracted OK.

cumulus@switch:~$ sudo ls -l
total 107120
-rw-r--r-- 1 1063 3000       128 Jun 10 18:44 file.list
-rw-r--r-- 1 1063 3000        44 Jun 10 18:44 file.list.sha1
-rw-r--r-- 1 1063 3000 104276331 Jun 10 18:44 sysroot-internal.tar.gz
-rw-r--r-- 1 1063 3000        44 Jun 10 18:44 sysroot-internal.tar.gz.sha1
-rw-r--r-- 1 1063 3000   5391348 Jun 10 18:44 vmlinuz-initrd.tar.xz
-rw-r--r-- 1 1063 3000        44 Jun 10 18:44 vmlinuz-initrd.tar.xz.sha1 
</code></pre>

<h2 id="span-useful-links-span"><span>Useful Links</span></h2>

<ul>
<li><a href="http://opencomputeproject.github.io/onie/" target="_blank">Open Network Install Environment (ONIE) Home
Page</a></li>
</ul>

<article id="html-search-results" class="ht-content" style="display: none;">

</article>

<footer id="ht-footer">

</footer>

<p></details></p>
</article>

      <script src="https://utteranc.es/client.js"
        repo="CumulusNetworks/docs-internal"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>

    </div>
    

      


  

    <aside class="book-toc fixed">

  
    <div class="toc">
    
      <button>
      <a href="https://github.com/CumulusNetworks/docs/edit/master/content/version/cumulus-rmp-25esr/System-Management/Installation,-Upgrading-and-Package-Management/Managing-Cumulus-RMP-Disk-Images.md" target="_blank" rel="noopener"><img src="/docs.cumulusnetworks.com/svg/pencil-circle.svg" alt="Edit" /> Edit this page</a>
      </button>
    
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#span-commands-span"><span>Commands</span></a></li>
<li><a href="#span-id-src-5116319-managingcumulusrmpdiskimages-upgrade-class-confluence-anchor-link-span-span-upgrading-cumulus-rmp-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-upgrade" class="confluence-anchor-link"></span><span>Upgrading Cumulus RMP</span></a></li>
<li><a href="#span-id-src-5116319-managingcumulusrmpdiskimages-new-image-class-confluence-anchor-link-span-span-installing-a-new-cumulus-rmp-image-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-new_image" class="confluence-anchor-link"></span><span>Installing a New Cumulus RMP Image</span></a>
<ul>
<li><a href="#span-id-src-5116319-managingcumulusrmpdiskimages-alreadyinstalled-class-confluence-anchor-link-span-span-installing-a-new-image-when-cumulus-rmp-is-already-installed-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-alreadyinstalled" class="confluence-anchor-link"></span><span>Installing a New Image when Cumulus RMP Is already Installed</span></a></li>
<li><a href="#span-step-1-installing-the-new-image-span"><span>Step 1: Installing the New Image</span></a></li>
<li><a href="#span-id-src-5116319-managingcumulusrmpdiskimages-persistent-config-class-confluence-anchor-link-span-span-step-2-backing-up-your-configuration-files-into-mnt-persist-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-persistent_config" class="confluence-anchor-link"></span><span>Step 2: Backing up Your Configuration Files into /mnt/persist </span></a>
<ul>
<li><a href="#span-recommended-files-to-make-persistent-span"><span>Recommended Files to Make Persistent</span></a></li>
<li><a href="#span-simple-bash-script-example-span"><span>Simple Bash Script Example</span></a></li>
</ul></li>
<li><a href="#span-step-3-selecting-the-alternate-slot-for-next-boot-span"><span>Step 3: Selecting the Alternate Slot for Next Boot</span></a></li>
<li><a href="#span-step-4-rebooting-the-switch-span"><span>Step 4: Rebooting the Switch</span></a></li>
<li><a href="#span-step-5-copying-the-files-from-mnt-persist-to-the-new-slot-span"><span>Step 5: Copying the Files from /mnt/persist to the New Slot </span></a></li>
<li><a href="#span-step-6-clearing-mnt-persist-span"><span>Step 6: Clearing /mnt/persist </span></a></li>
<li><a href="#span-id-src-5116319-managingcumulusrmpdiskimages-usb-class-confluence-anchor-link-span-span-full-installation-of-cumulus-rmp-using-onie-over-usb-span"><span id="src-5116319_ManagingCumulusRMPDiskImages-usb" class="confluence-anchor-link"></span><span>Full Installation of Cumulus RMP Using ONIE over USB</span></a>
<ul>
<li><a href="#span-preparing-for-usb-installation-span"><span>Preparing for USB Installation</span></a></li>
</ul></li>
</ul></li>
<li><a href="#span-understanding-image-slots-span"><span>Understanding Image Slots</span></a>
<ul>
<li><a href="#span-managing-slot-sizes-span"><span>Managing Slot Sizes</span></a></li>
</ul></li>
<li><a href="#span-accessing-the-alternate-image-slot-span"><span>Accessing the Alternate Image Slot</span></a></li>
<li><a href="#span-reprovisioning-the-system-restart-installer-span"><span>Reprovisioning the System (Restart Installer)</span></a></li>
<li><a href="#span-uninstalling-all-images-and-removing-the-configuration-span"><span>Uninstalling All Images and Removing the Configuration</span></a></li>
<li><a href="#span-booting-into-rescue-mode-span"><span>Booting into Rescue Mode</span></a></li>
<li><a href="#span-inspecting-image-file-contents-span"><span>Inspecting Image File Contents</span></a></li>
<li><a href="#span-useful-links-span"><span>Useful Links</span></a></li>
</ul></li>
</ul>
</nav>
    </div>
  

</aside>






  </main>
  <footer class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="footer-content">
            <div class="mb-4">
                <img src="https://static.cumulusnetworks.com/static/images/shared/cumulus-networks-rt-white-trademarked.ff839f1b2570.svg">
                <p> <script type="text/javascript">document.write(new Date().getFullYear());</script> Cumulus Networks.<br>
                Site by <a href="//unomena.com/" target="_blank">Unomena</a>.</p>
            </div>
            <ul class="mb-4">
              <li><h4>Products</h4></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-linux/">Cumulus Linux</a></li>
              <li><a href="//cumulusnetworks.com/products/netq/">Cumulus NetQ</a></li>
              <li><a href="//cumulusnetworks.com/products/cumulus-express/">Cumulus Express</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>Learn</h4></li>
              <li><a href="//cumulusnetworks.com/learn/web-scale-networking-education/">Going web-scale</a></li>
              <li><a href="//cumulusnetworks.com/learn/events/">Events</a></li>
              <li><a href="//cumulusnetworks.com/blog/">Blog</a></li>
            </ul>
            <ul class="mb-4">
              <li><h4>About</h4></li>
              <li><a href="//cumulusnetworks.com/about/">Our story</a></li>
              <li><a href="//cumulusnetworks.com/about/careers/">Careers</a></li>
              <li><a href="//cumulusnetworks.com/about/media-coverage/">Media coverage</a></li>
              <li><a href="//docs.cumulusnetworks.com/" target="_blank">Tech docs</a></li>
              <li><a href="//cumulusnetworks.com/community/">Community</a></li>
            </ul>
            <ul>
              <li>
                <a href="//twitter.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M23 6.628l-2-.5 1-2-2.464.7A4.48 4.48 0 0 0 12 8.128v1c-3.539.73-6.634-1.2-9.5-4.5q-.75 4 1.5 6l-3-.5c.405 2.069 1.362 3.7 4 4l-2.5 1c1 2 2.566 2.31 5 2.5a10.748 10.748 0 0 1-6.5 2c12.755 5.669 20-2.664 20-10V8.3z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.facebook.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M17.768 7.5H13.5V5.6a.972.972 0 0 1 1.012-1.1c.418 0 2.988.01 2.988.01V.5h-4.329C9.244.5 8.5 3.474 8.5 5.355V7.5h-3v4h3v12h5v-12h3.851z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//linkedin.com/company/cumulus-networks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                      .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M6.5 22.5h-5v-13h5zm9-9a2 2 0 0 0-2 2v7h-5v-13h5v1.485a6.307 6.307 0 0 1 3.99-1.495c2.962 0 5.01 2.2 5.01 6.355V22.5h-5v-7a2 2 0 0 0-2-2zM6.5 5A2.5 2.5 0 1 1 4 2.5 2.5 2.5 0 0 1 6.5 5z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//vimeo.com/CumulusNetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                      <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                      </style>
                    </defs>
                    <path class="a" d="M.5 7.393l.933 1.224S3.36 7.1 4 7.859s3.1 9.925 3.915 11.617c.714 1.483 2.684 3.444 4.845 2.042s9.34-7.529 10.626-14.769-8.642-5.723-9.693.583c2.627-1.577 4.03.642 2.686 3.154s-2.569 4.145-3.211 4.145-1.135-1.679-1.868-4.613c-.76-3.035-.755-8.5-3.911-7.882C4.412 2.721.5 7.393.5 7.393z"></path>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//www.github.com/cumulusnetworks/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <path class="a" d="M19.459 17c0-5.969-4.126-3.532-7.5-3.532s-7.5-2.375-7.5 3.532a3.5 3.5 0 0 0 3.5 3.5h8a3.5 3.5 0 0 0 3.5-3.5z"></path>
                    <path class="a" d="M21.489 10.214l.032.023s2.646-4.572-.6-7.237c-2 0-5.058 3.3-5.058 3.3l.022.016A14.152 14.152 0 0 0 8.1 6.3C8.083 6.285 5.037 3 3.042 3c-3.173 2.6-.729 7.012-.614 7.217a8.876 8.876 0 0 0-1.395 5.743c.241 3.126 2.847 6.54 5.982 6.54H16.9c3.135 0 5.742-3.414 5.982-6.54a8.857 8.857 0 0 0-1.393-5.746z"></path>
                    <ellipse class="a" cx="15.48" cy="17" rx="1" ry="1.5"></ellipse>
                    <ellipse class="a" cx="8.48" cy="17" rx="1" ry="1.5"></ellipse>
                  </svg>
                </a>
              </li>
              <li>
                <a href="//slack.cumulusnetworks.com/" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <defs>
                        <style>
                        .a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}
                        </style>
                    </defs>
                    <rect class="a" x=".5" y=".5" width="23" height="23" rx="6" ry="6"></rect>
                    <circle class="a" cx="12" cy="12" r="6"></circle>
                    <circle class="a" cx="19" cy="5" r="1.5"></circle>
                  </svg>
                </a>
              </li>
              <li>
                <p>Cumulus Networks<sup></sup>  Data center networking software for the open, modern data center.</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div class="footer-bottom">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <ul>
                      <li><a href="//cumulusnetworks.com/legal/trademarks/">Trademarks</a></li>
                      <li><a href="//cumulusnetworks.com/legal/privacy/">Privacy</a></li>
                      <li><a href="//cumulusnetworks.com/legal/">Terms of service</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>

  
  

</body>

</html>
