<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Installing a New Cumulus Linux Image - Cumulus Linux 3.2.1</title>

    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>


<link rel="stylesheet" href="assets/css/content-style.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

    </head>

<body pageid="5126727">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">CL321</span>
                    <img class="space-logo" src="spacelogo.png" />
                </h1>
                <a href="Cumulus_Linux_User_Guide.html" class="ht-space-link">
                    <h2>Cumulus Linux 3.2.1</h2>
                </a>
            </header>

            <nav class="ht-pages-nav">
                <ul class="ht-pages-nav-top">
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Quick_Start_Guide.html">Quick Start Guide</a>

            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Installation_Management.html">Installation Management</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Managing_Cumulus_Linux_Disk_Images.html">Managing Cumulus Linux Disk Images</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link current" href="Installing_a_New_Cumulus_Linux_Image.html">Installing a New Cumulus Linux Image</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Upgrading_Cumulus_Linux.html">Upgrading Cumulus Linux</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_Snapshots.html">Using Snapshots</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Adding_and_Updating_Packages.html">Adding and Updating Packages</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Zero_Touch_Provisioning_-_ZTP.html">Zero Touch Provisioning - ZTP</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="System_Configuration.html">System Configuration</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Network_Command_Line_Utility.html">Network Command Line Utility</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_Date_and_Time.html">Setting Date and Time</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Authentication,_Authorization,_and_Accounting.html">Authentication, Authorization, and Accounting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SSH_for_Remote_Access.html">SSH for Remote Access</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="User_Accounts.html">User Accounts</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_sudo_to_Delegate_Privileges.html">Using sudo to Delegate Privileges</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LDAP_Authentication_and_Authorization.html">LDAP Authentication and Authorization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="TACACS_Plus.html">TACACS Plus</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Netfilter_-_ACLs.html">Netfilter - ACLs</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Default_Cumulus_Linux_ACL_Configuration.html">Default Cumulus Linux ACL Configuration</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Managing_Application_Daemons.html">Managing Application Daemons</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_switchd.html">Configuring switchd</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Power_over_Ethernet_-_PoE.html">Power over Ethernet - PoE</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_a_Global_Proxy.html">Configuring a Global Proxy</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Interface_Configuration_and_Management.html">Interface Configuration and Management</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Layer_1_and_Switch_Port_Attributes.html">Layer 1 and Switch Port Attributes</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Buffer_and_Queue_Management.html">Buffer and Queue Management</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_Hardware-enabled_DDOS_Protection.html">Configuring Hardware-enabled DDOS Protection</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_DHCP_Relays.html">Configuring DHCP Relays</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_DHCP_Servers.html">Configuring DHCP Servers</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Layer_One_and_Two.html">Layer One and Two</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Spanning_Tree_and_Rapid_Spanning_Tree.html">Spanning Tree and Rapid Spanning Tree</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Link_Layer_Discovery_Protocol.html">Link Layer Discovery Protocol</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Prescriptive_Topology_Manager_-_PTM.html">Prescriptive Topology Manager - PTM</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Bonding_-_Link_Aggregation.html">Bonding - Link Aggregation</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Ethernet_Bridging_-_VLANs.html">Ethernet Bridging - VLANs</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VLAN-aware_Bridge_Mode_for_Large-scale_Layer_2_Environments.html">VLAN-aware Bridge Mode for Large-scale Layer 2 Environments</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Traditional_Mode_Bridges.html">Traditional Mode Bridges</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VLAN_Tagging.html">VLAN Tagging</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Multi-Chassis_Link_Aggregation_-_MLAG.html">Multi-Chassis Link Aggregation - MLAG</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LACP_Bypass.html">LACP Bypass</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Virtual_Router_Redundancy_-_VRR.html">Virtual Router Redundancy - VRR</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ifplugd.html">ifplugd</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="IGMP_and_MLD_Snooping.html">IGMP and MLD Snooping</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Network_Virtualization.html">Network Virtualization</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Integrating_with_VMware_NSX.html">Integrating with VMware NSX</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Integrating_Hardware_VTEPs_with_Midokura_MidoNet_and_OpenStack.html">Integrating Hardware VTEPs with Midokura MidoNet and OpenStack</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Lightweight_Network_Virtualization_-_LNV_Overview.html">Lightweight Network Virtualization - LNV Overview</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LNV_VXLAN_Active-Active_Mode.html">LNV VXLAN Active-Active Mode</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LNV_Full_Example.html">LNV Full Example</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Static_MAC_Bindings_with_VXLAN.html">Static MAC Bindings with VXLAN</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Ethernet_Virtual_Private_Network_-_EVPN.html">Ethernet Virtual Private Network - EVPN</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VXLAN_Hyperloop.html">VXLAN Hyperloop</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Static_VXLAN_Tunnels.html">Static VXLAN Tunnels</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Layer_Three.html">Layer Three</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Routing.html">Routing</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Introduction_to_Routing_Protocols.html">Introduction to Routing Protocols</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Network_Topology.html">Network Topology</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Quagga_Overview.html">Quagga Overview</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Configuring_Quagga.html">Configuring Quagga</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Comparing_NCLU_and_vtysh_Commands.html">Comparing NCLU and vtysh Commands</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Open_Shortest_Path_First_-_OSPF_-_Protocol.html">Open Shortest Path First - OSPF - Protocol</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Open_Shortest_Path_First_v3_-_OSPFv3_-_Protocol.html">Open Shortest Path First v3 - OSPFv3 - Protocol</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Border_Gateway_Protocol_-_BGP.html">Border Gateway Protocol - BGP</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Bidirectional_Forwarding_Detection_-_BFD.html">Bidirectional Forwarding Detection - BFD</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Equal_Cost_Multipath_Load_Sharing_-_Hardware_ECMP.html">Equal Cost Multipath Load Sharing - Hardware ECMP</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Redistribute_Neighbor.html">Redistribute Neighbor</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Virtual_Routing_and_Forwarding_-_VRF.html">Virtual Routing and Forwarding - VRF</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Management_VRF.html">Management VRF</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Protocol_Independent_Multicast_-_PIM.html">Protocol Independent Multicast - PIM</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Monitoring_and_Troubleshooting.html">Monitoring and Troubleshooting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Single_User_Mode_-_Boot_Recovery.html">Single User Mode - Boot Recovery</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Resource_Diagnostics_Using_cl-resource-query.html">Resource Diagnostics Using cl-resource-query</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Monitoring_System_Hardware.html">Monitoring System Hardware</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Network_Switch_Port_LED_and_Status_LED_Guidelines.html">Network Switch Port LED and Status LED Guidelines</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_Virtual_Device_Counters.html">Monitoring Virtual Device Counters</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Understanding_the_cl-support_Output_File.html">Understanding the cl-support Output File</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Troubleshooting_Log_Files.html">Troubleshooting Log Files</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Troubleshooting_the_etc_Directory.html">Troubleshooting the etc Directory</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Troubleshooting_Network_Interfaces.html">Troubleshooting Network Interfaces</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_Interfaces_and_Transceivers_Using_ethtool.html">Monitoring Interfaces and Transceivers Using ethtool</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Network_Troubleshooting.html">Network Troubleshooting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_NCLU_to_Troubleshoot_Your_Network_Configuration.html">Using NCLU to Troubleshoot Your Network Configuration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_System_Statistics_and_Network_Traffic_with_sFlow.html">Monitoring System Statistics and Network Traffic with sFlow</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_netq_to_Troubleshoot_the_Network.html">Using netq to Troubleshoot the Network</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SNMP_Monitoring.html">SNMP Monitoring</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_Nutanix_Prism_as_a_Monitoring_Tool.html">Using Nutanix Prism as a Monitoring Tool</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_Best_Practices.html">Monitoring Best Practices</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Network_Solutions.html">Network Solutions</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Data_Center_Host_to_ToR_Architecture.html">Data Center Host to ToR Architecture</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Cumulus_Networks_Services_Demos.html">Cumulus Networks Services Demos</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Docker_on_Cumulus_Linux.html">Docker on Cumulus Linux</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OpenStack_Neutron_ML2_and_Cumulus_Linux.html">OpenStack Neutron ML2 and Cumulus Linux</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Anycast_Design_Guide.html">Anycast Design Guide</a>

            </li>
                            </ul>
            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Cumulus_Linux_Index.html">Cumulus Linux Index</a>

            </li>
                                    </ul>
            </nav>
        </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Cumulus_Linux_User_Guide.html">Cumulus Linux 3.2.1</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Installation_Management.html">Installation Management</a></li>
                                                                                     <li><a href="Managing_Cumulus_Linux_Disk_Images.html">Managing Cumulus Linux Disk Images</a></li>
                                                            </ul>
</div>            <h1 id="src-5126823"> <span>Installing a New Cumulus Linux Image</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <p  ><span id="src-5126823_indexterm-1F13085FFAFA1431D00A7F1A891FA235">Before you install Cumulus Linux, the </span>switch can be in two different states:    </p>
<ul class=" "><li class=" ">    <p  >The switch has no image on it (so the switch is only running <a  class="external-link" href="http://www.onie.org/">ONIE</a>) or you desire or require a clean installation. In this case, you can install Cumulus Linux in one of the following ways, using:    </p>
<ul class=" "><li class=" ">    <p  ><a   href="#src-5126823_InstallingaNewCumulusLinuxImage-dhcp_options">DHCP/a web server with DHCP options</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-5126823_InstallingaNewCumulusLinuxImage-dhcp_noopts">DHCP/a web server without DHCP options</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-5126823_InstallingaNewCumulusLinuxImage-web_nodhcp">A web server with no DHCP</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-5126823_InstallingaNewCumulusLinuxImage-ftp">FTP or TFTP without a web server</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-5126823_InstallingaNewCumulusLinuxImage-local">Local file installation</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-5126823_InstallingaNewCumulusLinuxImage-usb">USB</a>    </p>
</li></ul></li><li class=" ">    <p  >The switch already has Cumulus Linux installed on it, so you only need to <a   href="Upgrading_Cumulus_Linux.html">upgrade it</a>    </p>
</li></ul>    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  ><a  class="external-link" href="http://www.onie.org/">ONIE</a> is an open source project, equivalent to PXE on servers, that enables the installation of network operating systems (NOS) on bare metal switches.    </p>
        </div>
    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-UnderstandingtheseExamples">
        <h1 class="heading "><span>Understanding these Examples</span></h1>
    <p  >The sections in this chapter are ordered from the most repeatable to the least repeatable methods. For instance, DHCP can scale to hundreds of switch installs with zero manual input, compared to something like USB installs. Installing via USB is fine for a single switch here and there but is not scalable.    </p>
<ul class=" "><li class=" ">    <p  >You can name your Cumulus Linux installer binary using any of the <a  class="external-link" href="http://opencomputeproject.github.io/onie/docs/design-spec/discovery.html#default-file-name-search-order">ONIE naming schemes mentioned here</a>.    </p>
</li><li class=" ">    <p  >In the examples below, [PLATFORM] can be any supported Cumulus Linux platform, such as <i class=" ">x86_64</i>, or <i class=" ">arm</i>.    </p>
</li></ul>    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-Contents">
        <h1 class="heading "><span>Contents</span></h1>
    <p  class="expand-control-text">This chapter covers ...    </p>
    </div>
    <div class="section section-1" id="src-5126823_safe-id-SW5zdGFsbGluZ2FOZXdDdW11bHVzTGludXhJbWFnZS1kaGNwX29wdGlvbnNJbnN0YWxsaW5ndmlhYURIQ1AvV2ViU2VydmVyTWV0aG9kd2l0aERIQ1BPcHRpb25z">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-dhcp_options" class="confluence-anchor-link"></span><span>Installing via a DHCP/Web Server Method with DHCP Options</span></h1>
    <p  >Installing Cumulus Linux in this manner is as simple as setting up a DHCP/web server on your laptop and connecting the eth0 management port of the switch to your laptop.    </p>
    <p  >Once you connect the cable, the installation proceeds as follows:    </p>
<ol class=" "><li class=" ">    <p  >The bare metal switch boots up and asks for an address (DHCP request).    </p>
</li><li class=" ">    <p  >The DHCP server acknowledges and responds with DHCP option 114 and the location of the installation image.    </p>
</li><li class=" ">    <p  >ONIE downloads the Cumulus Linux binary, installs and reboots.    </p>
</li><li class=" ">    <p  >Success! You are now running Cumulus Linux.    </p>
    <img  class="confluence-embedded-image" src="images/download/attachments/5126823/onie_install_dhcp.png" alt="images/download/attachments/5126823/onie_install_dhcp.png"   />
    </li></ol>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >The most common method is for you to send DHCP option 114 with the entire URL to the web server (this could be the same system). However, there are many other ways to use DHCP even if you don't have full control over DHCP. <a  class="external-link" href="https://github.com/opencomputeproject/onie/wiki/Design-Spec-SW-Image-Discovery#partial-installer-urls">See the ONIE user guide</a> for help.    </p>
        </div>
    </div>
    <p  >Here's an example DHCP configuration with an <a  class="external-link" href="http://www.isc.org/downloads/dhcp/">ISC DHCP server</a>:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">subnet 172.0.24.0 netmask 255.255.255.0 {</code></div>
<div class="line"><code class="plain">  range 172.0.24.20 172.0.24.200;</code></div>
<div class="line"><code class="plain">  option default-url = "http://172.0.24.14/onie-installer-[PLATFORM]";</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p  >Here's an example DHCP configuration with <a  class="external-link" href="http://www.thekelleys.org.uk/dnsmasq/doc.html">dnsmasq</a> (static address assignment):    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">dhcp-host=sw4,192.168.100.14,6c:64:1a:00:03:ba,set:sw4</code></div>
<div class="line"><code class="plain">dhcp-option=tag:sw4,114,"http://roz.rtplab.test/onie-installer-[PLATFORM]"</code></div>
</div>
    </div>
    <p  >If you don't have a web server, you can use <a  class="external-link" href="https://www.apachefriends.org/index.html">this free Apache example</a>.    </p>
    </div>
    <div class="section section-1" id="src-5126823_safe-id-SW5zdGFsbGluZ2FOZXdDdW11bHVzTGludXhJbWFnZS1kaGNwX25vb3B0c0luc3RhbGxpbmd2aWFhREhDUC9XZWJTZXJ2ZXJNZXRob2R3aXRob3V0REhDUE9wdGlvbnM">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-dhcp_noopts" class="confluence-anchor-link"></span><span> Installing via a DHCP/Web Server Method without DHCP Options</span></h1>
    <p  >If you have a laptop on same network and the switch can pull DHCP from the corporate network, but you cannot modify DHCP options (maybe it's controlled by another team), do the following:    </p>
<ol class=" "><li class=" ">    <p  >Place the Cumulus Linux binary in a directory on the web server.    </p>
</li><li class=" ">    <p  >Run the <tt class=" ">onie-nos-install</tt> command manually, since DHCP options can't be modified:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ONIE:/ #onie-nos-install http://10.0.1.251/path/to/cumulus-install-[PLATFORM].bin</code></div>
</div>
    </div>
</li></ol>    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-web_nodhcpInstallingviaaWebServerwithnoDHCP">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-web_nodhcp" class="confluence-anchor-link"></span><span>Installing via a Web Server with no DHCP</span></h1>
    <p  >Use the following method if your laptop is on the same network as the switch eth0 interface but no DHCP server is available.    </p>
    <p  >One thing to note is ONIE is in <a  class="external-link" href="http://opencomputeproject.github.io/onie/docs/design-spec/discovery.html#installer-discovery-methods"><i class=" ">discovery mode</i> </a>, so if you are setting a static IPv4 address for the eth0 management port, you need to disable discovery mode or else ONIE may get confused.    </p>
<ol class=" "><li class=" ">    <p  >To disable discovery mode, run:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">onie# onie-discovery-stop</code></div>
</div>
    </div>
    <p  >or, on older ONIE versions if that command isn't supported:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">onie# /etc/init.d/discover.sh stop</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Assign a static address to eth0 via ONIE (using <tt class=" ">ip addr add</tt>):    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ONIE:/ #ip addr add 10.0.1.252/24 dev eth0</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Place the Cumulus Linux installer image in a directory on your web server.    </p>
</li><li class=" ">    <p  >Run the <tt class=" ">onie-nos-install</tt> command manually since there are no DHCP options:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ONIE:/ #onie-nos-install http://10.0.1.251/path/to/cumulus-install-[PLATFORM].bin</code></div>
</div>
    </div>
</li></ol>    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-ftpInstallingviaFTPorTFTPwithoutaWebServer">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-ftp" class="confluence-anchor-link"></span><span> Installing via FTP or TFTP without a Web Server</span></h1>
<ol class=" "><li class=" ">    <p  >Set up DHCP or static addressing for eth0, as in the examples above.    </p>
</li><li class=" ">    <p  >If you are utilizing static addressing, disable ONIE discovery mode.    </p>
</li><li class=" ">    <p  >Place the Cumulus Linux installer image into a TFTP or FTP directory.    </p>
</li><li class=" ">    <p  >If you are not utilizing DHCP options, run one of the following commands (<tt class=" ">tftp</tt> for TFTP or <tt class=" ">ftp</tt> for FTP):    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ONIE# onie-nos-install ftp://local-ftp-server/cumulus-install-[PLATFORM].bin</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">ONIE# onie-nos-install tftp://local-tftp-server/cumulus-install-[PLATFORM].bin</code></div>
</div>
    </div>
</li></ol>    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-localInstallingviaaLocalFile">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-local" class="confluence-anchor-link"></span><span> Installing via a Local File</span></h1>
<ol class=" "><li class=" ">    <p  >Set up DHCP or static addressing for eth0, as in the examples above.    </p>
</li><li class=" ">    <p  >If you are utilizing static addressing, disable ONIE discovery mode.    </p>
</li><li class=" ">    <p  >Use <a  class="external-link" href="http://en.wikipedia.org/wiki/Secure_copy">scp</a> to copy the Cumulus Linux binary to the switch.<br/><strong class=" ">Note:</strong> Windows users can use <a  class="external-link" href="http://winscp.net/eng/index.php">WinScp</a>.    </p>
</li><li class=" ">    <p  >Run the following command:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ONIE# onie-nos-install /path/to/local/file/cumulus-install-[PLATFORM].bin</code></div>
</div>
    </div>
</li></ol>    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-usbInstallingviaUSB">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-usb" class="confluence-anchor-link"></span><span>Installing via USB</span></h1>
    <p  >Following the steps below produces a clean installation of Cumulus Linux. This wipes out all pre-existing configuration files that may be present on the switch. Instructions are offered for x86 and ARM platforms, and also cover the installation of a license after the software installation.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Make sure to <a   href="Upgrading_Cumulus_Linux.html">back up</a> any important configuration files that you may need to restore the configuration of your switch after the installation finishes.    </p>
        </div>
    </div>
    <div class="section section-2" id="src-5126823_InstallingaNewCumulusLinuxImage-PreparingforUSBInstallation">
        <h2 class="heading "><span>Preparing for USB Installation</span></h2>
<ol class=" "><li class=" ">    <p  >Download the appropriate Cumulus Linux image for your x86 or ARM platform from the <a  class="external-link" href="http://cumulusnetworks.com/downloads/">Cumulus Networks Downloads page</a>.    </p>
</li><li class=" ">    <p  >Prepare your flash drive by formatting in one of the supported formats: FAT32, vFAT or EXT2.    </p>
    <p  class="expand-control-text">Optional: Preparing a USB Drive inside Cumulus Linux    </p>
    <div  class="tablewrap">
        <table class="confluenceTable">
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >It is possible that you could severely damage your system with the following utilities, so please use caution when performing the actions below!    </p>
        </div>
    </div>
<ol class=" "><li class=" ">    <p  >Insert your flash drive into the USB port on the switch running Cumulus Linux and log in to the switch.    </p>
</li><li class=" ">    <p  >Determine and note at which device your flash drive can be found by using output from <tt class=" ">cat /proc/partitions</tt> and <tt class=" ">sudo fdisk -l [device]</tt>. For example, <tt class=" ">sudo fdisk -l /dev/sdb</tt>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >These instructions assume your USB drive is the <tt class=" ">/dev/sdb</tt> device, which is typical if the USB stick was inserted after the machine was already booted. However, if the USB stick was plugged in during the boot process, it is possible the device could be <tt class=" ">/dev/sda</tt>. Make sure to modify the commands below to use the proper device for your USB drive!    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Create a new partition table on the device:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo parted /dev/sdb mklabel msdos</code></div>
</div>
    </div>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >The <tt class=" ">parted</tt> utility should already be installed. However, if it is not, install it with: <tt class=" ">sudo apt-get install parted</tt>    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Create a new partition on the device:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo parted /dev/sdb -a optimal mkpart primary 0% 100%</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Format the partition to your filesystem of choice using ONE of the examples below:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo mkfs.ext2 /dev/sdb1</code></div>
<div class="line"><code class="plain">sudo mkfs.msdos -F 32 /dev/sdb1</code></div>
<div class="line"><code class="plain">sudo mkfs.vfat /dev/sdb1</code></div>
</div>
    </div>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >To use <tt class=" ">mkfs.msdos</tt> or <tt class=" ">mkfs.vfat</tt>, you need to install the <tt class=" ">dosfstools</tt> package from the<a  class="external-link" href="http://docs.cumulusnetworks.com/display/DOCS/Adding+and+Updating+Packages#AddingandUpdatingPackages-AddingPackagesfromAnotherRepository"> Debian software repositories</a> (step 3 here shows you how to add repositories from Debian), as they are not included by default.    </p>
        </div>
    </div>
</li><li class=" ">    <p  >To continue installing Cumulus Linux, mount the USB drive in order to move files to it.    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo mkdir /mnt/usb</code></div>
<div class="line"><code class="plain">sudo mount /dev/sdb1 /mnt/usb</code></div>
</div>
    </div>
</li></ol>            </td>
        </tr>
</tbody>        </table>
            </div>
    <p  >    </p>
    <p  >    </p>
</li><li class=" ">    <p  >Copy the image and license files over to the flash drive and rename the image file to:    </p>
<ul class=" "><li class=" ">    <p  ><tt class=" ">onie-installer-x86_64</tt>, if installing on an x86 platform    </p>
</li><li class=" ">    <p  ><tt class=" ">onie-installer-arm</tt>, if installing on an ARM platform    </p>
    <p  >    </p>
</li></ul>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >You can also use any of the <a  class="external-link" href="http://opencomputeproject.github.io/onie/docs/design-spec/discovery.html#default-file-name-search-order">ONIE naming schemes mentioned here</a>.    </p>
        </div>
    </div>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >When using a Mac or Windows computer to rename the installation file the file extension may still be present. Make sure to remove the file extension otherwise ONIE will not be able to detect the file!    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Insert the USB stick into the switch, then continue with the appropriate instructions below for your x86 or ARM platform.    </p>
</li></ol>    </div>
    <div class="section section-2" id="src-5126823_InstallingaNewCumulusLinuxImage-Instructionsforx86Platforms">
        <h2 class="heading "><span>Instructions for x86 Platforms</span></h2>
    <p  class="expand-control-text">Click to expand x86 instructions...    </p>
<ol class=" "><li class=" ">    <p  >Prepare the switch for installation:    </p>
<ul class=" "><li class=" ">    <p  >If the switch is offline, connect to the console and power on the switch.    </p>
</li><li class=" ">    <p  >If the switch is already online in Cumulus Linux, connect to the console and reboot the switch into the ONIE environment with the <tt class=" ">sudo onie-select -i</tt> command, followed by <tt class=" ">sudo reboot</tt>. Then skip to step 4 below.    </p>
</li><li class=" ">    <p  >If the switch is already online in ONIE, use the <tt class=" ">reboot</tt> command.    </p>
</li></ul>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >SSH sessions to the switch get dropped after this step. To complete the remaining instructions, connect to the console of the switch. Cumulus Linux switches display their boot process to the console, so you need to monitor the console specifically to complete the next step.    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Monitor the console and select the ONIE option from the first GRUB screen shown below.    </p>
    <img  class="confluence-embedded-image" src="images/download/attachments/5126823/png_base64c818ed9707a3041b.png" alt="images/download/attachments/5126823/png_base64c818ed9707a3041b.png" width="500"  />
    </li><li class=" ">    <p  >Cumulus Linux on x86 uses GRUB chainloading to present a second GRUB menu specific to the ONIE partition. No action is necessary in this menu to select the default option <i class=" ">ONIE: Install OS</i>.    </p>
    <img  class="confluence-embedded-image" src="images/download/attachments/5126823/png_base64fcca65644256ad41.png" alt="images/download/attachments/5126823/png_base64fcca65644256ad41.png" width="500"  />
    </li><li class=" ">    <p  >At this point, the USB drive should be automatically recognized and mounted. The image file should be located and automatic installation of Cumulus Linux should begin. Here is some sample output:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ONIE: OS Install Mode  ...</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">Version : quanta_common_rangeley-2014.05.05-6919d98-201410171013</code></div>
<div class="line"><code class="plain">Build  Date: 2014-10-17T10:13+0800</code></div>
<div class="line"><code class="plain">Info: Mounting kernel filesystems...  done.</code></div>
<div class="line"><code class="plain">Info: Mounting LABEL=ONIE-BOOT on /mnt/onie-boot  ...</code></div>
<div class="line"><code class="plain">initializing eth0...</code></div>
<div class="line"><code class="plain">scsi 6:0:0:0: Direct-Access  SanDisk Cruzer Facet 1.26 PQ: 0 ANSI: 6</code></div>
<div class="line"><code class="plain">sd 6:0:0:0: [sdb] 31266816 512-byte logical blocks: (16.0 GB/14.9 GiB)</code></div>
<div class="line"><code class="plain">sd 6:0:0:0: [sdb] Write Protect is off</code></div>
<div class="line"><code class="plain">sd 6:0:0:0: [sdb] Write cache: disabled, read cache: enabled, doesn't support DPO or FUA</code></div>
<div class="line"><code class="plain">sd 6:0:0:0: [sdb] Attached SCSI disk</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">&lt;...snip...&gt;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">ONIE:  Executing installer: file://dev/sdb1/onie-installer-x86_64</code></div>
<div class="line"><code class="plain">Verifying image checksum ... OK.</code></div>
<div class="line"><code class="plain">Preparing image archive ... OK.</code></div>
<div class="line"><code class="plain">Dumping image info...</code></div>
<div class="line"><code class="plain">Control File Contents</code></div>
<div class="line"><code class="plain">=====================</code></div>
<div class="line"><code class="plain">Description: Cumulus  Linux</code></div>
<div class="line"><code class="plain">OS-Release:  3.0.0-3b46bef-201509041633-build</code></div>
<div class="line"><code class="plain">Architecture: amd64</code></div>
<div class="line"><code class="plain">Date:  Fri, 27 May 2016 17:10:30 -0700</code></div>
<div class="line"><code class="plain">Installer-Version:  1.2</code></div>
<div class="line"><code class="plain">Platforms: accton_as5712_54x accton_as6712_32x  mlx_sx1400_i73612 dell_s6000_s1220 dell_s4000_c2338 dell_s3000_c2338  cel_redstone_xp cel_smallstone_xp cel_pebble quanta_panther  quanta_ly8_rangeley quanta_ly6_rangeley quanta_ly9_rangeley  </code></div>
<div class="line"><code class="plain">Homepage: http://www.cumulusnetworks.com/</code></div>
</div>
    </div>
</li><li class=" ">    <p  >After installation completes, the switch automatically reboots into the newly installed instance of Cumulus Linux.    </p>
</li><li class=" ">    <p  >Determine and note at which device your flash drive can be found by using output from <tt class=" ">cat /proc/partitions</tt> and <tt class=" ">sudo fdisk -l [device]</tt>. For example, <tt class=" ">sudo fdisk -l /dev/sdb</tt>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >These instructions assume your USB drive is the <tt class=" ">/dev/sdb</tt> device, which is typical if the USB stick was inserted after the machine was already booted. However, if the USB stick was plugged in during the boot process, it is possible the device could be <tt class=" ">/dev/sda</tt>. Make sure to modify the commands below to use the proper device for your USB drive!    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Create a mount point to mount the USB drive to:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo mkdir /mnt/mountpoint</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Mount the USB drive to the newly created mount point:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo mount /dev/sdb1 /mnt/mountpoint</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Install your license file with the <tt class=" ">cl-license</tt> command:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo cl-license -i /mnt/mountpoint/license.txt</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Check that your license is installed with the <tt class=" ">cl-license</tt> command.    </p>
</li><li class=" ">    <p  >Reboot the switch to utilize the new license.    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo reboot</code></div>
</div>
    </div>
</li></ol>    <p  >    </p>
    </div>
    <div class="section section-2" id="src-5126823_InstallingaNewCumulusLinuxImage-InstructionsforARMPlatforms">
        <h2 class="heading "><span>Instructions for ARM Platforms</span></h2>
    <p  class="expand-control-text">Click to expand ARM instructions...    </p>
<ol class=" "><li class=" ">    <p  >Prepare the switch for installation:    </p>
<ul class=" "><li class=" ">    <p  >If the switch is offline, connect to the console and power on the switch.    </p>
</li><li class=" ">    <p  >If the switch is already online in Cumulus Linux, connect to the console and reboot the switch into the ONIE environment with the <tt class=" ">sudo onie-select -i</tt> command, followed by <tt class=" ">sudo reboot</tt>. Then skip to step 4 below.    </p>
</li><li class=" ">    <p  >If the switch is already online in ONIE, use the <tt class=" ">reboot</tt> command.    </p>
</li></ul>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >SSH sessions to the switch get dropped after this step. To complete the remaining instructions, connect to the console of the switch. Cumulus Linux switches display their boot process to the console, so you need to monitor the console specifically to complete the next step.    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Interrupt the normal boot process before the countdown (shown below) completes. Press any key to stop the autobooting.    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">U-Boot 2013.01-00016-gddbf4a9-dirty (Feb 14 2014 - 16:30:46) Accton: 1.4.0.5</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">CPU0: P2020, Version: 2.1, (0x80e20021)</code></div>
<div class="line"><code class="plain">Core: E500, Version: 5.1, (0x80211051)</code></div>
<div class="line"><code class="plain">Clock Configuration:</code></div>
<div class="line"><code class="plain"> CPU0:1200 MHz, CPU1:1200 MHz, </code></div>
<div class="line"><code class="plain"> CCB:600 MHz,</code></div>
<div class="line"><code class="plain"> DDR:400 MHz (800 MT/s data rate) (Asynchronous), LBC:37.500 MHz</code></div>
<div class="line"><code class="plain">L1: D-cache 32 kB enabled</code></div>
<div class="line"><code class="plain"> I-cache 32 kB enabled</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">&lt;...snip…&gt;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">USB: USB2513 hub OK</code></div>
<div class="line"><code class="plain">Hit any key to stop autoboot: 0</code></div>
</div>
    </div>
</li><li class=" ">    <p  >A command prompt appears, so you can run commands. Execute the following command:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">run onie_bootcmd</code></div>
</div>
    </div>
</li><li class=" ">    <p  >At this point the USB drive should be automatically recognized and mounted. The image file should be located and automatic installation of Cumulus Linux should begin. Here is some sample output:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">Loading Open Network Install Environment …</code></div>
<div class="line"><code class="plain">Platform: arm-as4610_54p-r0</code></div>
<div class="line"><code class="plain">Version : 1.6.1.3</code></div>
<div class="line"><code class="plain">WARNING: adjusting available memory to 30000000</code></div>
<div class="line"><code class="plain">## Booting kernel from Legacy Image at ec040000 …</code></div>
<div class="line"><code class="plain">   Image Name:   as6701_32x.1.6.1.3</code></div>
<div class="line"><code class="plain">   Image Type:   ARM Linux Multi-File Image (gzip compressed)</code></div>
<div class="line"><code class="plain">   Data Size:    4456555 Bytes = 4.3 MiB</code></div>
<div class="line"><code class="plain">   Load Address: 00000000</code></div>
<div class="line"><code class="plain">   Entry Point:  00000000</code></div>
<div class="line"><code class="plain">   Contents:</code></div>
<div class="line"><code class="plain">      Image 0: 3738543 Bytes = 3.6 MiB</code></div>
<div class="line"><code class="plain">      Image 1: 706440 Bytes = 689.9 KiB</code></div>
<div class="line"><code class="plain">      Image 2: 11555 Bytes = 11.3 KiB</code></div>
<div class="line"><code class="plain">   Verifying Checksum ... OK</code></div>
<div class="line"><code class="plain">## Loading init Ramdisk from multi component Legacy Image at ec040000 …</code></div>
<div class="line"><code class="plain">## Flattened Device Tree from multi component Image at EC040000</code></div>
<div class="line"><code class="plain">   Booting using the fdt at 0xec47d388</code></div>
<div class="line"><code class="plain">   Uncompressing Multi-File Image ... OK</code></div>
<div class="line"><code class="plain">   Loading Ramdisk to 2ff53000, end 2ffff788 ... OK</code></div>
<div class="line"><code class="plain">   Loading Device Tree to 03ffa000, end 03fffd22 ... OK</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">&lt;...snip...&gt;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">ONIE: Starting ONIE Service Discovery</code></div>
<div class="line"><code class="plain">ONIE: Executing installer: file://dev/sdb1/onie-installer-arm</code></div>
<div class="line"><code class="plain">Verifying image checksum ... OK.</code></div>
<div class="line"><code class="plain">Preparing image archive ... OK.</code></div>
<div class="line"><code class="plain">Dumping image info…</code></div>
<div class="line"><code class="plain">Control File Contents</code></div>
<div class="line"><code class="plain">=====================</code></div>
<div class="line"><code class="plain">Description: Cumulus Linux</code></div>
<div class="line"><code class="plain">OS-Release: 3.0.0-3b46bef-201509041633-build</code></div>
<div class="line"><code class="plain">Architecture: arm</code></div>
<div class="line"><code class="plain">Date: Fri, 27 May 2016 17:08:35 -0700</code></div>
<div class="line"><code class="plain">Installer-Version: 1.2</code></div>
<div class="line"><code class="plain">Platforms: accton_as4600_54t, accton_as6701_32x, accton_5652, accton_as5610_52x, dni_6448, dni_7448, dni_c7448n, cel_kennisis, cel_redstone, cel_smallstone, cumulus_p2020, quanta_lb9, quanta_ly2, quanta_ly2r, quanta_ly6_p2020</code></div>
<div class="line"><code class="plain">Homepage: http://www.cumulusnetworks.com/</code></div>
</div>
    </div>
</li><li class=" ">    <p  >After installation completes, the switch automatically reboots into the newly installed instance of Cumulus Linux.    </p>
</li><li class=" ">    <p  >Determine and note at which device your flash drive can be found by using output from <tt class=" ">cat /proc/partitions</tt> and <tt class=" ">sudo fdisk -l [device]</tt>. For example, <tt class=" ">sudo fdisk -l /dev/sdb</tt>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >These instructions assume your USB drive is the <tt class=" ">/dev/sdb</tt> device, which is typical if the USB stick was inserted after the machine was already booted. However, if the USB stick was plugged in during the boot process, it is possible the device could be <tt class=" ">/dev/sda</tt>. Make sure to modify the commands below to use the proper device for your USB drive!    </p>
        </div>
    </div>
</li><li class=" ">    <p  >Create a mount point to mount the USB drive to:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo mkdir /mnt/mountpoint</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Mount the USB drive to the newly created mount point:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo mount /dev/sdb1 /mnt/mountpoint</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Install your license file with the <tt class=" ">cl-license</tt> command:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo cl-license -i /mnt/mountpoint/license.txt</code></div>
</div>
    </div>
</li><li class=" ">    <p  >Check that your license is installed with the <tt class=" ">cl-license</tt> command.    </p>
</li><li class=" ">    <p  >Reboot the switch to utilize the new license.    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">sudo reboot</code></div>
</div>
    </div>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-5126823_InstallingaNewCumulusLinuxImage-alreadyinstalledInstallingaNewImagewhenCumulusLinuxIsalreadyInstalled">
        <h1 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-alreadyinstalled" class="confluence-anchor-link"></span><span>Installing a New Image when Cumulus Linux Is already Installed</span></h1>
    <p  >Follow these upgrade steps for both major and minor releases, where:    </p>
<ul class=" "><li class=" ">    <p  >A major release upgrade is 2.X.X to 3.X.X (for example, 2.5.6 to 3.2.0)    </p>
</li><li class=" ">    <p  >A minor release upgrade is X.2.X to X.3.X (for example, 3.1.2 to 3.2.0)    </p>
</li></ul>    <p  >For more information, see <a   href="Upgrading_Cumulus_Linux.html#src-5126827_UpgradingCumulusLinux-binary_upgrade">Upgrading Cumulus Linux</a>.    </p>
    <div class="section section-2" id="src-5126823_InstallingaNewCumulusLinuxImage-oniemodeEnteringONIEModefromCumulusLinux">
        <h2 class="heading "><span id="src-5126823_InstallingaNewCumulusLinuxImage-oniemode" class="confluence-anchor-link"></span><span>Entering ONIE Mode from Cumulus Linux</span></h2>
    <p  >If Cumulus Linux is already installed on the switch, you can enter ONIE mode in one of two ways, using:    </p>
<ul class=" "><li class=" ">    <p  >ONIE Recovery Mode to manually install an image from the ONIE prompt:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ sudo onie-select -r</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ sudo reboot</code></div>
</div>
    </div>
</li><li class=" ">    <p  >ONIE Install Mode to attempt to automatically discover the image from a DHCP server:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ sudo onie-select -i</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ sudo reboot</code></div>
</div>
    </div>
</li></ul>    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Managing_Cumulus_Linux_Disk_Images.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Managing Cumulus Linux Disk Images</span>
        </a>
                <a href="Upgrading_Cumulus_Linux.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Upgrading Cumulus Linux</span>
        </a>
    </nav>    
            
            <article id="html-search-results" class="ht-content" style="display: none;">
            <header class="ht-content-header">
                <div id="ht-spacetitle">
                    <ul>
                        <li><a href="Cumulus_Linux_User_Guide.html">Cumulus Linux 3.2.1</a></li>
                    </ul>
                </div>
                <h1>Search results</h1>
            </header>
            <div id="search-results"></div>
        </article>
    
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


</body>
</html>
