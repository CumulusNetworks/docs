<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Spanning Tree and Rapid Spanning Tree - Cumulus Linux 3.2.1</title>

    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>


<link rel="stylesheet" href="assets/css/content-style.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

    </head>

<body pageid="5126727">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">CL321</span>
                    <img class="space-logo" src="spacelogo.png" />
                </h1>
                <a href="Cumulus_Linux_User_Guide.html" class="ht-space-link">
                    <h2>Cumulus Linux 3.2.1</h2>
                </a>
            </header>

            <nav class="ht-pages-nav">
                <ul class="ht-pages-nav-top">
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Quick_Start_Guide.html">Quick Start Guide</a>

            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Installation_Management.html">Installation Management</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Managing_Cumulus_Linux_Disk_Images.html">Managing Cumulus Linux Disk Images</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Installing_a_New_Cumulus_Linux_Image.html">Installing a New Cumulus Linux Image</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Upgrading_Cumulus_Linux.html">Upgrading Cumulus Linux</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_Snapshots.html">Using Snapshots</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Adding_and_Updating_Packages.html">Adding and Updating Packages</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Zero_Touch_Provisioning_-_ZTP.html">Zero Touch Provisioning - ZTP</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="System_Configuration.html">System Configuration</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Network_Command_Line_Utility.html">Network Command Line Utility</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_Date_and_Time.html">Setting Date and Time</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Authentication,_Authorization,_and_Accounting.html">Authentication, Authorization, and Accounting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SSH_for_Remote_Access.html">SSH for Remote Access</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="User_Accounts.html">User Accounts</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_sudo_to_Delegate_Privileges.html">Using sudo to Delegate Privileges</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LDAP_Authentication_and_Authorization.html">LDAP Authentication and Authorization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="TACACS_Plus.html">TACACS Plus</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Netfilter_-_ACLs.html">Netfilter - ACLs</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Default_Cumulus_Linux_ACL_Configuration.html">Default Cumulus Linux ACL Configuration</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Managing_Application_Daemons.html">Managing Application Daemons</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_switchd.html">Configuring switchd</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Power_over_Ethernet_-_PoE.html">Power over Ethernet - PoE</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_a_Global_Proxy.html">Configuring a Global Proxy</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Interface_Configuration_and_Management.html">Interface Configuration and Management</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Layer_1_and_Switch_Port_Attributes.html">Layer 1 and Switch Port Attributes</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Buffer_and_Queue_Management.html">Buffer and Queue Management</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_Hardware-enabled_DDOS_Protection.html">Configuring Hardware-enabled DDOS Protection</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_DHCP_Relays.html">Configuring DHCP Relays</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configuring_DHCP_Servers.html">Configuring DHCP Servers</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Layer_One_and_Two.html">Layer One and Two</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link current" href="Spanning_Tree_and_Rapid_Spanning_Tree.html">Spanning Tree and Rapid Spanning Tree</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Link_Layer_Discovery_Protocol.html">Link Layer Discovery Protocol</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Prescriptive_Topology_Manager_-_PTM.html">Prescriptive Topology Manager - PTM</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Bonding_-_Link_Aggregation.html">Bonding - Link Aggregation</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Ethernet_Bridging_-_VLANs.html">Ethernet Bridging - VLANs</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VLAN-aware_Bridge_Mode_for_Large-scale_Layer_2_Environments.html">VLAN-aware Bridge Mode for Large-scale Layer 2 Environments</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Traditional_Mode_Bridges.html">Traditional Mode Bridges</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VLAN_Tagging.html">VLAN Tagging</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Multi-Chassis_Link_Aggregation_-_MLAG.html">Multi-Chassis Link Aggregation - MLAG</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LACP_Bypass.html">LACP Bypass</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Virtual_Router_Redundancy_-_VRR.html">Virtual Router Redundancy - VRR</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ifplugd.html">ifplugd</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="IGMP_and_MLD_Snooping.html">IGMP and MLD Snooping</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Network_Virtualization.html">Network Virtualization</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Integrating_with_VMware_NSX.html">Integrating with VMware NSX</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Integrating_Hardware_VTEPs_with_Midokura_MidoNet_and_OpenStack.html">Integrating Hardware VTEPs with Midokura MidoNet and OpenStack</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Lightweight_Network_Virtualization_-_LNV_Overview.html">Lightweight Network Virtualization - LNV Overview</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LNV_VXLAN_Active-Active_Mode.html">LNV VXLAN Active-Active Mode</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="LNV_Full_Example.html">LNV Full Example</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Static_MAC_Bindings_with_VXLAN.html">Static MAC Bindings with VXLAN</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Ethernet_Virtual_Private_Network_-_EVPN.html">Ethernet Virtual Private Network - EVPN</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VXLAN_Hyperloop.html">VXLAN Hyperloop</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Static_VXLAN_Tunnels.html">Static VXLAN Tunnels</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Layer_Three.html">Layer Three</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Routing.html">Routing</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Introduction_to_Routing_Protocols.html">Introduction to Routing Protocols</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Network_Topology.html">Network Topology</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Quagga_Overview.html">Quagga Overview</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Configuring_Quagga.html">Configuring Quagga</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Comparing_NCLU_and_vtysh_Commands.html">Comparing NCLU and vtysh Commands</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Open_Shortest_Path_First_-_OSPF_-_Protocol.html">Open Shortest Path First - OSPF - Protocol</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Open_Shortest_Path_First_v3_-_OSPFv3_-_Protocol.html">Open Shortest Path First v3 - OSPFv3 - Protocol</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Border_Gateway_Protocol_-_BGP.html">Border Gateway Protocol - BGP</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Bidirectional_Forwarding_Detection_-_BFD.html">Bidirectional Forwarding Detection - BFD</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Equal_Cost_Multipath_Load_Sharing_-_Hardware_ECMP.html">Equal Cost Multipath Load Sharing - Hardware ECMP</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Redistribute_Neighbor.html">Redistribute Neighbor</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Virtual_Routing_and_Forwarding_-_VRF.html">Virtual Routing and Forwarding - VRF</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Management_VRF.html">Management VRF</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Protocol_Independent_Multicast_-_PIM.html">Protocol Independent Multicast - PIM</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Monitoring_and_Troubleshooting.html">Monitoring and Troubleshooting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Single_User_Mode_-_Boot_Recovery.html">Single User Mode - Boot Recovery</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Resource_Diagnostics_Using_cl-resource-query.html">Resource Diagnostics Using cl-resource-query</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Monitoring_System_Hardware.html">Monitoring System Hardware</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Network_Switch_Port_LED_and_Status_LED_Guidelines.html">Network Switch Port LED and Status LED Guidelines</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_Virtual_Device_Counters.html">Monitoring Virtual Device Counters</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Understanding_the_cl-support_Output_File.html">Understanding the cl-support Output File</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Troubleshooting_Log_Files.html">Troubleshooting Log Files</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Troubleshooting_the_etc_Directory.html">Troubleshooting the etc Directory</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Troubleshooting_Network_Interfaces.html">Troubleshooting Network Interfaces</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_Interfaces_and_Transceivers_Using_ethtool.html">Monitoring Interfaces and Transceivers Using ethtool</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Network_Troubleshooting.html">Network Troubleshooting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_NCLU_to_Troubleshoot_Your_Network_Configuration.html">Using NCLU to Troubleshoot Your Network Configuration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_System_Statistics_and_Network_Traffic_with_sFlow.html">Monitoring System Statistics and Network Traffic with sFlow</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_netq_to_Troubleshoot_the_Network.html">Using netq to Troubleshoot the Network</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SNMP_Monitoring.html">SNMP Monitoring</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_Nutanix_Prism_as_a_Monitoring_Tool.html">Using Nutanix Prism as a Monitoring Tool</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_Best_Practices.html">Monitoring Best Practices</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Network_Solutions.html">Network Solutions</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Data_Center_Host_to_ToR_Architecture.html">Data Center Host to ToR Architecture</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Cumulus_Networks_Services_Demos.html">Cumulus Networks Services Demos</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Docker_on_Cumulus_Linux.html">Docker on Cumulus Linux</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OpenStack_Neutron_ML2_and_Cumulus_Linux.html">OpenStack Neutron ML2 and Cumulus Linux</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Anycast_Design_Guide.html">Anycast Design Guide</a>

            </li>
                            </ul>
            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Cumulus_Linux_Index.html">Cumulus Linux Index</a>

            </li>
                                    </ul>
            </nav>
        </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Cumulus_Linux_User_Guide.html">Cumulus Linux 3.2.1</a></li>
                                                                                     <li><a href="Layer_One_and_Two.html">Layer One and Two</a></li>
                                                            </ul>
</div>            <h1 id="src-5126866"> <span>Spanning Tree and Rapid Spanning Tree</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <p  ><span id="src-5126866_indexterm-D8E01FB502A83D9F214E337AFE2F9D79">Spanning </span><span id="src-5126866_indexterm-4D0C901E0B1D90ADE603620460F3A9A5">tree protocol (</span>STP) is always recommended in layer 2 topologies, as it prevents bridge loops and broadcast radiation on a bridged network. STP also provides redundant links for automatic failover when an active link fails. STP is disabled by default on bridges in Cumulus Linux.    </p>
    <div class="section section-1" id="src-5126866_SpanningTreeandRapidSpanningTree-Contents">
        <h1 class="heading "><span>Contents</span></h1>
    <p  class="expand-control-text">This chapter covers ...    </p>
    </div>
    <div class="section section-1" id="src-5126866_SpanningTreeandRapidSpanningTree-SupportedModes">
        <h1 class="heading "><span>Supported Modes</span></h1>
    <p  >The STP modes Cumulus Linux supports vary depending upon whether the <a   href="Ethernet_Bridging_-_VLANs.html">traditional or VLAN-aware bridge driver mode</a> is in use.    </p>
    <p  >Bridges configured in<i class=" "> <a   href="VLAN-aware_Bridge_Mode_for_Large-scale_Layer_2_Environments.html">VLAN-aware</a> </i>mode operate <strong class=" ">only</strong> in RSTP mode. <a   href="Network_Command_Line_Utility.html">NCLU</a>, the network command line utility for configuring Cumulus Linux, only supports bridges in VLAN-aware mode.    </p>
    <p  >For a bridge configured in <i class=" ">traditional</i> mode, PVST and PVRST are supported, with the default set to PVRST. Each traditional bridge has its own separate STP instance.    </p>
    <p  >Since you cannot use NCLU to configure a traditional mode bridge, you must configure it directly in the <tt class=" ">/etc/network/interfaces</tt> file.    </p>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-STPforaVLAN-awareBridge">
        <h2 class="heading "><span>STP for a VLAN-aware Bridge</span></h2>
    <p  ><i class=" "><a   href="VLAN-aware_Bridge_Mode_for_Large-scale_Layer_2_Environments.html">VLAN-aware</a> </i>bridges only operate in RSTP mode. STP bridge protocol data units (BPDUs) are transmitted on the native VLAN.    </p>
    <p  >If a bridge running RSTP (802.1w) receives a common STP (802.1D) BPDU, it will automatically fall back to 802.1D operation. RSTP interoperates with MST seamlessly, creating a single instance of spanning tree, which transmits BPDUs on the native VLAN. RSTP treats the MST domain as if it were one giant switch.    </p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >As of version 3.2.1, STP is enabled by default in Cumulus Linux. There is no need to specify <tt class=" ">bridge-stp on</tt> for the bridge any more.    </p>
        </div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-STPwithinaTraditionalModeBridge">
        <h2 class="heading "><span>STP within a Traditional Mode Bridge</span></h2>
    <p  ><span id="src-5126866_indexterm-BB997E682739EFF3B7226FB1831F60C8">Per </span><span id="src-5126866_indexterm-015DC738C1184B74562BD02E1A557D3E">VLAN </span><span id="src-5126866_indexterm-CC044AEDC27E7FD821F485EFF375B7B2">Spanning Tree (PVST) creates a spanning tree instance for a bridge. Rapid </span><span id="src-5126866_indexterm-279DC5E2B4146E43BAFED35DD64C6323">PVST (</span><span id="src-5126866_indexterm-FA36FB01B0FB159C961F8CBB22D617D8">PVRST) supports </span>RSTP enhancements for each spanning tree instance. In order to use PVRST with a traditional bridge, a bridge corresponding to the untagged native VLAN must be created, and all the physical switch ports must be part of the same VLAN.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >When connected to a switch that has a native VLAN configuration, the native VLAN <strong class=" ">must</strong> be configured to be VLAN 1 only for maximum interoperability.    </p>
        </div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-5126866_safe-id-U3Bhbm5pbmdUcmVlYW5kUmFwaWRTcGFubmluZ1RyZWUtVmlld2luZ0JyaWRnZWFuZFNUUFN0YXR1cy9Mb2dz">
        <h1 class="heading "><span>Viewing Bridge and STP Status/Logs</span></h1>
    <p  >To check STP status for a bridge, run <tt class=" ">net show bridge spanning-tree</tt>:    </p>
    <p  class="expand-control-text">Click to reveal the output ...    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net show bridge spanning-tree </code></div>
<div class="line"><code class="plain">bridge CIST info</code></div>
<div class="line"><code class="plain">  enabled         yes</code></div>
<div class="line"><code class="plain">  bridge id       1.000.44:39:39:FF:40:90</code></div>
<div class="line"><code class="plain">  designated root 1.000.44:39:39:FF:40:90</code></div>
<div class="line"><code class="plain">  regional root   1.000.44:39:39:FF:40:90</code></div>
<div class="line"><code class="plain">  root port       none</code></div>
<div class="line"><code class="plain">  path cost     0          internal path cost   0</code></div>
<div class="line"><code class="plain">  max age       20         bridge max age       20</code></div>
<div class="line"><code class="plain">  forward delay 15         bridge forward delay 15</code></div>
<div class="line"><code class="plain">  tx hold count 6          max hops             20</code></div>
<div class="line"><code class="plain">  hello time    2          ageing time          300</code></div>
<div class="line"><code class="plain">  force protocol version     rstp</code></div>
<div class="line"><code class="plain">  time since topology change 253343s</code></div>
<div class="line"><code class="plain">  topology change count      4</code></div>
<div class="line"><code class="plain">  topology change            no</code></div>
<div class="line"><code class="plain">  topology change port       peerlink</code></div>
<div class="line"><code class="plain">  last topology change port  leaf03-04</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">bridge:exit01-02 CIST info</code></div>
<div class="line"><code class="plain">  enabled            no                      role                 Disabled</code></div>
<div class="line"><code class="plain">  port id            8.004                   state                discarding</code></div>
<div class="line"><code class="plain">  external port cost 305                     admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 305                     admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    1.000.44:38:39:00:00:27 dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root 1.000.44:38:39:00:00:27 dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  1.000.44:38:39:00:00:27 designated port      8.004</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     no                      topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    2                       disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    no                      bpdu guard error     no</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        2                       Num TX TCN           0</code></div>
<div class="line"><code class="plain">  Num RX BPDU        0                       Num RX TCN           0</code></div>
<div class="line"><code class="plain">  Num Transition FWD 0                       Num Transition BLK   2</code></div>
<div class="line"><code class="plain">  bpdufilter port    no                     </code></div>
<div class="line"><code class="plain">  clag ISL           no                      clag ISL Oper UP     no</code></div>
<div class="line"><code class="plain">  clag role          primary                 clag dual conn mac   00:00:00:00:00:00</code></div>
<div class="line"><code class="plain">  clag remote portID F.FFF                   clag system mac      44:39:39:FF:40:90</code></div>
<div class="line"><code class="plain">bridge:leaf01-02 CIST info</code></div>
<div class="line"><code class="plain">  enabled            yes                     role                 Designated</code></div>
<div class="line"><code class="plain">  port id            8.003                   state                forwarding</code></div>
<div class="line"><code class="plain">  external port cost 10000                   admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 10000                   admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    1.000.44:39:39:FF:40:90 dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root 1.000.44:39:39:FF:40:90 dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  1.000.44:39:39:FF:40:90 designated port      8.003</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     no                      topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    2                       disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    no                      bpdu guard error     no</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        253558                  Num TX TCN           2</code></div>
<div class="line"><code class="plain">  Num RX BPDU        253373                  Num RX TCN           4</code></div>
<div class="line"><code class="plain">  Num Transition FWD 126675                  Num Transition BLK   126694</code></div>
<div class="line"><code class="plain">  bpdufilter port    no                     </code></div>
<div class="line"><code class="plain">  clag ISL           no                      clag ISL Oper UP     no</code></div>
<div class="line"><code class="plain">  clag role          primary                 clag dual conn mac   44:39:39:FF:40:94</code></div>
<div class="line"><code class="plain">  clag remote portID F.FFF                   clag system mac      44:39:39:FF:40:90</code></div>
<div class="line"><code class="plain">bridge:leaf03-04 CIST info</code></div>
<div class="line"><code class="plain">  enabled            yes                     role                 Designated</code></div>
<div class="line"><code class="plain">  port id            8.001                   state                forwarding</code></div>
<div class="line"><code class="plain">  external port cost 10000                   admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 10000                   admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    1.000.44:39:39:FF:40:90 dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root 1.000.44:39:39:FF:40:90 dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  1.000.44:39:39:FF:40:90 designated port      8.001</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     no                      topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    2                       disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    no                      bpdu guard error     no</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        130960                  Num TX TCN           6</code></div>
<div class="line"><code class="plain">  Num RX BPDU        4                       Num RX TCN           1</code></div>
<div class="line"><code class="plain">  Num Transition FWD 2                       Num Transition BLK   1</code></div>
<div class="line"><code class="plain">  bpdufilter port    no                     </code></div>
<div class="line"><code class="plain">  clag ISL           no                      clag ISL Oper UP     no</code></div>
<div class="line"><code class="plain">  clag role          primary                 clag dual conn mac   44:39:39:FF:40:93</code></div>
<div class="line"><code class="plain">  clag remote portID F.FFF                   clag system mac      44:39:39:FF:40:90</code></div>
<div class="line"><code class="plain">bridge:peerlink CIST info</code></div>
<div class="line"><code class="plain">  enabled            yes                     role                 Designated</code></div>
<div class="line"><code class="plain">  port id            F.002                   state                forwarding</code></div>
<div class="line"><code class="plain">  external port cost 10000                   admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 10000                   admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    1.000.44:39:39:FF:40:90 dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root 1.000.44:39:39:FF:40:90 dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  1.000.44:39:39:FF:40:90 designated port      F.002</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     no                      topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    2                       disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    no                      bpdu guard error     no</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        126700                  Num TX TCN           2</code></div>
<div class="line"><code class="plain">  Num RX BPDU        6                       Num RX TCN           3</code></div>
<div class="line"><code class="plain">  Num Transition FWD 2                       Num Transition BLK   1</code></div>
<div class="line"><code class="plain">  bpdufilter port    no                     </code></div>
<div class="line"><code class="plain">  clag ISL           yes                     clag ISL Oper UP     yes</code></div>
<div class="line"><code class="plain">  clag role          primary                 clag dual conn mac   00:00:00:00:00:00</code></div>
<div class="line"><code class="plain">  clag remote portID F.FFF                   clag system mac      44:39:39:FF:40:90</code></div>
</div>
    </div>
    <div class="section section-2" id="src-5126866_safe-id-U3Bhbm5pbmdUcmVlYW5kUmFwaWRTcGFubmluZ1RyZWUtVXNpbmdMaW51eHRvQ2hlY2tTcGFubmluZ1RyZWVTdGF0dXMoQWR2YW5jZWQp">
        <h2 class="heading "><span>Using Linux to Check Spanning Tree Status (Advanced)</span></h2>
    <p  class="expand-control-text">Using Linux to check STP status ...    </p>
    <p  ><tt class=" ">mstpctl</tt><span id="src-5126866_indexterm-41AC6AC558ED80585C018A7FE53599EB"> </span>is the utility provided by the <tt class=" ">mstpd</tt> service to configure STP. The <tt class=" ">mstpd</tt> daemon is an open source project used by Cumulus Linux to implement IEEE802.1D 2004 and IEEE802.1Q 2011.    </p>
    <p  ><tt class=" ">mstpd</tt> is started by default when the switch boots. <tt class=" ">mstpd</tt> logs and errors are located in <tt class=" ">/var/log/syslog</tt>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  ><tt class=" ">mstpd</tt> is the preferred utility for interacting with STP on Cumulus Linux. <tt class=" ">brctl</tt> also provides certain methods for configuring STP; however, they are not as complete as the tools offered in <tt class=" ">mstpd</tt> and <a  class="external-link" href="https://support.cumulusnetworks.com/hc/en-us/articles/212153658-brctl-showstp-Shows-Carrier-Down-Ports-as-Blocking">output from brctl can be misleading</a> in some cases.    </p>
        </div>
    </div>
    <p  >To get the bridge state, use:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ sudo brctl show</code></div>
<div class="line"><code class="plain"> bridge name     bridge id               STP enabled     interfaces</code></div>
<div class="line"><code class="plain"> bridge          8000.001401010100       yes             swp1</code></div>
<div class="line"><code class="plain">                                                         swp4</code></div>
<div class="line"><code class="plain">                                                         swp5</code></div>
</div>
    </div>
    <p  >To get the <tt class=" ">mstpd</tt> bridge state, use:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net show bridge spanning-tree</code></div>
<div class="line"><code class="plain"> bridge CIST info</code></div>
<div class="line"><code class="plain">  enabled         yes</code></div>
<div class="line"><code class="plain">  bridge id       F.000.00:14:01:01:01:00</code></div>
<div class="line"><code class="plain">  designated root F.000.00:14:01:01:01:00</code></div>
<div class="line"><code class="plain">  regional root   F.000.00:14:01:01:01:00</code></div>
<div class="line"><code class="plain">  root port       none</code></div>
<div class="line"><code class="plain">  path cost     0          internal path cost   0</code></div>
<div class="line"><code class="plain">  max age       20         bridge max age       20</code></div>
<div class="line"><code class="plain">  forward delay 15         bridge forward delay 15</code></div>
<div class="line"><code class="plain">  tx hold count 6          max hops             20</code></div>
<div class="line"><code class="plain">  hello time    2          ageing time          200</code></div>
<div class="line"><code class="plain">  force protocol version     rstp</code></div>
<div class="line"><code class="plain">  time since topology change 90843s</code></div>
<div class="line"><code class="plain">  topology change count      4</code></div>
<div class="line"><code class="plain">  topology change            no</code></div>
<div class="line"><code class="plain">  topology change port       swp4</code></div>
<div class="line"><code class="plain">  last topology change port  swp5</code></div>
</div>
    </div>
    <p  >To get the <tt class=" ">mstpd</tt> bridge port state, use:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ sudo mstpctl showport bridge</code></div>
<div class="line"><code class="plain"> E swp1 8.001 forw F.000.00:14:01:01:01:00 F.000.00:14:01:01:01:00 8.001 Desg</code></div>
<div class="line"><code class="plain">   swp4 8.002 forw F.000.00:14:01:01:01:00 F.000.00:14:01:01:01:00 8.002 Desg</code></div>
<div class="line"><code class="plain"> E swp5 8.003 forw F.000.00:14:01:01:01:00 F.000.00:14:01:01:01:00 8.003 Desg</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">cumulus@switch:~$ net show bridge spanning-tree</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">...</code></div>
<div class="line"><code class="plain"> bridge:swp1 CIST info</code></div>
<div class="line"><code class="plain">  enabled            yes                     role                 Designated</code></div>
<div class="line"><code class="plain">  port id            8.001                   state                forwarding</code></div>
<div class="line"><code class="plain">  external port cost 2000                    admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 2000                    admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    F.000.00:14:01:01:01:00 dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root F.000.00:14:01:01:01:00 dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  F.000.00:14:01:01:01:00 designated port      8.001</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     yes                     topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    2                       disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    no                      bpdu guard error     no</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        45772                   Num TX TCN           4</code></div>
<div class="line"><code class="plain">  Num RX BPDU        0                       Num RX TCN           0</code></div>
<div class="line"><code class="plain">  Num Transition FWD 2                       Num Transition BLK   2</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-5126866_SpanningTreeandRapidSpanningTree-CustomizingSpanningTreeProtocol">
        <h1 class="heading "><span>Customizing Spanning Tree Protocol</span></h1>
    <p  >There are a number of ways you can customize STP in Cumulus Linux. You should exercise extreme caution with many of the settings below to prevent malfunctions in STP's loop avoidance.    </p>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-SpanningTreePriority">
        <h2 class="heading "><span>Spanning Tree Priority</span></h2>
    <p  >If you have an MSTI (multiple spanning tree instance), you can set the <i class=" ">tree priority</i> for a bridge. The bridge with the lowest priority is elected the <i class=" ">root bridge</i>. The priority must be a number between <i class=" ">0</i> and <i class=" ">65535</i> and must be a multiple of 4096; the default is <i class=" ">32768</i>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >For <tt class=" ">msti</tt>, only 0 is supported currently.    </p>
        </div>
    </div>
    <p  >To set the tree priority, run:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net add bridge stp treeprio 8192</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net pending</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net commit</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_safe-id-U3Bhbm5pbmdUcmVlYW5kUmFwaWRTcGFubmluZ1RyZWUtUG9ydEFkbWluRWRnZS9Qb3J0RmFzdE1vZGU">
        <h2 class="heading "><span>PortAdminEdge/PortFast Mode</span></h2>
    <p  ><i class=" ">PortAdminEdge</i> is equivalent to the PortFast feature offered by other vendors. It enables or disables the <i class=" ">initial edge state</i> of a port in a bridge.    </p>
    <p  >All ports configured with PortAdminEdge bypass the listening and learning states to move immediately to forwarding.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Using PortAdminEdge mode has the potential to cause loops if it is not accompanied by the <a   href="#src-5126866_SpanningTreeandRapidSpanningTree-bpdu">BPDU guard</a> feature.    </p>
        </div>
    </div>
    <p  >While it is common for edge ports to be configured as access ports for a simple end host, this is not mandatory. In the data center, edge ports typically connect to servers, which may pass both tagged and untagged traffic.    </p>
    <div  class="confbox admonition admonition-info has-no-icon">
                    <p class="title">Example VLAN-aware Bridge Configuration</p>
                        <div class="admonition-body">
    <p  >To configure PortAdminEdge mode, use the <tt class=" ">bpduguard</tt> and <tt class=" ">mstpctl-portadminedge</tt> NCLU configuration commands:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net add interface swp5 stp bpduguard</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net add interface swp5 stp portadminedge</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net pending</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net commit</code></div>
</div>
    </div>
    <p  >The NCLU commands above create the following code snippet:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">auto swp5</code></div>
<div class="line"><code class="plain">iface swp5</code></div>
<div class="line"><code class="plain">    mstpctl-bpduguard yes</code></div>
<div class="line"><code class="plain">    mstpctl-portadminedge yes</code></div>
</div>
    </div>
        </div>
    </div>
    <div  class="confbox admonition admonition-info has-no-icon">
                    <p class="title">Example Traditional Bridge Configuration</p>
                        <div class="admonition-body">
    <p  >For a bridge in <a   href="Ethernet_Bridging_-_VLANs.html">traditional mode</a>, configure <tt class=" ">PortAdminEdge</tt> under the bridge stanza in <tt class=" ">/etc/network/interfaces</tt>:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">auto br2</code></div>
<div class="line"><code class="plain">iface br2 inet static</code></div>
<div class="line"><code class="plain">  bridge-ports swp1 swp2 swp3 swp4</code></div>
<div class="line"><code class="plain">  mstpctl-bpduguard swp1=yes swp2=yes swp3=yes swp4=yes</code></div>
<div class="line"><code class="plain">  mstpctl-portadminedge swp1=yes swp2=yes swp3=yes swp4=yes</code></div>
</div>
    </div>
    <p  >To load the new configuration, run <tt class=" ">ifreload -a</tt>:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ sudo ifreload -a</code></div>
</div>
    </div>
        </div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-PortAutoEdge">
        <h2 class="heading "><span>PortAutoEdge</span></h2>
    <p  ><i class=" ">PortAutoEdge</i> is an enhancement to the standard PortAdminEdge (PortFast) mode, which allows for the automatic detection of edge ports. PortAutoEdge enables and disables the <i class=" ">auto transition</i> to/from the edge state of a port in a bridge.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Edge ports and access ports are not the same thing. Edge ports transition directly to the forwarding state and skip the listening and learning stages. Upstream topology change notifications are not generated when an edge port's link changes state. Access ports only forward untagged traffic; however, there is no such restriction on edge ports, which can forward both tagged and untagged traffic.    </p>
        </div>
    </div>
    <p  >When a BPDU is received on a port configured with portautoedge, the port ceases to be in the edge port state and transitions into a normal STP port.    </p>
    <p  >When BPDUs are no longer received on the interface, the port becomes an edge port, and transitions through the discarding and learning states before resuming forwarding.    </p>
    <p  >To configure PortAutoEdge for an interface:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net add interface swp1 stp portautoedge</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net pending</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net commit</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-bpduBPDUGuard">
        <h2 class="heading "><span id="src-5126866_SpanningTreeandRapidSpanningTree-bpdu" class="confluence-anchor-link"></span><span>BPDU Guard</span></h2>
    <p  ><span id="src-5126866_indexterm-B367011C14D3B7E8C165DDE98B1F3D62">To protect the spanning tree topology from unauthorized switches affecting the forwarding path, you can </span>configure <i class=" ">BPDU guard</i> (Bridge Protocol Data Unit). One very common example is when someone hooks up a new switch to an access port off of a leaf switch. If this new switch is configured with a low priority, it could become the new root switch and affect the forwarding path for the entire layer 2 topology.    </p>
    <div  class="confbox admonition admonition-info has-no-icon">
                    <p class="title">Example BPDU Guard Configuration</p>
                        <div class="admonition-body">
    <p  >To configure BPDU guard, set the <tt class=" ">bpduguard</tt> value for the interface:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net add interface swp5 stp bpduguard</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net pending</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net commit</code></div>
</div>
    </div>
    <p  >This creates the following stanza in the <tt class=" ">/etc/network/interfaces</tt> file:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">auto swp5</code></div>
<div class="line"><code class="plain">iface swp5</code></div>
<div class="line"><code class="plain">    mstpctl-bpduguard yes</code></div>
</div>
    </div>
        </div>
    </div>
    <div class="section section-3" id="src-5126866_SpanningTreeandRapidSpanningTree-RecoveringaPortDisabledbyBPDUGuard">
        <h3 class="heading "><span>Recovering a Port Disabled by BPDU Guard</span></h3>
    <p  >If a BPDU is received on the port, STP will bring down the port and log an error in <tt class=" ">/var/log/syslog</tt>. The following is a sample error:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">mstpd: error, MSTP_IN_rx_bpdu: bridge:bond0 Recvd BPDU on BPDU Guard Port - Port Down</code></div>
</div>
    </div>
    <p  >To determine whether BPDU guard is configured, or if a BPDU has been received, run:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net show bridge spanning-tree | grep bpdu</code></div>
<div class="line"><code class="plain"> bpdu guard port    yes                     bpdu guard error     yes</code></div>
</div>
    </div>
    <p  >The only way to recover a port that has been placed in the disabled state is to manually un-shut or bring up the port with <tt class=" ">sudo ifup </tt><tt class=" ">[port]</tt>, as shown in the example below.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Bringing up the disabled port does not fix the problem if the configuration on the connected end-station has not been rectified.    </p>
        </div>
    </div>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@leaf2$ mstpctl showportdetail bridge bond0</code></div>
<div class="line"><code class="plain">bridge:bond0 CIST info</code></div>
<div class="line"><code class="plain">  enabled            no                      role                 Disabled</code></div>
<div class="line"><code class="plain">  port id            8.001                   state                discarding</code></div>
<div class="line"><code class="plain">  external port cost 305                     admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 305                     admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    8.000.6C:64:1A:00:4F:9C dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root 8.000.6C:64:1A:00:4F:9C dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  8.000.6C:64:1A:00:4F:9C designated port      8.001</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     no                      topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    10                      disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    yes                      bpdu guard error     yes</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        3                       Num TX TCN           2</code></div>
<div class="line"><code class="plain">  Num RX BPDU        488                     Num RX TCN           2</code></div>
<div class="line"><code class="plain">  Num Transition FWD 1                       Num Transition BLK   2</code></div>
<div class="line"><code class="plain">  bpdufilter port    no                     </code></div>
<div class="line"><code class="plain">  clag ISL           no                      clag ISL Oper UP     no</code></div>
<div class="line"><code class="plain">  clag role          unknown                 clag dual conn mac   0:0:0:0:0:0</code></div>
<div class="line"><code class="plain">  clag remote portID F.FFF                   clag system mac      0:0:0:0:0:0</code></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><code class="plain">cumulus@leaf2$ sudo ifup bond0</code></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><code class="plain">cumulus@leaf2$ mstpctl showportdetail bridge bond0</code></div>
<div class="line"><code class="plain">bridge:bond0 CIST info</code></div>
<div class="line"><code class="plain">  enabled            yes                     role                 Root</code></div>
<div class="line"><code class="plain">  port id            8.001                   state                forwarding</code></div>
<div class="line"><code class="plain">  external port cost 305                     admin external cost  0</code></div>
<div class="line"><code class="plain">  internal port cost 305                     admin internal cost  0</code></div>
<div class="line"><code class="plain">  designated root    8.000.6C:64:1A:00:4F:9C dsgn external cost   0</code></div>
<div class="line"><code class="plain">  dsgn regional root 8.000.6C:64:1A:00:4F:9C dsgn internal cost   0</code></div>
<div class="line"><code class="plain">  designated bridge  8.000.6C:64:1A:00:4F:9C designated port      8.001</code></div>
<div class="line"><code class="plain">  admin edge port    no                      auto edge port       yes</code></div>
<div class="line"><code class="plain">  oper edge port     no                      topology change ack  no</code></div>
<div class="line"><code class="plain">  point-to-point     yes                     admin point-to-point auto</code></div>
<div class="line"><code class="plain">  restricted role    no                      restricted TCN       no</code></div>
<div class="line"><code class="plain">  port hello time    2                       disputed             no</code></div>
<div class="line"><code class="plain">  bpdu guard port    no                      bpdu guard error     no</code></div>
<div class="line"><code class="plain">  network port       no                      BA inconsistent      no</code></div>
<div class="line"><code class="plain">  Num TX BPDU        3                       Num TX TCN           2</code></div>
<div class="line"><code class="plain">  Num RX BPDU        43                      Num RX TCN           1</code></div>
<div class="line"><code class="plain">  Num Transition FWD 1                       Num Transition BLK   0</code></div>
<div class="line"><code class="plain">  bpdufilter port    no                     </code></div>
<div class="line"><code class="plain">  clag ISL           no                      clag ISL Oper UP     no</code></div>
<div class="line"><code class="plain">  clag role          unknown                 clag dual conn mac   0:0:0:0:0:0</code></div>
<div class="line"><code class="plain">  clag remote portID F.FFF                   clag system mac      0:0:0:0:0:0</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-BridgeAssurance">
        <h2 class="heading "><span>Bridge Assurance</span></h2>
    <p  ><span id="src-5126866_indexterm-1D1A5282030FF31CE112947EBC3A4AFE">On</span><span id="src-5126866_indexterm-ED6021A629D4E85F4CE68BACB14EBD58"> a point-to-point </span>link where RSTP is running, if you want to detect unidirectional links and put the port in a discarding state (in error), you can enable bridge assurance on the port by enabling a port type network. The port would be in a bridge assurance inconsistent state until a BPDU is received from the peer. You need to configure the port type network on both the ends of the link in order for bridge assurance to operate properly.    </p>
    <p  >The default setting for bridge assurance is off. This means that there is no difference between disabling bridge assurance on an interface and not configuring bridge assurance on an interface.    </p>
    <div  class="confbox admonition admonition-info has-no-icon">
                    <p class="title">Example Bridge Assurance Configuration</p>
                        <div class="admonition-body">
    <p  >To enable bridge assurance on an interface, add the <tt class=" ">portnetwork</tt> option to the interface:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net add interface swp1 stp portnetwork</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net pending</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net commit</code></div>
</div>
    </div>
    <p  >This creates the following interface stanza:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">auto swp1</code></div>
<div class="line"><code class="plain">iface swp1</code></div>
<div class="line"><code class="plain">    mstpctl-portnetwork yes</code></div>
</div>
    </div>
        </div>
    </div>
    <p  >You can monitor logs for bridge assurance messages by doing the following:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ sudo grep -in assurance /var/log/syslog | grep mstp</code></div>
<div class="line"><code class="plain"> 1365:Jun 25 18:03:17 mstpd: br1007:swp1.1007 Bridge assurance inconsistent</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-BPDUFilter">
        <h2 class="heading "><span>BPDU Filter</span></h2>
    <p  ><span id="src-5126866_indexterm-DD2FC5F601825EE149135C212D3EE1AE">You can enable </span><tt class=" ">bpdufilter</tt> on a switch port, which filters BPDUs in both directions. This effectively disables STP on the port as no BPDUs are transiting.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Using BDPU filter inappropriately can cause layer 2 loops. Use this feature deliberately and with extreme caution.    </p>
        </div>
    </div>
    <div  class="confbox admonition admonition-info has-no-icon">
                    <p class="title">Example BPDU Filter Configuration</p>
                        <div class="admonition-body">
    <p  >To configure the BPDU filter, add the <tt class=" ">portbpdufilter</tt> option to the interface:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">cumulus@switch:~$ net add interface swp6 stp portbpdufilter</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net pending</code></div>
<div class="line"><code class="plain">cumulus@switch:~$ net commit</code></div>
</div>
    </div>
    <p  >These commands create the following stanza in the <tt class=" ">/etc/network/interfaces</tt> file:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">auto swp6</code></div>
<div class="line"><code class="plain">iface swp6</code></div>
<div class="line"><code class="plain">    mstpctl-portbpdufilter yes</code></div>
</div>
    </div>
        </div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-StormControl">
        <h2 class="heading "><span>Storm Control</span></h2>
    <p  ><i class=" "><span id="src-5126866_indexterm-5E1FC811BB18D6565C1CD5725E336D25">Storm </span>control</i><span id="src-5126866_indexterm-DD1C92030AEE8725D4ECC2E171CEB33A"> </span>provides protection against excessive inbound BUM (broadcast, unknown unicast, multicast) traffic on layer 2 switch port interfaces, which can cause poor network performance.    </p>
    <p  >You configure storm control for each physical port by editing <tt class=" ">/etc/cumulus/switchd.conf</tt>. The configuration persists across reboots and restarting <tt class=" ">switchd</tt>. If you change the storm control configuration in this file after rebooting the switch, you must <a   href="Configuring_switchd.html#src-5126758_Configuringswitchd-restartswitchd">restart <tt class=" ">switchd</tt> </a>to activate the new configuration.    </p>
    <p  >To enable broadcast and multicast storm control at 400 packets per second (pps) and 3000 pps, respectively, for swp1 with <tt class=" ">/etc/cumulus/switchd.conf:</tt>    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain"># Storm Control setting on a port, in pps, 0 means disable</code></div>
<div class="line"><code class="plain">interface.swp1.storm_control.broadcast = 400</code></div>
<div class="line"><code class="plain">interface.swp1.storm_control.multicast = 3000</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-5126866_SpanningTreeandRapidSpanningTree-paramsConfiguringOtherSpanningTreeParameters">
        <h2 class="heading "><span id="src-5126866_SpanningTreeandRapidSpanningTree-params" class="confluence-anchor-link"></span><span>Configuring Other Spanning Tree Parameters</span></h2>
    <p  ><span id="src-5126866_indexterm-ECE2AA6D04302D6FD4F4A9F7CA6FC89E">Spanning tree </span>parameters are defined in the IEEE <a  class="external-link" href="http://standards.ieee.org/getieee802/download/802.1D-2004.pdf">802.1D</a>, <a  class="external-link" href="http://standards.ieee.org/getieee802/download/802.1Q-2005.pdf">802.1Q</a> specifications and in the table below.    </p>
    <p  >For a comparison of STP parameter configuration between <tt class=" ">mstpctl</tt> and other vendors, <a  class="external-link" href="https://support.cumulusnetworks.com/hc/en-us/articles/206908397">please read this knowledge base article</a>.    </p>
    <p  >The table below describes the configuration parameters available.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >You configure these parameters using NCLU on the interfaces, not the bridge itself. Most of these parameters are blacklisted in <tt class=" ">netd.conf</tt> in the ifupdown_blacklist.    </p>
        </div>
    </div>
    <div  class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
        <p  >Parameter    </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
        <p  >NCLU Command<br/>net add interface &lt;interface&gt; stp ...    </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
        <p  >Description    </p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-maxage</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">maxage</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">maximum age</i> to <tt class=" ">&lt;max_age&gt;</tt> seconds. The default is <i class=" ">20</i>. The maximum age must meet the condition 2 * (Bridge Forward Delay - 1 second) &gt;= Bridge Max Age.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-ageing</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">ageing</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the Ethernet (MAC) address <i class=" ">ageing time</i> in <tt class=" ">&lt;time&gt;</tt> seconds for the bridge when the running version is STP, but not RSTP/MSTP. The default is <i class=" ">300</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-fdelay</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">fdelay</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">bridge forward delay</i> to <tt class=" ">&lt;time&gt;</tt> seconds. The default is <i class=" ">15</i>. The bridge forward delay must meet the condition 2 * (Bridge Forward Delay - 1 second) &gt;= Bridge Max Age.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-maxhops</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">maxhops</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">maximum hops</i> to <tt class=" ">&lt;max_hops&gt;</tt>. The default value is <i class=" ">20</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-txholdcount</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">txholdcount</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">bridge transmit hold count</i> to <tt class=" ">&lt;tx_hold_count&gt;</tt>. The default is <i class=" ">6</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-forcevers</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">forcevers</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">force STP version</i> to either RSTP/STP. MSTP is not supported currently. The default is <i class=" ">RSTP</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-treeprio</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">treeprio</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">tree priority</i> to <tt class=" ">&lt;priority&gt;</tt> for an MSTI instance. The priority value is a number between 0 and 65535 and must be a multiple of 4096. The bridge with the lowest priority is elected the <i class=" ">root bridge</i>. The default is <i class=" ">32768</i>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >For <tt class=" ">msti</tt>, only 0 is supported currently.    </p>
        </div>
    </div>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-treeportprio</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">treeportprio</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the <i class=" ">priority</i> of port <tt class=" ">&lt;port&gt;</tt> to <tt class=" ">&lt;priority&gt;</tt> for the MSTI instance. The priority value is a number between 0 and 240 and must be a multiple of 16. The default is <i class=" ">128</i>.    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >For <tt class=" ">msti</tt>, only <i class=" ">0</i> is supported currently.    </p>
        </div>
    </div>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-hello</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">hello</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the bridge's <i class=" ">bridge hello time</i> to <tt class=" ">&lt;time&gt;</tt> seconds. The default is <i class=" ">2</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portpathcost</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portpathcost</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the <i class=" ">port cost</i> of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt> to <tt class=" ">&lt;cost&gt;</tt>. The default is <i class=" ">0</i>.    </p>
    <p  ><tt class=" ">mstpd</tt> supports only long mode; that is, 32 bits for the path cost.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portadminedge</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portadminedge</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the <i class=" ">initial edge state</i> of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt>. The default is <i class=" ">no</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portautoedge</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portautoedge</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the <i class=" ">auto transition</i> to/from the edge state of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt>. The default is <i class=" ">yes</i>.    </p>
    <p  ><i class=" ">portautoedge</i> is an enhancement to the standard PortAdminEdge (PortFast) mode, which allows for the automatic detection of edge ports.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Edge ports and access ports are not the same thing. Edge ports transition directly to the forwarding state and skip the listening and learning stages. Upstream topology change notifications are not generated when an edge port's link changes state. Access ports only forward untagged traffic; however, there is no such restriction on edge ports, which can forward both tagged and untagged traffic.    </p>
        </div>
    </div>
    <p  >When a BPDU is received on a port configured with portautoedge, the port ceases to be in the edge port state and transitions into a normal STP port.    </p>
    <p  >When BPDUs are no longer received on the interface, the port becomes an edge port, and transitions through the discarding and learning states before resuming forwarding.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portp2p</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portp2p</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the <i class=" ">point-to-point detection mode</i> of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt>. The default is <i class=" ">auto</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portrestrrole</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portrestrrole</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the ability of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt> to take the <i class=" ">root role</i>. The default is <i class=" ">no</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portrestrtcn</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portrestrtcn</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the ability of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt> to propagate <i class=" ">received topology change notifications</i>. The default is <i class=" ">no</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portnetwork</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portnetwork</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the <i class=" ">bridge assurance capability</i> for a network port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt>. The default is <i class=" ">no</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-bpduguard</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">bpduguard</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the <i class=" ">BPDU guard configuration</i> of the port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt>. The default is <i class=" ">no</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-portbpdufilter</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">portbpdufilter</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Enables/disables the <i class=" ">BPDU filter</i> functionality for a port <tt class=" ">&lt;port&gt;</tt> in bridge <tt class=" ">&lt;bridge&gt;</tt>. The default is <i class=" ">no</i>.    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">mstpctl-</tt> treeportcost    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  ><tt class=" ">treeportcost</tt>    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  >Sets the spanning tree <i class=" ">port cost</i> to a value from 0 to 255. The default is <i class=" ">0</i>.    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    </div>
    <div class="section section-1" id="src-5126866_SpanningTreeandRapidSpanningTree-CaveatsandErrata">
        <h1 class="heading "><span>Caveats and Errata</span></h1>
<ul class=" "><li class=" ">    <p  >MSTP is not supported currently. However, interoperability with MSTP networks can be accomplished using PVRSTP or PVSTP.    </p>
</li></ul>    </div>
    <div class="section section-1" id="src-5126866_SpanningTreeandRapidSpanningTree-RelatedInformation">
        <h1 class="heading "><span>Related Information</span></h1>
    <p  >The source code for <tt class=" ">mstpd</tt>/<tt class=" ">mstpctl</tt> was written by <a  class="external-link" href="mailto:vitas%40nppfactor.kiev.ua">Vitalii Demianets</a> and is hosted at the sourceforge URL below.    </p>
<ul class=" "><li class=" ">    <p  ><a  class="external-link" href="https://sourceforge.net/projects/mstpd/">Sourceforge - mstpd project</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="http://en.wikipedia.org/wiki/Spanning_Tree_Protocol">Wikipedia - Spanning Tree Protocol</a>    </p>
</li><li class=" ">    <p  >brctl(8)    </p>
</li><li class=" ">    <p  >bridge-utils-interfaces(5)    </p>
</li><li class=" ">    <p  >ifupdown-addons-interfaces(5)    </p>
</li><li class=" ">    <p  >mstpctl(8)    </p>
</li><li class=" ">    <p  >mstpctl-utils-interfaces(5)    </p>
</li></ul>    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Layer_One_and_Two.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Layer One and Two</span>
        </a>
                <a href="Link_Layer_Discovery_Protocol.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Link Layer Discovery Protocol</span>
        </a>
    </nav>    
            
            <article id="html-search-results" class="ht-content" style="display: none;">
            <header class="ht-content-header">
                <div id="ht-spacetitle">
                    <ul>
                        <li><a href="Cumulus_Linux_User_Guide.html">Cumulus Linux 3.2.1</a></li>
                    </ul>
                </div>
                <h1>Search results</h1>
            </header>
            <div id="search-results"></div>
        </article>
    
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


</body>
</html>
