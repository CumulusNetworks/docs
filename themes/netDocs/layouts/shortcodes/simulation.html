{{ if .Parent }}
  {{ $simName := .Get "name" }}
  {{ $autoLoad := default "all" (.Get "showNodes") }}
  <head>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script type="text/javascript" id="sim-script-{{ $simName }}">
      const sim = new Simulation('{{ $simName }}', '{{ $autoLoad }}');
      sim.initHandler(document.getElementById('sim-script-{{ $simName }}').parentElement.previousElementSibling);
    </script>
  </head>
<body>

  <form id="myform" action="?">
   <button class="g-recaptcha" data-sitekey="6LerLacfAAAAAKg8VWyDZrhsBK3tIkO41fswN2k_" data-callback='sim-script-{{ $simName }}'>Launch Simulation</button>
   <br/>
  </form>

  <iframe name="loading-container-{{ $simName }}" class="terminal-iframe loading-container"></iframe>
  <iframe name="console-container-{{ $simName }}" class="terminal-iframe terminal-hidden"></iframe>
  
</body>

{{ end }}